% header -----------------------------------------------------------------------
% Template created by texnew (author: Alex Rutar); info can be found at 'https://github.com/alexrutar/texnew'.
% version (1.13)


% doctype ----------------------------------------------------------------------
\documentclass[11pt, a4paper]{memoir}
\usepackage[utf8]{inputenc}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=4cm]{geometry}
\usepackage[protrusion=true,expansion=true]{microtype}


% packages ---------------------------------------------------------------------
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{graphicx}
\usepackage{etoolbox}
\usepackage{braket}

% Set enimitem
\usepackage{enumitem}
\SetEnumitemKey{nl}{nolistsep}
\SetEnumitemKey{r}{label=(\roman*)}
\SetEnumitemKey{a}{label=(\alph*)}

% Set tikz
\usepackage{tikz, pgfplots}
\pgfplotsset{compat=1.15}
\usetikzlibrary{intersections,positioning,cd}
\usetikzlibrary{arrows,arrows.meta}
\tikzcdset{arrow style=tikz,diagrams={>=stealth}}

% Set hyperref
\usepackage[hidelinks]{hyperref}
\usepackage{xcolor}
\newcommand\myshade{85}
\colorlet{mylinkcolor}{violet}
\colorlet{mycitecolor}{orange!50!yellow}
\colorlet{myurlcolor}{green!50!blue}

\hypersetup{
  linkcolor  = mylinkcolor!\myshade!black,
  citecolor  = mycitecolor!\myshade!black,
  urlcolor   = myurlcolor!\myshade!black,
  colorlinks = true,
}


% macros -----------------------------------------------------------------------
\DeclareMathOperator{\N}{{\mathbb{N}}}
\DeclareMathOperator{\Q}{{\mathbb{Q}}}
\DeclareMathOperator{\Z}{{\mathbb{Z}}}
\DeclareMathOperator{\R}{{\mathbb{R}}}
\DeclareMathOperator{\C}{{\mathbb{C}}}
\DeclareMathOperator{\F}{{\mathbb{F}}}

% Boldface includes math
\newcommand{\mbf}[1]{{\boldmath\bfseries #1}}

% proof implications
\newcommand{\imp}[2]{($#1\Rightarrow#2$)\hspace{0.2cm}}
\newcommand{\impe}[2]{($#1\Leftrightarrow#2$)\hspace{0.2cm}}
\newcommand{\impr}{{($\Longrightarrow$)\hspace{0.2cm}}}
\newcommand{\impl}{{($\Longleftarrow$)\hspace{0.2cm}}}

% align macros
\newcommand{\agspace}{\ensuremath{\phantom{--}}}
\newcommand{\agvdots}{\ensuremath{\hspace{0.16cm}\vdots}}

% convenient brackets
\newcommand{\brac}[1]{\ensuremath{\left\langle #1 \right\rangle}}
\newcommand{\norm}[1]{\ensuremath{\left\lVert#1\right\rVert}}
\newcommand{\abs}[1]{\ensuremath{\left\lvert#1\right\rvert}}

% arrows
\newcommand{\lto}[0]{\ensuremath{\longrightarrow}}
\newcommand{\fto}[1]{\ensuremath{\xrightarrow{\scriptstyle{#1}}}}
\newcommand{\hto}[0]{\ensuremath{\hookrightarrow}}
\newcommand{\mapsfrom}[0]{\mathrel{\reflectbox{\ensuremath{\mapsto}}}}
 
% Divides, Not Divides
\renewcommand{\div}{\bigm|}
\newcommand{\ndiv}{%
    \mathrel{\mkern.5mu % small adjustment
        % superimpose \nmid to \big|
        \ooalign{\hidewidth$\big|$\hidewidth\cr$/$\cr}%
    }%
}

% Convenient overline
\newcommand{\ol}[1]{\ensuremath{\overline{#1}}}

% Big \cdot
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother

% Big and small Disjoint union
\makeatletter
\providecommand*{\cupdot}{%
  \mathbin{%
    \mathpalette\@cupdot{}%
  }%
}
\newcommand*{\@cupdot}[2]{%
  \ooalign{%
    $\m@th#1\cup$\cr
    \sbox0{$#1\cup$}%
    \dimen@=\ht0 %
    \sbox0{$\m@th#1\cdot$}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}

\providecommand*{\bigcupdot}{%
  \mathop{%
    \vphantom{\bigcup}%
    \mathpalette\@bigcupdot{}%
  }%
}
\newcommand*{\@bigcupdot}[2]{%
  \ooalign{%
    $\m@th#1\bigcup$\cr
    \sbox0{$#1\bigcup$}%
    \dimen@=\ht0 %
    \advance\dimen@ by -\dp0 %
    \sbox0{\scalebox{2}{$\m@th#1\cdot$}}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}
\makeatother


% macros (theorem) -------------------------------------------------------------
\usepackage[thmmarks,amsmath,hyperref]{ntheorem}
\usepackage[capitalise,nameinlink]{cleveref}

% Numbered Statements
\theoremstyle{change}
\theoremindent\parindent
\theorembodyfont{\itshape}
\theoremheaderfont{\bfseries\boldmath}
\newtheorem{theorem}{Theorem.}[section]
\newtheorem{lemma}[theorem]{Lemma.}
\newtheorem{corollary}[theorem]{Corollary.}
\newtheorem{proposition}[theorem]{Proposition.}

% Claim environment
\theoremstyle{plain}
\theorempreskip{0.2cm}
\theorempostskip{0.2cm}
\theoremheaderfont{\scshape}
\newtheorem{claim}{Claim}
\renewcommand\theclaim{\Roman{claim}}
\AtBeginEnvironment{theorem}{\setcounter{claim}{0}}
\newtheorem{ppart}{Part}
\renewcommand\theppart{\Roman{ppart}}
\AtBeginEnvironment{theorem}{\setcounter{ppart}{0}}

% Un-numbered Statements
\theorempreskip{0.1cm}
\theorempostskip{0.1cm}
\theoremindent0.0cm
\theoremstyle{nonumberplain}
\theorembodyfont{\upshape}
\theoremheaderfont{\bfseries\itshape}
\newtheorem{definition}{Definition.}
\theoremheaderfont{\itshape}
\newtheorem{example}{Example.}
\newtheorem{remark}{Remark.}

% Proof / solution environments
\theoremseparator{}
\theoremheaderfont{\hspace*{\parindent}\scshape}
\theoremsymbol{$//$}
\newtheorem{solution}{Sol'n}
\theoremsymbol{$\blacksquare$}
\theorempostskip{0.4cm}
\newtheorem{proof}{Proof}
\theoremsymbol{}
\newtheorem{nmproof}{Proof}

% Format references
\crefformat{equation}{(#2#1#3)}
\Crefformat{theorem}{#2Thm. #1#3}
\Crefformat{lemma}{#2Lem. #1#3}
\Crefformat{proposition}{#2Prop. #1#3}
\Crefformat{corollary}{#2Cor. #1#3}
\crefformat{theorem}{#2Theorem #1#3}
\crefformat{lemma}{#2Lemma #1#3}
\crefformat{proposition}{#2Proposition #1#3}
\crefformat{corollary}{#2Corollary #1#3}


% macros (algebra) -------------------------------------------------------------
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\chr}{char}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\disc}{disc}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Fix}{Fix}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Nil}{Nil}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\Res}{Res}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\Stab}{Stab}
\DeclareMathOperator{\Tor}{Tor}

% Lagrange symbol
\newcommand{\lgs}[2]{\ensuremath{\left(\frac{#1}{#2}\right)}}

% Quotient (larger in display mode)
\newcommand{\quot}[2]{\mathchoice{\left.\raisebox{0.14em}{$#1$}\middle/\raisebox{-0.14em}{$#2$}\right.}
                                 {\left.\raisebox{0.08em}{$#1$}\middle/\raisebox{-0.08em}{$#2$}\right.}
                                 {\left.\raisebox{0.03em}{$#1$}\middle/\raisebox{-0.03em}{$#2$}\right.}
                                 {\left.\raisebox{0em}{$#1$}\middle/\raisebox{0em}{$#2$}\right.}}


% macros (analysis) ------------------------------------------------------------
\DeclareMathOperator{\M}{{\mathcal{M}}}
\DeclareMathOperator{\B}{{\mathcal{B}}}
\DeclareMathOperator{\ps}{{\mathcal{P}}}
\DeclareMathOperator{\pr}{{\mathbb{P}}}
\DeclareMathOperator{\E}{{\mathbb{E}}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\sgn}{sgn}

\renewcommand{\Re}{\ensuremath{\operatorname{Re}}}
\renewcommand{\Im}{\ensuremath{\operatorname{Im}}}
\renewcommand{\d}[1]{\ensuremath{\operatorname{d}\!{#1}}}


% file-specific preamble -------------------------------------------------------
\newcommand{\defname}[1]{{\textit{(#1)}:}}
\newcommand{\exname}[1]{{\textit{#1}:}}
\newcommand{\defn}[1]{{\boldmath\bfseries #1}}
% \usepackage{therefore}
\newcommand{\TODO}[1]{[\textit{\textbf{TODO: #1}}]}
\newcommand{\NOTE}[1]{[\textit{\textbf{NOTE: #1}}]}
\DeclareMathOperator*{\esssup}{ess\,sup}
\DeclareMathOperator{\ext}{ext}
\DeclareMathOperator{\conv}{conv}
\DeclareMathOperator{\dist}{dist}
\newcommand{\mae}{\ensuremath{\,\operatorname{a.e.}}}
\DeclareMathOperator{\Pol}{Pol}
\DeclareMathOperator{\SO}{SO}
\newcommand{\cwx}{\ensuremath{\overline{\operatorname{conv}}^{w^*}\,}}
\newcommand{\idc}[1]{\ensuremath{\mathbf{1}_{#1}}}
\newcommand{\FA}{\ensuremath{\operatorname{F}\!\operatorname{A}}}
\newcommand{\cw}{\ensuremath{\overline{\operatorname{conv}}\,}}

% Tons of notation:
% \newcommand{\Lip}[1]{\ensuremath{\operatorname{Lip}_{\F}(#1)}}
\newcommand{\Lipspace}{\ensuremath{\operatorname{Lip}_{\F}(X,d)}}


\newcommand{\lp}[1]{\ensuremath{\ell^{#1}}}
\newcommand{\csn}{\ensuremath{\mathbf{c}}}
\newcommand{\csz}{\ensuremath{\mathbf{c}_0}}
\newcommand{\lpspace}[1]{\ensuremath{\ell^{#1}_{\F}}}
\newcommand{\Lp}[1]{\ensuremath{L^{#1}_{\F}}}
% \newcommand{\Lpm}{\ensuremath{L^{#1}_{\F}(X,\mathcal{M},\mu)}}
\DeclareMathOperator{\Lip}{Lip}
\newcommand{\lbr}[1]{\ensuremath{\left[#1\right]}}
\newcommand{\inr}[1]{\ensuremath{\left(#1\right)}}


% constants --------------------------------------------------------------------
\newcommand{\subject}{Harmonic Analysis}
\newcommand{\semester}{Winter 2020}


% formatting -------------------------------------------------------------------
% Fonts
\usepackage{kpfonts}
\usepackage{dsfont}

% Adjust numbering
\numberwithin{equation}{section}
\counterwithin{figure}{section}
\counterwithout{section}{chapter}
\counterwithin*{chapter}{part}

% Footnote
\setfootins{0.5cm}{0.5cm} % footer space above
\renewcommand*{\thefootnote}{\fnsymbol{footnote}} % footnote symbol

% Table of Contents
\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand*{\cftchaptername}{Chapter } % Place 'Chapter' before roman
\setlength\cftchapternumwidth{4em} % Add space before chapter name
\cftpagenumbersoff{chapter} % Turn off page numbers for chapter
\maxtocdepth{subsection} % table of contents up to section

% Section / Subsection headers
\setsecnumdepth{subsection} % numbering up to and including "subsection"
\newcommand*{\shortcenter}[1]{%
    \sethangfrom{\noindent ##1}%
    \Large\boldmath\scshape\bfseries
    \centering
\parbox{5in}{\centering #1}\par}
\setsecheadstyle{\shortcenter}
\setsubsecheadstyle{\large\scshape\boldmath\bfseries\raggedright}

% Chapter Headers
\chapterstyle{verville}

% Page Headers / Footers
\copypagestyle{myruled}{ruled} % Draw formatting from existing 'ruled' style
\makeoddhead{myruled}{}{}{\scshape\subject}
\makeevenfoot{myruled}{}{\thepage}{}
\makeoddfoot{myruled}{}{\thepage}{}
\pagestyle{myruled}
\setfootins{0.5cm}{0.5cm}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}

% Titlepage
\title{\subject}
\author{Alex Rutar\thanks{\itshape arutar@uwaterloo.ca}\\ University of Waterloo}
\date{\semester\thanks{Last updated: \today}}

\begin{document}
\pagenumbering{gobble}
\hypersetup{pageanchor=false}
\maketitle
\newpage
\frontmatter
\hypersetup{pageanchor=true}
\tableofcontents*
\newpage
\mainmatter


% main document ----------------------------------------------------------------
\chapter{Harmonic Analysis}
\section{Locally Compact Groups}
\begin{definition}
    Let $G$ be a group.
    A topology $\tau$ on $G$ is a \defn{group topology} provided that
    \begin{itemize}[nl]
        \item $x\mapsto x^{-1}:G\to G$ is continuous, and
        \item $(x,y)\mapsto xy:G\times G\to G$ is continuous.
    \end{itemize}
    We call $(G,\tau)$ a \defn{topological group} where we omit $\tau$ when it is clear from context.
\end{definition}
Equivalently, we may assert that $(x,y)\mapsto xy^{-1}$ is $\tau\times\tau-\tau-$continuous.
Write $L_g(x)=gx$ and $R_g(x)=xg$ to denote the left and right multiplication maps; then it is easy to see that $L_g$ and $R_g$ are homeomorphisms.
Similarly, $x\mapsto x^{-1}$ is a homeomorphism.
\begin{definition}
    We say that a subset $A\subset G$ is \defn{symmetric} if $A^{-1}=A$.
\end{definition}
We have the following basic properties:
\begin{proposition}\label{p:tgrp}
    Let $(G,\tau)$ be a topological group.
    \begin{enumerate}[nl,r]
        \item If $\emptyset\neq A\subseteq G$ and $U$ is open, then $AU=\{ay:a\in A,y\in U\}$ and likewise $UA$ are open.
        \item Given $U\in\tau$ and $x\in U$, then there is a symmetric $V\in\tau$ with $e\in V$ such that $VxV\subseteq U$.
            In particular, if $e\in U$, then we can find symmetric $V$ so that $V^2\subseteq U$.
        \item If $H$ is a subgroup of $G$, then $\overline{H}$ is also a subgroup.
        \item An open subgroup is automatically closed.
        \item If $K,L\subseteq G$ are compact, then $KL$ is compact.
        \item If $K$ is compact and $C$ is closed in $G$, then $KC$ is closed.
    \end{enumerate}
\end{proposition}
In $(\R,+)$, then $\Z+\sqrt{2}\Z$ is not closed, so it is necessary to assume compactness in (vi).
\begin{proof}
    \begin{enumerate}[nl,r]
        \item $AU=\bigcup_{a\in A}L_a(U)$ is a union of open sets.
        \item Consider the continuous map $(y,z)\mapsto yxz$.
            Since $exe=x\in U$, there is a $\tau\times\tau-$neighbourhood of $(e,e)$ which maps into $U$ have a basic neighbourhood $V_1\times V_2$.
            Let $V=V_1\cap V_2$.
            Moreover, we may replace $V$ by $V^{-1}\cap V$. to attain symmetry.
        \item Let $x,y\in\ol{H}$, $U\in\tau$ with $xy\in U$.
            Then (ii) provides $V$ with $VxyV\subseteq U$.
            But $Vx\cap H\neq\emptyset$ and $\neq yV\cap H$ so there are $_1\in Vx\cap H$, $h_2\in yV\cap H$, and $h_1h_2\in VxyV\subseteq U$.
            Thus $U\cap H\neq\emptyset$.
            Thus $xy\in\ol{H}$.

            To use nets for inverses, if $x\in\ol{H}$, then $x=\lim_\alpha x_\alpha$ where $(x_\alpha)_{\alpha\in A}\subset H$ is a net.
            Then $x^{-1}=\lim_\alpha x_\alpha^{-1}\in\ol{H}$ as each $x_\alpha^{-1}\in H$.
        \item If $H$ is an open subgroup, then $H=G\setminus\bigcup_{x\in G\setminus H}xH$ is closed.
        \item $K\times L$ is compact, and hence so is its image under multiplication.
        \item If $x\in\ol{KC}$, then $x=\lim_\alpha k_\alpha x_\alpha$ where $k_\alpha\in H$ and $x_\alpha\in C$.
            Since $K$ is compact, we may assume (passing to a subnet if necessary) $k=\lim_\alpha k_\alpha$ exists in $K$.
            Then
            \begin{equation*}
                k^{-1}x=\lim_\alpha k_\alpha^{-1}\cdot\lim_\alpha k_\alpha x_\alpha=\lim_\alpha k_\alpha^{-1}k_\alpha x_\alpha=\lim x_\alpha\in C
            \end{equation*}
            so $x=kk^{-1}x\in KC$.
    \end{enumerate}
\end{proof}
\subsection{Homogenous Spaces}
Let $(G,\tau)$ be a topological group, $H$ a subgroup of $G$, and $\quot{G}{H}=\{xH;x\in G\}$.
Let $\pi:G\to \quot{G}{H}$ be given by $\pi(x)=xH$ be the projection map.
The \defn{quotient topology} on $\quot{G}{H}$ is $\tau_{\quot{G}{H}}=\{W\in \quot{G}{H}:\pi^{-1}(W)\in\tau\}$.
Notice that if $U\in\tau\setminus\{\emptyset\}$, then $UH=\pi^{-1}(\pi(U))$ is open, so $\pi:G\to \quot{G}{H}$ is an open map.
\begin{proposition}
    Let $(G,\tau)$, $H$ be as above.
    \begin{enumerate}[nl,r]
        \item The map $(x,yH)\mapsto xyH:G\times\quot{G}{H}\to\quot{G}{H}$ is $\tau\times\tau_{\quot{G}{H}}-\tau_{\quot{G}{H}}$ continuous and open.
        \item If $H$ is normal, then $(\quot{G}{H},\tau_{\quot{G}{H}})$ is a topological group.
        \item If $H$ is closed, then $\tau_{\quot{G}{H}}$ is Hausdorff.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \begin{enumerate}[nl,r]
        \item Let $x,y\in G$, $W\in\tau_{\quot{G}{H}}$ satisfy $xyH=\pi(xy)\in W$.
            Then $xy\in\pi^{-1}(W)$ and by \cref{p:tgrp} we have $V\in\tau$ with $e\in V$ such that $VxyV\subseteq \pi^{-1}(W)$.
            But then $(x,\pi(y))\in Vx\times\pi(yV)\in \tau\times\tau_{\quot{G}{H}}$ and the latter set maps into $\pi(VxyV)\subseteq W$.

            Also, if $U\in\tau\times\tau_{\quot{G}{H}}$, then $U=\bigcup_{(x,yH)\in U}V_x\times W_{yH}$ and
            \begin{equation*}
                \pi(U)=\bigcup_{(x,yH)\in U}\pi(V_x\pi^{-1}(W_{yH}))
            \end{equation*}
            since $\pi$ is open.
        \item Recall that $(xH)(yH)=xyH$ is our multiplication operation on $\quot{G}{H}$ and $\pi$ is a group homomorphism.
            Then the following diagram commutes:
        % \begin{tikzcd}
            % M'\arrow[r,"f"]\arrow[rd,swap,"u"] & M\arrow[r,"g"]\arrow[d,"\alpha"] & M''\\
            % & M'\oplus M'' \arrow[ru,swap,"u"]
        % \end{tikzcd}
            % \begin{center}
                % \begin{tikzcd}
                    % G\times\quot{G}{H}\arrow[rd,"(x,yH)\mapsto xyH"]\arrow[d,"\pi\times\id"]\\
                    % \quot{G}{H}\times\quot{G}{H}\arrow[r,"(xH,yH)\mapsto xyH"] & \quot{G}{H}
                % \end{tikzcd}
            % \end{center}
            We have that $\pi\times\id$ is open and $(x,yH)\mapsto xyH$ is open from (i), so the multiplication from $\quot{G}{H}\times\quot{G}{H}\to\quot{G}{H}$ must be open and continuous.
        \item If $x,y\in G$ with $\pi(x)\neq\pi(y)$, then $e\notin xHy^{-1}$.
            Now $xHy^{-1}=L_x(R_{y^{-1}}(H))$ so $xHy^{-1}$ is closed.
            Hence by the last proposition, there is a symmetric open $V$ with $e\in V$ so $V^2\subseteq G\setminus(xHy^{-1})$.
            But then $e\notin (VxH)(VyH)^{-1}=VxHy^{-1}V$: if we had $e=vxhy^{-1}u$ with $v,u\in V$ and $h\in H$, then $v^{-1}u^{-1}=xhy^{-1}\in V^2\cap(xHy^{-1})=\emptyset$, a contradiction.
            Hence $VxH\cap VyH=\emptyset$ so $\pi(Vx)$, $\pi(Vy)$ is a pair of separating neighbourhoods of $\pi(x)$, $\pi(y)$.
    \end{enumerate}
\end{proof}
\begin{corollary}
    $G$ is Hausdorff if and only if there exists $x\in G$ so that $\{x\}$ is closed.
\end{corollary}
\begin{proof}
    In a Hausdorff space, points are closed.
    Conversely, if $\{x\}$ is closed, $\{e\}=L_{x^{-1}}(\{x\})$ is closed and a normal subgroup.
    Then $G\cong\quot{G}{\{e\}}$ is Hausdorff.
\end{proof}
If $(G,\tau)$ is not Hausdorff, then $\{e\}\subsetneq\overline\{e\}$ is the smallest closed subgrup in $G$.
Thus $\overline{\{e\}}\subseteq\bigcap_{x\in G}x\overline{\{e\}}x^{-1}\subseteq\overline{\{x\}}$ so $\overline{\{e\}}$ is normal.
In particular, $\quot{G}{\overline{\{e\}}}$ is Hausdorff.
\begin{definition}
    A \defn{locally compact group} is a Hausdorff topological group $(G,\tau)$ which is locally compact.
\end{definition}
\begin{enumerate}[nl,r]
    \item If there is any $U\in\tau\setminus\{\emptyset\}$ such that $\overline{U}$ is compact, then for any $x\in U$, we have $e\in x^{-1}U\subseteq L_{x^{-1}}(\overline{U})$ so $\overline{x^{-1}U}$ is compact.
        If $V\in\tau$ with $e\in V$ and $\overline{V}$ compact, then for any $x\in H$, $x\in xV$ and $\overline{xV}\subseteq L_x(\overline{V})$ and $\overline{xV}$ is compact.
        In particular, $(G,\tau)$ is locally compact if and only if there is some $U\in\tau\setminus\{\emptyset\}$ with $\overline{U}$ compact.
    \item If $(G,\tau)$ is locally cmpact and $N$ is a closed normal subgroup, then $(\quot{G}{N},\tau_{\quot{G}{N}})$ is locally compact.
        Indeed, $U\in\tau\setminus\{e\}$ with $\overline{U}$ compact, then $\overline{\pi(U)}\subseteq\pi(\overline{U})$ is compact.
\end{enumerate}
\begin{example}
    \begin{enumerate}[nl,r]
        \item If $G$ is any group and $\tau$ is the discrete topology, then $(G,\tau_d)$ is locally compact.
        \item If $((\R,+),\tau_{\norm{\cdot}})$ is locally compact.
        \item If $\{G_i\}_{i\in I}$ is a family of locally compact groups, then $\prod_{i\in I}G_i$ is a locally compact group if and only if all but finitely many $(G_i,\tau_i)$ are compact.
        \item $((\R^n,+),\tau_{\norm{\cdot}})$ is a locally compact group
        \item Suppose $\{F_i\}_{i\in I}$ is an infinite family of finite groups (with discrete topologies), then $G=\prod_{i\in I}F_i$ is a compact group.
            If $F\subset I$ is finite, then $N_F=\{(x_i)_{i\in I}\in G:x_i=e\text{ for }i\in F\}$ is open and a normal subgroup.
            $\{N_F:F\subset I\text{ finite}\}$ is a base for the topology at $e$.
        \item Let $(\mathfrak{k},\tau)$ be a locally compact field..
            Then $\det^{-1}(\mathfrak{k}\setminus\{0\})=\GL_n(\mathfrak{k})\subseteq M_n(\mathfrak{k})\cong\mathfrak{k}^{n^2}$ is an open subset and multiplicative subgroup, and hence locally compact.
            Notice that multiplication is governed by linear equations, and hence continuous, while inversion is continuous thanks to Cramer's rule.

            Here are some common closed subgroups:
            \begin{align*}
                \det^{-1}(\{1\})&=\SL_n(\mathfrak{k})\\
                O_n(\mathfrak{k})=\{x\in\GL_n(\mathfrak{k}):x^{-1}=X^T\}
            \end{align*}
            As a special case, consider $U_n=\{x\in\GL_n(\C):x^*=x^{-1}\}$ is governed by continuous equations, and thus closed in $M_n(\C)$.
            Furthermore, $U_n$ is bounded in $M_n(\C)$, and hence compact.
    \end{enumerate}
\end{example}
\subsection{\texorpdfstring{$p$}{p}-adic Numbers}
Let $p$ be a prime in $\N$.
We will establish product structures and topologies on
\begin{align*}
    \mathbb{O}_p&=\left\{\sum_{k=0}^\infty a_kp^k:a_k\in\{0,1,\ldots,p-1\}\right\}\cong\{0,1,\ldots,p-1\}^{\N}\\
    \mathbb{Q}_p&=\left\{\sum_{k=N}^\infty a_kp^k:N\in\Z, a_k\in\{0,1,\ldots,p-1\}\right\}
\end{align*}
are topological rings and a topological field respectively.
Let $R_p=\prod_{n=0}^\infty\quot{\Z}{p^{n+1}\Z}$ which is a ring under pointwise operations.
\begin{lemma}
    The map $\rho:R_p\times R_p\to[0,1]$ given by
    \begin{align*}
        \rho(x,y)&=\sum_{n\in\N_0}\frac{\rho_n(x_n,y_n)}{p^n} & &\rho_n(x_n,y_n)=\begin{cases}1 &:x_n=y_n\\ 0 &:x_n\neq y_n\end{cases}
    \end{align*}
    is a metric on $R_p$ which satisfies
    \begin{itemize}[nl]
        \item \defname{additively invariant}
            $\rho(x+z,y+z)=\rho(x,y)$ for $x,y,z\in R_p$
        \item $\tau_\rho$ is the product topology
    \end{itemize}
\end{lemma}
\begin{proof}
    Additive invariance is routine.
    Notice that if $\frac{1}{p^m}\geq\epsilon>\frac{1}{p^{m+1}}$, then the open $\epsilon-$ball around a point $x$ is $\{x_0\}\times\cdots\{x_m\}\times\prod_{n=m+1}^\infty\quot{\Z}{p^{n+1}\Z}$ is product-open.
    Conversely, any product-open set is a finite union of such $\epsilon-$balls.
\end{proof}
\begin{corollary}
    The function $\norm{x}_p=\rho(x,0)$ in $R_p$ satisfies
    \begin{itemize}[nl]
        \item $\norm{x}_p=0$ if and only if $x=0$
        \item $\norm{x+y}_p\leq\norm{x}_p+\norm{y}_p$
        \item $\norm{xy}_p\leq\norm{x}_p\norm{y}_p$
        \item $\norm{-x}_p=\norm{x}_p$
    \end{itemize}
    Hence $(R_p,\tau_\rho)$ is a compact topological ring.
\end{corollary}
\begin{proof}
    The properties follow directly using additive invariance.
    To see that $R_p$ is a topological ring, if $(x_\alpha),(y_\alpha)$ have $x=\lim x_\alpha$ and $y=\lim y_\alpha$, then, for example,
    \begin{align*}
        \norm{xy-x_\alpha y_\alpha}_p&\leq\norm{xy-x_\alpha y}_p+\norm{x_\alpha y-x_\alpha y_\alpha}_p\\
                                     &\leq\norm{x-x_\alpha}_p+\norm{y-y_\alpha}_p
    \end{align*}
    as $\norm{y}_p$, $\norm{x_\alpha}_p\leq 1$.
\end{proof}
We now view $\mathbb{O}_p$ as a closed subring of $R_p$.
Define $\alpha:\mathcal{O}_p\to R_p$ be given on $a=\sum_{k=0}^\infty a_kp^k$ by
\begin{equation*}
    \alpha(a) = \left(\sum_{k=0}^n a_kp^k+p^{n+1}\Z\right)_{n=0}^\infty.
\end{equation*}
This map is an injection with range $\alpha(\mathcal{O}_p)=\{(x_n)_{n=0}^\infty\in R_p:x_n=\pi_n(x_{n+1})\text{ for all }n\}$ where $\pi_n:\quot{\Z}{p^{n+2}\Z}\to\quot{\Z}{p^{n+1}\Z}$ is the canonical quotient map.
In fact, this is called an inductive limit with respect to the maps $\pi_n$.
Hence it is routine to show that
\begin{itemize}[nl]
    \item $\alpha(\mathbb{O}_p)$ is a subring of $R_p$, and
    \item $\alpha(\mathbb{O}_p)$ is closed in $R_p$ (just check net limits in product topology)
\end{itemize}
If $a,b\in\mathbb{O}_p$, define $a+b=\alpha^{-1}(\alpha(a)+\alpha(b))$.
\begin{remark}
    \begin{enumerate}[nl,r]
        \item $1+\sum_{k=1}^\infty 0\cdot p^k$ is the multiplicative identity in $\mathbb{O}_p$.
            Then $-1=\sum_{k=0}^\infty(p-1)p^k$.
        \item If $n\in\N$, we can uniquely write $n=\sum_{k=0}^{m(n)} a_kp^k$ with $a_k\in\{0,\ldots,p-1\}$.
            Then $n\cdot 1=\sum_{k=0}^{m(n)}a_kp^k\in\mathbb{O}_p$.
            In particular, $n\mapsto n\cdot 1:\N\to\mathbb{O}_p$ is an additive semigroup homomorphism with dense ring.
            Hence $n\mapsto n\cdot 1:\Z\to \mathbb{Q}_p$ has dense range.
            We call $\mathbb{O}_p$ the \defn{$p-$adic integers}.
    \end{enumerate}
\end{remark}

Let $a=\sum_{k=0}^\infty a_kp^k$ in $\mathbb{O}_p$.
Let
\begin{align*}
    \nu_p(a) &= \min\{k\in\N_0:a_k\neq 0\},\min\emptyset=-\infty\\
    |a|_p=p^{-\nu_p(a)},p^{-\infty}=0
\end{align*}
and notice that $|a|_p=\norm{\alpha(a)}_p$.
However, $|a|_p$ has even nicer properties:
\begin{enumerate}[nl,r]
    \item $|a|_p=0$ if and only if $a=0$
    \item $\nu_p(ab)=\nu_p(a)+\nu_p(b)$.
        Thus $|ab|_p=|a|_p|b|_p$
    \item $\nu_p(a+b)\geq\min\{\nu_p(a),\nu_p(b)\}$.
        Thus $|a+b|_p\leq\max\{|a|_p,|b|_p\}\leq|a|_p+|b|_p$
\end{enumerate}
Notice that (i) and (ii) imply that $\mathbb{O}_p$ is an integral domain.
\begin{proposition}
    The multiplicative unit group of $\mathbb{O}_p$ is $\mathbb{O}_p\setminus p\mathbb{O}_p=\{a\in\mathbb{O}_p:|a|_p=1\}$.
    Hence $\mathbb{O}_p^\times$ is open and a topological group.
\end{proposition}
\begin{proof}
    The second equality is trivial.
    If $a\in\mathbb{O}_p^\times$, then $|a|_p$, $|a^{-1}|_p\leq 1$ and $1=|1|_p=|aa^{-1}|_p=|a|_p|a^{=1}|_p$, so $|a|_p=1$.
    If $|a|_p=1$, let
    \begin{equation*}
        x=\alpha(a)=\left(\sum_{k=0}^n a_kp^k+p^{n+1}\Z\right)_{n=0}^\infty\in R_p.
    \end{equation*}
    Then $x_n\in(\Z/p^{n+1}\Z)^\times$ since $p\nmid\sum_{k=0}^n a_kp^k$ in $\Z$.
    Hence there is $y_n\in(\Z/p^{n+1}\Z)^\times$ so $x_ny_n=1+p^{n+1}\Z$ and thus
    \begin{equation*}
        1+p^n\Z=\pi_N(1+p^{n+2}\Z)=\pi_n(x_{n+1}y_{n+1})=\pi(x_{n+1})\pi(y_{n+1})=x_n\pi_n(y_{n+1})
    \end{equation*}
    so that $\pi_n(y_{n+1})=y_n$.
    Thus if $y\in\alpha(\mathbb{O}_p)$, i.e. $y=\alpha(b)$ with $ab=\alpha^{-1}(\alpha(a)\alpha(b))=\alpha^{-1}((1+p^{n+1}\Z)_{n=0}^\infty)=1$ and $a\in\mathbb{O}_p^\times$.

    Since $p\mathbb{O}_p$ is closed, we see that $\mathbb{O}_p^\times$ is open in $\mathbb{O}_p$.
    Continuity of multiplication follows (ii).
    Finally, if $a,b\in\mathbb{O}_p$,
    \begin{equation*}
        |a^{-1}-b^{-1}|_p=|a|_p|a^{-1}-b^{-1}|_p|b|_p=|b-a|_p
    \end{equation*}
\end{proof}
\begin{corollary}
    Each ideal in $\mathbb{O}_p$ is of the form $p^k\mathbb{O}_p$ for $k\in\N_0$.
\end{corollary}
\begin{proof}
    If $I$ is an ideal in $\mathbb{O}_p$, then let $k(I)=\min\{k\in\N_0:\nu_p(a)=k\text{ for some }a\in I\}$.
    Then there is $a\in I$ with $\nu_p(a)=k(I)$, so $p^{-k(I)}\in a\mathbb{O}_p^\times\subseteq a\mathbb{O}_p\subseteq I$.
    Thus $p^{-k(I)}\mathbb{O}_p\subseteq I$.
    Clearly $I\subseteq p^{-k(I)}\mathbb{O}_p$ as well.
\end{proof}
We now extend the valuation and norm to $\Q_p$.
If $a=\sum_{k\in\Z}a_kp^k\in\Q_p$, let $\nu_p(a)=\min\{k\in\Z:a_k\neq 0\}$ and $|a|_p=p^{-\nu_p(a)}$.
Then for $a\in\Q_p\setminus\{0\}$ admits (formal) factorization
\begin{equation*}
    a=\sum_{k=\nu_p(a)}^\infty a_kp^k=p^{\nu_p(a)}\sum_{k=\nu_p(a)}^\infty a_kp^{k-\nu_p(a)}=p^{\nu_p(a)}\underbrace{\sum_{k=0}^\infty a_{k+\nu_p(a)}p^k}_{:=a'\in\mathbb{O}_p^\times}
\end{equation*}
Thus, if $a,b\in\Q_p\setminus\{0\}$, we define multiplication and addition by $ab=p^{\nu_p(a)+\nu_p(b)}a'b'$ and $a^{-1}=p^{-\nu_p(a)}(a')^{-1}$.
Furthermore, assuming $\nu_p(a)\leq\nu_p(b)$, we define addition by
\begin{equation*}
    a+b=p^{\nu_p(a)}(a'+p^{\nu_p(b)-\nu_p(a)}b')
\end{equation*}
and $0+a=a$, $0a=0$.
Notice that $|ab|_p=|a|_p|b|_p$, $|1/a|_p=1/|a|_p$ and if $\nu_p(a)\leq \nu_p(b)$, $|a+b|_p=p^{-\nu_p(a)}|a'+p^{\nu_p(b)-\nu_p(a)}b'|_p\leq|a|_p$ so, generally, $|a+b|_p\leq\max\{|a|_p,|b|_p\}$.
Also, if $|a|_p=0$, then $|a|=0$.
Thus $(\Q_p,|\cdot|_p)$ is a ``normed field'', and hence a topological field.

Note that
\begin{equation*}
    \mathbb{O}_p=\{a\in\Q_p:|a|_p\leq 1\}=\{a\in\Q_p:|a|_p<p\}
\end{equation*}
is a compact open neighbourhood of $0$, so $\Q_p$ is locally compact.
Moreover, each $p^k\Q_p=\{a\in\Q_p:|a|_p<p^{k-1}\}$ is a closed and open ball about $0$.
\subsection{Haar Integral and Haar Measure}
Let $G$ be a locally compact group.
Define for $f:G\to\C$, $x\in G$, $f\cdot x=f\circ L_x$, and $x\cdot f=f\circ R_x$.
Notice that $(f,x)\mapsto f\cdot x$, as an adjoint action, is a right (group) action of $G$ on functions.
Likewise, $(x,f)\mapsto x\cdot f$ is a left action.
\begin{proposition}
    If $f\in C_c(G)$, then $\lim_{x\to e}\norm{f\cdot x-f}_\infty=0=\lim_{x\to e}\norm{x\cdot f-f}_\infty$.
\end{proposition}
\begin{proof}
    Let $\epsilon>0$, $W$ a symmetric relatively compact neighbourhood of $e$, and let $K=\overline{W}\supp f$.
    Given $y\in K$, $x\mapsto|f(xy)-f(y)|$ is continuous, so there is a neighbourhood $U_y$ of $e$ so $|f(xy)-f(y)|<\epsilon/2$ whenever $x\in U_y$.
    Let $V_y$ be a symmetric neighbourhood of $e$ so that $V_y^2\subseteq U_y$.
    Then $K\subseteq\bigcup_{y\in K}V_yy$ so by compactness get some finite subcover indexed by $\{y_1,\ldots,y_n\}$.
    Set $V=\left(\bigcap_{j=1}^n V_{y_j}\right)\cap W$ and note that $V$ is a symmetric relatively compact neighbourhood of $e$.

    If $x\in V$, then for $y\in K$ we have $y\in V_{y_j}y_j$ for some $j$, i.e. $yy_j^{-1}\in V_{y_j}$, and hence
    \begin{equation*}
        xy=xyy_j^{-1}y_j\in VV_{y_j}y_j\subseteq V_{y_j}^2y_j\subseteq U_{y_j}y_j.
    \end{equation*}
    Note that $xy=x'y_j$ for some $x'\in U_{y_j}$.
    Similarly, since $y_jy^{-1}\in U_{y_j}$, we $y_j=x''y$ for some $x''\in U_{y_j}$.
    Thus by definition of $U_{y_j}$, we have
    \begin{equation*}
        |f(xy)-f(y)|\leq|f(x'y_j)-f(y_j)|+|f(x''y)-f(y)|<\epsilon.
    \end{equation*}

    Otherwise, if $y\notin K$, then $Wy\cap\supp(f)=\emptyset$: by contrapositive, if $x\in\supp(f)\cap Wy$, then $yx^{-1}\in W$ so $y\in\overline{W}\supp f=K$.
    Thus for $x\in V\subseteq W$, we have $f(xy)=0=f(y)$, and the desired result follows.
\end{proof}
\begin{theorem}[Existence of Haar Integral]
    There exists a linear functional $I:C_c(G)\to\C$ satisfying
    \begin{itemize}[nl]
        \item \defname{positivity} $I(f)>0$ if $f\in C_c^+(G)=\{g\in C_c(G)\setminus\{0\}:g\geq 0\}$.
        \item \defname{left invariance} $I(f\cdot x)=I(f)$ for $f\in C_c(G)$, $x\in G$.
    \end{itemize}
\end{theorem}
Let for $f,\phi\in C_c^+(G)$
\begin{equation*}
    (f:\phi)=\inf\left\{\sum_{j=1}^n c_j:\text{there are }x_1,\ldots,x_n\in G,c_i>0,n\in\N \text{ s.t. }f\leq\sum_{j=1}^n c_j\phi\cdot x_j\right\}
\end{equation*}
Notive that $0<\frac{\norm{f}_\infty}{\norm{\phi}_\infty}\leq(f:\phi)$.
Also, if $U=\{x\in G:\phi(x)>\frac{1}{2}\norm{\phi}_\infty\}$, then $\supp f$ is covered by finitely many $x^{-1}U$, $x\in G$, and thus $(f:\phi)<\infty$.
\begin{claim}
    For $f,g$ in $C_c^+(G)$, we have
    \begin{enumerate}[nl,r]
        \item $(f\cdot x:\phi)=(f:\phi)$ for $x$ in $G$
        \item $(cf:\phi)=c(f:\phi)=(f:\frac{1}{c}\phi)$ for $c>0$
        \item $(f+g,\phi)\leq (f:\phi)+(g:\phi)$.
        \item $(f:\phi)\leq (f:g)(g:\phi)$
    \end{enumerate}
\end{claim}
\begin{nmproof}
    Note that (i) and (ii) are straightforward.
    To see (iii) and (iv), consider
    \begin{align*}
        f&\leq\sum_{j=1}^n c_j\phi\cdot x_j & g&\leq\sum_{j=n+1}^Nc_j\phi\cdot x & f&\leq\sum_{k=1}^m b_kg\cdot y_k
    \end{align*}
    so that $f+g\leq\sum_{j=1}^Nc_j\phi\cdot x_k$ and $(f+g:\phi)\leq\sum_{j=1}^n c_j+\sum_{j=n+1}^N c_j$, giving (iii).
    To get (iv), note $f\leq\sum_{k=1}^m b_k\sum_{j=n+1}^N c_j\phi\cdot(x_jy_k)$ so $(f:\phi)\leq\sum_{k=1}^m b_k\sum_{j=k+1}^Nc_j$, giving (iv).
\end{nmproof}
We wish to ``homogonize'' the effect of $\phi$.
Fix $\psi_0\in C_c^+(G)$ and let $I_\phi(f)=\frac{(f:\phi)}{(\psi_0:\phi)}$.
Then $I_\phi:C_c^+(G)\to\R_{\geq 0}$ is
\begin{enumerate}[nl]
    \item[(i')] left translation invariant
    \item[(ii')] $\R_{\geq 0}-$homogenous
    \item[(iii')] subadditive.
\end{enumerate}
by using the claim above directly.
Thus by (iv), $(\psi_0:\phi)\leq(\psi_0:f)(f:\phi)$ and $(f:\phi)\leq(f:\psi_0)(\psi_0:\phi)$, giving
\begin{enumerate}[nl]
    \item[iv'] $0<\frac{1}{(\psi_0:f)}\leq I_\phi(f)\leq (f:\psi_0)$.
\end{enumerate}
\begin{claim}\label{cl:1a}
    If $f,g\in C_c^+(G)$, $\epsilon>0$, there is a neighbourhood $V$ of $e$ such that
    \begin{equation*}
        I_\phi(f)+I_\phi(g)<I_\phi(f+g)+\epsilon
    \end{equation*}
    whenever $\phi\in C_c^+(G)$ with $\supp(\phi)\subseteq V$.
\end{claim}
\begin{nmproof}
    Let $k\in C_c^+(G)$ be so $k|_{\supp(f+g)}=1$ and let $\delta>0$.
    Take $h=f+g+\delta k$ and $f'=\frac{f}{h}$, $g'=\frac{g}{h}\in C_c^+(G)$.
    Uniform continuity of $f',g'$ provides a neighbourhood $v$ of $e$ such that $|f'(x)-f'(y)|<\delta$, $|g'(x)-g'(y)|<\delta$ if $y^{-1}x\in V$.
    If $\phi\in C_c^+(G)$, $\supp(\phi)\subseteq V$, and $x_1,\ldots,x_n$ in $G$, $c_1,\ldots,c_n>0$ satisfy
    \begin{equation*}
        h\leq\sum_{j=1}^n c_j\phi_j\cdot x_j^{-1}
    \end{equation*}
    then for $x$ in $G$
    \begin{align*}
        f(x) = f'(x)h(x) &\leq\sum_{j=1}^n f'(x)c_j\phi(x_j^{-1}x)\\
                         &\leq\sum_{j=1}^n[f'(x_j)+\delta]c_j\phi(x_j^{-1}x)
    \end{align*}
    by properties of $f',g'$ proven above and $\supp(\phi)\subseteq C$.
    Likewise,
    \begin{equation*}
        g\leq\sum_{j=1}^n[g'(x_j)+\delta]c_j\phi\cdot x_j^{-1}.
    \end{equation*}
    Now $f'+g'=(f+g)/h=\frac{f+g}{f+g+\delta k}\leq 1$ so
    \begin{align*}
        (f:\phi)+(g:\phi)&\leq\sum_{j=1}^n[f'(x_j)+\delta]c_j+\sum_{j=1}^n[g'(x_j)+\delta]c_j\\
                         &\leq\sum_{j=1}^n[1+2\delta]c_j
    \end{align*}
    and $(f:\phi)+(g:\phi)\leq (1+2\delta)(h:\phi)$.
    Divide by $(\psi_0:\phi)$ and (iii') and (iv') above to get
    \begin{equation*}
        I_\phi(f)+I_\phi(g)\leq(1+2\delta)I_\phi(h)\leq(1+2\delta)[I_\phi(f+h)+\delta I_\phi(k)]
    \end{equation*}
    Thus with sufficiently small $\delta$, $I_\phi(f)+I_\phi(g)<I_\phi(f+g)+\epsilon$.
\end{nmproof}
We are now in position to complete the proof.
\begin{claim}\label{cl:i2}
    Construction of the functional $I$.
\end{claim}
\begin{proof}
    Inequality (iv') tells us that
    \begin{equation*}
        x_\phi=(I_\phi(f))_{f\in C_c^+(G)}\in\prod_{f\in C_c^+(G)}[\frac{1}{(\psi_0:f)},(f:\psi_0)]=X
    \end{equation*}
    which, by Tychonoff, is compact.
    For $\phi,\phi'$ in $\Phi=\{\psi\in C_c^+(G):\psi(e)=1\}$, $\phi\leq\phi'$ if $\phi\geq\phi'$ pointwise, which is a preorder.
    Notice that $\phi\phi'\leq\phi\wedge\phi'$ (pointwise minimum), so that $(\Phi,\leq)$ is directed.
    Hence $(x_\phi)_{\phi\in\Phi}$ admits a converging subnet $x=\lim_{\mu\in M}x_{\phi_\mu}$ in $X$.

    Write $x=(I(f))_{f\in C_c^+(G)}$, so $I(f)=\lim_{\mu\in M}I_{\phi_\mu}(f)$ for each $f\in C_c^+(G)$.
    Then it follows that from (i'), (ii'), and (iii') that for $f,g$ in $C_c^+(G)$, we have
    \begin{align*}
        I(F\cdot x)&=I(f) & I(cf)&=cI(f) & I(f+g) &\leq I(f)+I(g)
    \end{align*}
    for $x\in G$, $c>0$.
    Moreover, by cofinality, if $V$ is a neighbourhood of $e$, then $\supp(\phi_\mu)\subseteq V$ for $\mu$ sufficiently large in $M$.
    Hence given $\epsilon>0$, by \cref{cl:1a}, $I_{\phi_\mu}(f)+I_{\phi_\mu}(g)<I_{\phi_\mu}(f+g)+\epsilon$ for $\mu$ sufficiently large in $M$.
    Since $\epsilon>0$ as arbitrary, we have $I(f)+I(g)\leq I(f+g)$.

    Let $I(0)=0$.
    If $f\in C_c^{\R}(G)$ and $f=f_1-f_2=g_1-g_2$ with $f_1,f_2,g_1,g_2\geq 0$, then $h=f_1+g_2=g_1+f_2$ satisfies that $I(h)=I(f_1)+I(g_2)=I(g_1)+I(f_2)$ and hence we may define $I(f)=I(f_1)-I(f_2)$, which do not depend on the choice of $f_1,f_2$.
    One may check that $I:C_c^{\R}(G)\to\R$ is $\R-$linear.
    Finally, if $f\in C_c(G)$, let $I(f)=I(\Re f)+iI(\Im f)$.
    It is left as an exercise to verify that $I:C_c(G)\to\C$ is $\C-$linear.

    Finally, the fact that $I(f\cdot x)=I(f)$ for $f\in C_c(G)$ and $x\in G$ follows for $f$ in $C_c^+(G)$ as above.
    If $f\in C_c^+(G)$, then (iv') tellus us that $I(f)\geq\frac{1}{(\psi_0:f)}>0$.
\end{proof}
\begin{remark}
    \begin{enumerate}[nl,r]
        \item In \cref{cl:i2}, $I_\phi(\psi_0)=1$ so $I(\psi_0)=1$.
        \item If $G$ is discrete, then $\psi_0=1_{\{e\}}=\min\Phi$.
            Then $I_{\psi_0}(f)=\frac{(f:\psi_0)}{(\psi_0:\psi_0)}=\sum_{x\in G}f(x)$ for $f\in C_c^+(G)$.
        \item If $G=\R$, let $\psi_0$ be the linear function which is $0$ on $(-\infty,-1/2-\delta)\cup(1/2+\delta,\infty)$, $1$ on $(-1/2+\delta,1/2-\delta)$, and continuied linearly on the remainder.
            Notice that $(\psi_0,\phi_n)\approx n$, so $\frac{(f:\phi_n)}{(\psi_0:\phi_n)}$ is approximately the Riemann-Darboux upper sum.
        \item Examine $\mathbb{O}_p$, $\psi_0=1_{\mathbb{O}_0}$, $\psi_n=1_{p^n\mathbb{O}_p}$.
    \end{enumerate}
\end{remark}
\begin{theorem}[Harr Measure]
    Let $\mathcal{B}(G)$ denote the Borel $\sigma-$algebra on $G$.
    Then there is a Radon measure $m:\mathcal{B}(G)\to[0,\infty]$ such that
    \begin{itemize}[nl]
        \item $m$ is left invariant: $m(xE)=m(E)$ for $x\in G$, $E\in\mathcal{B}(G)$
        \item $m(U)>0$ for $U\in\tau\setminus\{\emptyset\}$.
    \end{itemize}
\end{theorem}
\begin{proof}
    The Riesz Representation Theorem provides a measure $m:\mathcal{B}(G)\to[0,\infty]$ for which
    \begin{equation*}
        \int_G f \d{m}=I(f)
    \end{equation*}
    for $f\in C_c(G)$.
    Notice that
    \begin{equation*}
        \int_G f\cdot x\d{m}=I(f\cdot x)=\int_G f
    \end{equation*}
    for any $x\in G$, $f\in C_c(G)$.
    Thus if $U\in\tau$, $\supp f\subseteq U$ if and only if $\supp(f\cdot x)\subseteq x^{-1}U$ for $x\in G$ and $f\in C_c(G)$.
    Thus
    \begin{align*}
        m(U) &= \sup\{I(f):f\in C_c(G),0\leq f\leq 1\text{ and }\supp(f)\subseteq U\}\\
             &= \sup\{I(f\cdot x):f\in C_c(G),0\leq f\leq 1\text{ and }\supp(f)\subseteq U\}\\
             &= \sup\{I(g):g\in C_c(G),0\leq g\leq 1,\supp(g)\subseteq x^{-1}U\\
             &= m(x^{-1}U).
    \end{align*}
    Therefore, for any $E\in\mathcal{B}(G)$, we have
    \begin{align*}
        m(E)&=\inf\{m(U):E\in U,U\in\tau\}\\
            &=\inf\{m(xU):E\subseteq U,U\in\tau\}\\
            &=\inf\{m(xU):xE\subseteq xU,U\in\tau\}=m(xE).
    \end{align*}
    Finally, if $U\in\tau\setminus\{\emptyset\}$, there is $f\in C_c^+(G)$ with $0\leq f\leq 1$ and $\supp(f)\subseteq U$, so $m(U)\geq I(f)>0$.
\end{proof}
\begin{remark}
    If $E\in\mathcal{G}(G)$, $m(E)<\infty$, then $m(E)=\sup\{m(K):K\subseteq E,K\text{ compact}\}$.
    Inner regularity need not hold on infinite measure sets: taking $G=\R_d\times\R$, then $\R_d\times\{0\}$ is closed, and thus Borel.
    However, $m(E)=\infty$ while $m(K)=0$ for each compact $K\subset E$.
\end{remark}
\begin{theorem}[Uniqueness of Haar Measure]
    Let $m':\mathcal{B}(G)\to[0,\infty]$ be any Radon measure such that $m(xE)=m'(E)$ for $x\in G$ and $E\in\mathcal{B}(G)$.
    Then there is $c\geq 0$ such that $m'=cm$.
\end{theorem}
\begin{proof}
    Fix a symmetric neighbourhood $W=W^{-1}$ of $e$ with $\overline{W}$ compact.
    Given $f\in C_c^+(G)$, $\epsilon>0$, and $U$ a neighbourhood of $e$ such that $\norm{f-x\cdot f}_\infty<\epsilon$.
    Let $V=U\cap W$.
    Then let $x\in G$, and for any $x'\in G$ with $x'x^{-1}\in V$, we have
    \begin{align*}
        \left\lvert\int_G f(yx)dm'(y)-\int_G f(yx')dm'(y)\right\rvert&\leq\norm{x\cdot f-x'\cdot f}_\infty m(\supp(f)x^{-1}\cup\supp(f)Vx^{-1})\\
                                                                     &<\epsilon m(\supp(f)x^{-1}\cup\supp(f)Wx^{-1})
    \end{align*}
    and hence $x\mapsto\int_G x\cdot fdm'$ is continuous at each point in $G$.
    Thus
    \begin{equation*}
        D_f(x) = \frac{\int_Gx\cdot fdm'}{\int_G fdm}
    \end{equation*}
    defines a continuous function on $G$.

    If $f,g\in C_c^+(G)$, then $(x,y)\mapsto f(x)g(y^{-1})$ is non-negative, continuous, Borel measurable, and compactly supported on $G\times G$.
    Then by left-invariance and Tonelli's theorem,
    \begin{align*}
        \left(\int_Gfdm\right)\cdot\left(\int_G g(y^{-1})dm'(y)\right) &= \int_G\int_Gf(x)g(y^{-1})dm'(y)dm(x)\\
                                                                       &= \int_G\int_G f(x)g((x^{-1}y)^{-1})dm'(y)dm(x)\\
                                                                       &= \int_G\int_G f(x)g(y^{-1}x)dm(x)dm'(y)\\
                                                                       &= \int_G\int_G f(yx)g(x)dm(x)dm'(y)\\
                                                                       &= \int_Gg(y)\left(\int_G f(yx)dm'(y)\right)dm(x)
    \end{align*}
    Thus,
    \begin{equation*}
        \int_Gg(y^{-1})dm'(y) = \int_G g(x)D_f(x)dm(x).
    \end{equation*}
    But if we have any other $f'\in C_c^+(G)$, then we would have
    \begin{equation*}
        \int_Gg(x)D_f(x)dm(x)=\int_Gg(y^{-1})dm'(y)=\int_Gg(x)D_{f'}(x)dm(x)
    \end{equation*}
    so it follows that $D_f=D_{f'}$ $m-$a.e.
    Since $D_f$, $D_{f'}$ are continuous, we see that $D_f=D_{f'}$ everywhere.
    In particular, $D_f(e)=D_{f'}(e)$, or that
    \begin{equation*}
        \frac{\int_G fdm'}{\int_G fdm}=D_f(e)=D_{f'}(e)=\frac{\int_G f'dm'}{\int_G f'dm}
    \end{equation*}
    Let $c$ denote this common value, so $c\int_G fdm=\int_G fdm'$ for $f\in C_c^+(G)$.
    Hence $m'=cm$.
\end{proof}
\begin{example}
    \begin{enumerate}[nl,r]
        \item If $G$ is discrete, then $C_c(G)$ is composed of functions with finite support, and $m(E)$ is (a multiple of) the counting measure.
            In the finite case, we normalize by $|G|$.
        \item If $G=\R^n$, $I(f)=\int_{\R^n}f$ and $m$ is $n$-dimensional Lebesgue measure.
        \item Let $G=\GL_n(\R)$.
            \begin{enumerate}[nl,a]
                \item If $t\in\GL_n(\R)$, then for $f\in C_c(\R^n)$,
                    \begin{equation*}
                        \int_{\R^n}f\circ t(y)dy=\frac{1}{|\det t|}\int_{\R^n}f(y)dy.
                    \end{equation*}
                    Indeed, show that this holds for an elementary matrix $t$, and $\GL_n(\R)$ is the algebra generated by these elements.
                \item If $X\in\GL_n(\R)$, then $L_X:M_n(\R)\to M_n(R)$ is isomorphic to
                    \begin{equation*}
                        \begin{pmatrix}y_1\\\vdots\\y_n\end{pmatrix}\mapsto\begin{pmatrix}xy_1\\\vdots\\xy_n\end{pmatrix}:(\R^n)^n\to(\R^n)^n
                    \end{equation*}
                    and hence $\det L_X=\det X^n$.
                    Thus if $f\in C_c(M_n(\R))$, we have that
                    \begin{equation*}
                        \int_{M_n(\R)}f(xy)dy=\int_{M_n(\R)}f\circ L_X(y)dy=\frac{1}{|\det X|^n}\int_{M_n(\R)}f(y)dy.
                    \end{equation*}
                    Now since $\GL_n(\R)$ is open in $M_n(\R)$, so $C_c(\GL_n(\R))\subset C_c(M_n(\R))$, and we define for $f\in C_c(\GL_n(\R))$
                    \begin{equation*}
                        I(f)=\int_{\GL_n(\R)}f(y)\frac{1}{|\det y|^n}dy.
                    \end{equation*}
                    Then for $x\in\GL_n(\R)$, we have
                    \begin{align*}
                        I(f\cdot x)&=\int_{\GL_n(\R)}f(xy)\frac{1}{|\det xy|^n}\cdot|\det x|^ndy\\
                                   &=\int_{\GL_n(\R)}f(y)\frac{1}{|\det y|^n}\cdot\frac{|\det x|^n}{|\det x|^n}dy=I(f)
                    \end{align*}
                    If $M_{\GL_n(\R)}$ is the measure associated with $I$, then with $m$ the Lebesgue measure on $M_n(\R)\cong\R^{n^2}$, we have
                    \begin{equation*}
                        \frac{dm_{\GL_n(\R)}}{dm}(y)=\frac{1}{|\det y|^n}
                    \end{equation*}
                \item If we take $\R^\times\cong\GL_1(\R)$, then
                    \begin{equation*}
                        I(f)=\int_{\R^\times}f(y)\frac{dy}{|y|}
                    \end{equation*}
                \item Consider $\C^\times=\C\setminus\{0\}\subseteq\C\cong\R^2$.
                    Then $[L_{x+iy}]_{(1,i)}=\begin{pmatrix}x&-y\\y&x\end{pmatrix}$ so that $\det L_{x+iy}=|x+iy|^2$.
                    Thus we get an integral on $G=\C^\times$ by
                    \begin{equation*}
                        I(f)=\int_{\C^\times}f(z)\frac{dz}{|z|^2}
                    \end{equation*}
                \item On $\GL_n(\C)\subset\GL_{2n}(\R)$, we likewise find Haar integral
                    \begin{equation*}
                        I(f)=\int_{\GL_n(\C)}f(y)\frac{1}{|\det y|^{2n}}dy.
                    \end{equation*}
            \end{enumerate}
        \item Suppose $G$ admits an open (hence closed) subgroup $H$.
            If $m$ is a Haar measure on $G$, then $m_H=m|_{\mathcal{B}(H)}$ is a Haar measure on $H$.
            Let $T$ be a transversal for left cosets of $H$ (A of C), so $G=\bigcup_{t\in T}tH$.
            If $U\subset G$ is open with $m(U)<\infty$, then
            \begin{align*}
                \{t\in T:U\cap tH\neq\emptyset\} &= \{t\in T:M(U\cap tH)>0\}\\
                                                 &= \bigcup_{n=1}^\infty\{t\in T:m(U\cap tH)<\frac{1}{n}\}
            \end{align*}
            is countable, so if $E\in\mathcal{B}(G)$, $m(E)<\infty$, $E\subseteq\bigcup_{j=1}^\infty t_jH$ and then
            \begin{align*}
                m(E)&=\sum_{j=1}^\infty m(E\cap t_jH)=\sum_{j=1}^\infty m(t_j^{-1}(E\cap t_j H))\\
                    &=\sum_{j=1}^\infty m_H((t_j^{-1}E)\cap H)
            \end{align*}
        \item Suppose $H$ is a closed, non-open subgroup of $G$.
            We wish to see that for compact $K\subseteq H$, $m(K)=0$.
            \begin{enumerate}[nl,a]
                \item Given open $U$ with $K\subseteq U$, then there is open $V$ with $e\in V$ so $VK\subseteq U$.
                    Indeed, for $x\in K$, find open $U_x$ with $e\in U_x$, so $U_xx\subseteq U$.
                    Find open $V_x$, $e\in V_x$, so $V_x^2\subseteq U_x$, then $K\subseteq\bigcup_{j=1}^n V_{x_j}x_j$ where $x_1,\ldots,x_j\in K$.
                    Let $V=\bigcap_{j=1}^n V_{x_k}$.
                    If $x\in K$, $x\in V_{x_j}x_j$ for soe $j$ so $Vx\subseteq VV_{x_j}x_j\subseteq V_{x_j}^2x_j\subseteq U_{x_j}x_j\subseteq U$, i.e. $VK=\bigcup_{x\in K}V_x\subseteq U$.
                \item Suppose we had compact $K\subseteq H$ such that $m(K)>0$.
                    We may find open $U$ so $K\subseteq U$ and $m(U)<2m(K)$ (by outer regularity).
                    Take $V$ as above.
                    Since $H$ is non-open, there is $x\in V\setminus H$.
                    Then
                    \begin{itemize}[nl]
                        \item $K\cap xK=\emptyset$ as $K\subseteq H$, while
                        \item $K\cup xK\subseteq U$.
                    \end{itemize}.
                    Thus $2m(K)=m(K\cup xK)\leq m(U)<2m(K)$, a contradiction.

                    Thus, a closed non-open subgroup $H$ of $G$ is always $m$-locally null.
                    Hence, if $G$ is $\sigma$-compact, then closed non-open $H$ are $m$-null.
                    However, if $G=\R\times\R_d$, $H=\{0\}\times\R_d$ is closed, $m$-locally null, but not $m$-null.
            \end{enumerate}
        \item The measure on $(\Q_p,+)$ is determined by $(\mathbb{O}_p,+)$.
            Likewise, the measure $\GL_n(\Q_p)$is determined by $\GL_n(\mathbb{O}_p)=\{a\in M_n(\mathbb{O}_p):\det a\in\mathbb{O}_p^\times\}$
        \item On $\GL_n(\mathbb{O}_p)$, we have Haar integral
            \begin{equation*}
                I(f)=\int_{\GL_n(\Q_p)}f(y)\frac{1}{|\det y|_p^n}dy
            \end{equation*}
        \item $G$ is compact if and only if $m(G)<\infty$.
            The forward is clear since $m$ is Radon.
            If $G$ is not compact, let $U$ be a open neighbourhood of $e$ so $\overline{U}$ is compact, so $0<m(U)<\infty$.
            For any compact set $K$, $KU\subseteq K\overline{U}$ is compact, hence $KU\subsetneq G$.
            Inductively find $(x_n)_{n=1}^\infty\subset G$ so $x_{n+1}\notin\{x_1,\ldots,x_n\}U$.
            Notice that $x_jV\cap x_kV=\emptyset$ for $j\neq k$ for $V$ a neighbourhood of $e$ with $V=V^{-1},V^2\subset U$.
            Then $m(G)\geq nm(V)$ for any $n\in\N$, so $m(G)=\infty$.
    \end{enumerate}
\end{example}
Let $G$ be a locally compact group equipped with Haar measure $m$.
Then
\begin{equation*}
    L^1(G)=\{f:G\to\C:f\text{ measurable},\norm{f}_1=\int_G|f|dm<\infty\}/\sim_{m\quad a.e.}
\end{equation*}
This is a Banach space.
Recall that by definition of the Lebesgue integral
\begin{equation*}
    S^1(G)=\spn\{\chi_E:E\in\mathcal{B}(G),m(E)<\infty\}/\sim_{m\quad a.e.}
\end{equation*}
If $0<m(E)<\infty$, then, given $\epsilon>0$, there are compact $K\subseteq E$ and open $U\supseteq E$.
Hence Urysohn's lemma provides $f\in C_c^+(G)$ such that $f|_L=1$, $\supp(f)\subseteq U$, and $0\leq f\leq 1$.
Hence $\norm{f-1_E}_1<\epsilon$.
Note that if $f,g\in C_c(G)$, then $f=g$ $m$ a.e. if and only if $f=h$.
Thus $C_c(G)\subseteq L^1(G)$ is dense.
\subsection{The Modular Function}
If $x\in G$, define $m_x:\mathcal{B}(G)\to[0,\infty]$ by $m_x(E)=m(Ex)$.
Then since $R_x$ is a homeomorphism, one may verify that
\begin{itemize}[nl]
    \item $m_x$ is left invariant,
    \item $m_x(U)=m(Ux)>0$ if $U$ is non-empty and open, and
    \item $m_x(K)=m(Kx)<\infty$ if $K$ is compact.
\end{itemize}
Hence by uniqueness of Haar measure there exists some function $\Delta:G\to\R^\times$ such that $m_x=\Delta(x)m$.
In fact, $\Delta$ is a group homomorphism.
To see this, if $E\in\mathcal{B}(G)$ with $0<m(E)<\infty$ and $x,y\in G$, then
\begin{equation*}
    \Delta(xy)m(E)=m(Exy)=\Delta(y)m(Ex)=\Delta(x)\Delta(y)(E).
\end{equation*}
Denote by $x\cdot f$ the function $x\cdot f(y)=f(yx)$.
We then have the following result:
\begin{proposition}
    \begin{enumerate}[nl,r]
        \item For any $f\in L^1(G)$ and $x\in G$, $x\cdot f\in L^1(G)$ with
            \begin{equation*}
                \int_G f\d{m}=\Delta(x)\int_G x\cdot f\d{m}.
            \end{equation*}
        \item $\Delta$ is a continuous function.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \begin{enumerate}[nl,r]
        \item Let $E\in\mathcal{B}(G)$ with $m(E)<\infty$.
            Then
            \begin{equation*}
                \Delta(x)\int \idc{E}\d{m}=\Delta(x)m(E)=m(Ex)=\int \idc{Ex}\d{m}=\int_G x^{-1}\cdot \idc{E}\d{m}
            \end{equation*}
            since $\idc{Ex}=x^{-1}\cdot\idc{E}$.
            Thus replacing $x$ by $x^{-1}$, we have
            \begin{equation*}
                \int\idc{E}\d{m}=\Delta(x)\int x\cdot \idc{E}\d{m}
            \end{equation*}
            so that the desired result holds for characteristic functions.
            Then by density of simple functions in $L^1$ and applying dominated convergence, the result holds for any $f\in L^1$.
        \item Let $f\in C_c^+(G)$, $\epsilon>0$, and $V=V^{-1}$ be a relatively compact neighbourhood of $e$ so $\norm{x\cdot f-f}_\infty<\epsilon$ for any $x\in V$.
            Then for $x\in V$, applying (i) above,
            \begin{align*}
                |\Delta(x)-1|&=\frac{|\Delta(x)\int f\d{m}-\int_Gf\d{m}|}{\int f\d{m}}\\
                             &\leq\frac{1}{\int f\d{m}}\int|x^{-1}\cdot f-f|\d{m}<\epsilon\frac{m(\supp(f)V)}{\int f\d{m}}.
            \end{align*}
            where $\supp(x^{-1}\cdot f-f)\subseteq\supp(f)V$ and $\supp(f)V$ has compact closure so that $m(\supp(f)V)<\infty$.
            Moreover, as $\epsilon\to 0$, we may arrange for $V$ to be decreasing, yielding continuity of $\Delta$ at $e$.
            Now if $x,y\in G$ are arbitrary, we have
            \begin{equation*}
                |\Delta(xy)-\Delta(y)|=|\Delta(x)-1|\Delta(y)
            \end{equation*}
            which shows that $\Delta$ is continuous at $y$.
    \end{enumerate}
\end{proof}
\begin{proposition}
    \begin{enumerate}[nl,r]
        \item The integral $f\mapsto\int_G f(x)\frac{1}{\Delta(x)}\d{x}$ on $C_c(G)$ is right invariant.
        \item For $f\in L^1(G)$,
            \begin{equation*}
                \int_G f(x^{-1})\frac{1}{\Delta(x)}\d{x}=\int_G f(x)\d{x}
            \end{equation*}
    \end{enumerate}
\end{proposition}
\begin{proof}
    \begin{enumerate}[nl,r]
        \item If $y\in G$ and $f\in C_c(G)$, then
            \begin{align*}
                \int_G y\cdot f(x)\frac{1}{\Delta(x)}\d{x}&=\int_G f(xy)\frac{1}{\Delta(x)}\d{x}=\int_G f(xy)\frac{1}{\Delta(xy)}\Delta(y)\d{x}\\
                                                          &= \int_G f(x)\frac{1}{\Delta(x)}\d{x}
            \end{align*}
        \item If $f\in C_c^+(G)$, then for any $y\in G$,
            \begin{align*}
                \int_G f\cdot y(x^{-1})\frac{1}{\Delta(x)}\d{x} &= \int_G f((xy^{-1})^{-1})\frac{1}{\Delta(x)}\d{x}\\
                                                                &= \int_G f(x^{-1})\frac{1}{\Delta(x)}\d{x}
            \end{align*}
            by the proof above.
            Hence by uniqueness of left Haar integral, there is $c>0$ so that
            \begin{equation*}
                \int_G f(x^{-1})\frac{1}{\Delta(x)}\d{x}=c\int_G f(x)\d{x}
            \end{equation*}
            for $f\in C_c(G)$.
            Notice, by continuity of $f\mapsto\int_G f\d{m}$ on $L^1(G)$, this holds for $f\in L^1(G)$.

            Now, if $c\neq 1$, there is a relatively compact neighbourhood $U=U^{-1}$ of $e$ such that $|\Delta(x)-1|<\frac{1}{2}|c-1|$ for $x\in U$.
            Then we have
            \begin{align*}
                0 &= \left\lvert\int_G\idc{U}(x^{-1})\frac{1}{\Delta(x)}\d{x}-c\int_G\idc{U}(x)\d{x}\right\rvert\\
                  &= \left\lvert\int_U\left(\frac{1}{\Delta(x)}-c\right)\d{x}\right\rvert\\
                  &= \left\lvert\int_U\left(\frac{1}{\Delta(x)}-1+1-c\right)\d{x}\right\rvert\\
                  &\geq m(U)\left\lvert|1-c|-\frac{1}{2}|c-1|\right\rvert=\frac{m(U)}{2}|1-c|>0
            \end{align*}
            which is a contradiction.
    \end{enumerate}
\end{proof}
For $f\in L^1(G)$, $x\in G$, we let
\begin{align*}
    x*f(y)&=f(x^{-1}y)\\
    f*x(y)&=f(yx^{-1})\frac{1}{\Delta(x)}\\
    f^*(x)&=\overline{f(x^{-1})}\frac{1}{\Delta(x)}
\end{align*}
Notice that $\norm{f}_1=\norm{x*f}_1=\norm{f*x}_1=\norm{f^*}_1$.
Moreover,
\begin{itemize}[nl]
    \item $x'*(x*f)=(x'x)*f$ and $(f*x)*x'=f*(xx')$
    \item $f^{**}=f$.
    \item $(x*f)^*=f^**x^{-1}$.
        Indeed, for $m$-a.e. $y$, we have
        \begin{align*}
            (x*f)^*(y) &= \overline{[x*f](y^{-1})}\frac{1}{\Delta(y)}\\
                       &= \overline{f(x^{-1}y^{-1})}\frac{1}{\Delta(y)}\\
                       &= \overline{f((yx)^{-1})}\frac{1}{\Delta(yx)}\frac{1}{\Delta(x^{-1})}\\
                       &= f^**x^{-1}(y)
        \end{align*}
\end{itemize}
\begin{proposition}
    For $f\in L^1(G)$, $\lim_{x\to e}\norm{x*f-f}_1=0=\lim_{x\to e}\norm{f*x-f}_1$.
\end{proposition}
\begin{proof}
    First, consider $g\in C_c(G)$ and $\epsilon>0$, and let $V=V^{-1}$ be a relatively compact neighbourhood of $e$ so $\norm{g\cdot x-g}_\infty<\epsilon$ for $x\in V$.
    Then
    \begin{equation*}
        \norm{x*g-g}_1=\int_G|g\cdot x^{-1}\d{m}\leq\norm{g\cdot x^{-1}-g}_\infty m(V\supp(g))<\epsilon m(V\supp(g))
    \end{equation*}
    so $\lim_{x\to e}\norm{x*g-g}_1=0$.
    If $f\in L^1(G)$, $\epsilon>0$, find $g\in C_c(G)$ such that $\norm{f-g}_1<\epsilon$.
    Then
    \begin{align*}
        \norm{x*f-f}_1 &\leq \norm{x*f-x*g}_1+\norm{x*g-g}_1+\norm{g-f}_1\\
                       &<2\epsilon+\norm{x*g-g}_1
    \end{align*}
    where $\norm{x*g-g}_1\to 0$ as $x\to e$.
    Since $\epsilon>0$ was arbitrary, we are done.

    Now, for $f,x$ as above,
    \begin{equation*}
        \norm{f_x-f}_1=\norm{(f*x-f)^*}_1=\norm{x^{-1}*f^*-f^*}_1
    \end{equation*}
    where $x^{-1}\to e$ as $x\to e$.
\end{proof}
\begin{theorem}[Weil Integral Formula]
    Let $N$ be a closed normal subgroup of $G$.
    \begin{enumerate}[nl,r]
        \item If $f\in C_c(G)$, then $x\mapsto\int_Nf(xn)dn:G\to\C$ is constant on cosets and hence defines a function $T_nf:\quot{G}{N}\to\C$.
            Furthermore, $T_N(C_c^*(G))\subseteq C_c^+(\quot{G}{N})$ and the operator $T_N:C_c(G)\to C_c(\quot{G}{N})$ is linear and covariant:
            \begin{equation*}
                (T_Nf)\cdot(yN)=T_N(f\cdot y)
            \end{equation*}
            for $f\in C_c(G)$ and $y\in G$.
        \item The functional on $C_c(G)$ given by $f\mapsto\int_{\quot{G}{N}}T_nf(xN)\d{x}N$ is hence a Haar integral on $G$, so we may write
            \begin{equation*}
                \int_{\quot{G}{N}}\int_Nf(xn)\d{n}\d{xN}=\int_G f(x)\d{x}
            \end{equation*}
    \end{enumerate}
\end{theorem}
\begin{proof}
    (ii) is a direct consequence of (i); let's see the proof of (i).

    The $N$-invariance of the first function is evident.
    Let $f\in C_c(G)$.
    We inspect the continuity of $T_Nf$ at $x$ in $G$.
    Given $\epsilon>0$, let $V=V^{-1}$ be a real compact neighbourhood of $e$, so $\norm{f\cdot y-f}_\infty<\epsilon$ for $y\in V$.
    Let $g\in C_c^+(G)$ satisfy that $0\leq g\leq 1$ and $g|_{Vx^{-1}\supp(f)}=1$.
    For $y\in V$, $yN=q_N(y)\in q_N(V)$ so
    \begin{align*}
        |T_Nf(yxN)-T_Nf(xN)| &\leq\int_N|f(yx)-f(xn)|g(n)\d{n}\\
                             &<\epsilon m_N(\supp(g)\cap N)
    \end{align*}
    Notice as $\epsilon\to 0$, we may shrink $V$ and hence $\supp(g)$.
    Hence $T_Nf$ is continuous at $xN$.
    Now, $\supp(T_Nf)\subseteq q_N(\supp f)$ so $T_Nf\in C_c(\quot{G}{N})$.

    If $g\in C_c^+(G)$, $x\in G$ is such that $f(x)>0$, let $U$ be a neigbourhood of $e$, $f(xy)>\frac{1}{2}f(x)$ for $y\in U$.
    Then
    \begin{equation*}
        T_Nf(xN)=\int_N f(xn)\d{n}\geq\frac{1}{2}f(x)m_N(U\cap N)>0
    \end{equation*}
\end{proof}
\begin{corollary}
    If $N$ is closed and normal in $G$, Then $\Delta_G|_N=\Delta_N$.
\end{corollary}
\begin{proof}
    Let $n'\in N$ and $f\in C_c^+(G)$.
    Then
    \begin{align*}
        \int_G n'\cdot f(x)\d{x} &=\int_{\quot{G}{N}}\int_Nf(xnn')\d{n}\d{xN}\\
                                 &= \int_{\quot{G}{N}}\frac{1}{\Delta_N(n')}\int_Nf(xn)\d{n}\d{xN}=\frac{1}{\Delta_N(n')}\int_Gf(x)\d{x}
    \end{align*}
    so that $\Delta_G(n')=\Delta_N(n')$.
\end{proof}
\begin{definition}
    We say that $G$ is \defn{unimodular} if $\Delta=1$ on $G$.
\end{definition}
\begin{proposition}
    $G$ is unimodular in any of the following cases:
    \begin{enumerate}[nl,r]
        \item $G$ is abelian, discrete, or compact
        \item $G$ is perfect: $G=\overline{[G,G]}$
        \item $\quot{G}{Z(G)}$ is unimodular.
        \item There is a closed, unimodular normal subgroup $N$ such that $\quot{G}{N}$ is compact.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \begin{enumerate}[nl,r]
        \item This is (nearly) obvious for $G$ abelian or discrete.
            If $G$ is compact, then $\log\circ\Delta:G\to(\R,+)$ is a continuous homomorphism whose range is a compact subgroup.
        \item Any commutator $[x,y]\in xyx^{-1}y^{-1}\in\ker\Delta$.
        \item Let $Z=Z(G)$.
            If $y\in G$ and $f\in C_c(G)$, we have by Weyl's integral formula
            \begin{align*}
                \int_G y\cdot f(x)dx &= \int_{\quot{G}{Z}}\int_Z f(xz)\d{z}\d{xZ}\\
                                     &= \int_{\quot{G}{Z}}\int_Zf(xyz)\d{z}\d{xZ}\\
                                     &= \int_{\quot{G}{Z}}T_Zf(xyZ)\d{xZ}\\
                                     &= \int_{\quot{G}{Z}}T_Zf(xZyZ)dxZ\\
                                     &= \int_{\quot{G}{Z}}T_Zf(xZ)dxZ=\int_Gf(x)dx
            \end{align*}
        \item We have $\Delta_G|_N=\Delta_N=1$ by assumption, i.e. $N\in\ker\Delta_G$, so $\Delta_G$ induces a homomorphism $\overline{\Delta}:\quot{G}{N}\to(0,\infty)$ where $\Delta_G=\overline{\Delta}\circ\pi_N$.
            Verify that $\overline{\Delta}$ is continuous, so $\log\circ\overline{\Delta}:\quot{G}{N}\to\R^+$ is a continuous homomorphism, whose range is a closed subgroup.
            It follows that $\Delta_G=1$ on $G$.
    \end{enumerate}
\end{proof}
\begin{example}
    Here are some examples of unimodular groups.
    \begin{enumerate}[r]
        \item Let $\mathfrak{k}$ be a locally compact field with $|\mathfrak{k}|>3$.
            Then $\SL_n(\mathfrak{k})$ is perfect.

            Let $\{E_{ij}\}_{i,j=1}^n$ be a matrix unit for $M_n(\mathfrak{k})$, so $E_{ij}E_{k\ell}=\delta_{jk}E_{il}$.

            If $\lambda\in\mathfrak{k}$, $i,j,k$ distinct (i.e. $n\geq 3$), then
            \begin{equation*}
                [e+\lambda E_{ik},e+E_{kj}]=(e+\lambda E_{ik})(e+E_{kj})(e-\lambda E_{ik})(e-E_{kj})=e+\lambda E_{ij}.
            \end{equation*}
            If $n=2$, then
            \begin{equation*}
                \left[\begin{pmatrix}\alpha&0\\0&\alpha^{-1}\end{pmatrix},\begin{pmatrix}1&\beta\\0&1\end{pmatrix}\right]=e+\lambda E_{12}
            \end{equation*}
            where $\lambda=(1-\alpha^2)\beta$.

            If $S=\langle e+\lambda E_{ij}:\lambda\in\mathfrak{k},i\neq j\rangle$.
            Using only elemnentary operations induced by multiplying by elements of $S$ on the left, and element $a$ of $\SL_n(\mathfrak{k})$ satisfies
            (see pic)

            By an evident induction, we see that there are $s_1,s_2\in S$ so $s_1sas_2=e$.
            Thus $a=s^{-1}s_1^{-1}s_2^{-1}\in S$.
        \item Let $\mathfrak{k}=\R$ or $\C$.
            Consider $G=\GL_n(\mathfrak{k})$.
            Notice that $Z=Z(G)=\mathfrak{k}^\times e$.
            From (i), $\SL_n(\mathfrak{k})$ is perfect.

            Let $H=Z\cdot\SL_n(\mathfrak{k})$, which is closed (check!) and $\quot{H}{Z}\cong\quot{\SL_n(\mathfrak{k})}{Z\cap\SL_n(\mathfrak{k})}$ is perfect, being the quotient of a perfect group, hence unimodular.
            
            If $\mathfrak{k}=\C$ or $\mathfrak{k}=\R$ and $n$ is odd, $H=G$.
            Else if $\mathfrak{k}=\R$ and $n$ is even, then $H=\GL_n(\R)_e=\det^{-1}((0,\infty))$ (connnected component of $e$) and $G=\GL_n(\R)_e\cupdot(-e)\GL_n(\R)_e$, so $\quot{G}{H}\cong\{-1,1\}$ is compact.
        \item $E(n)=\R^n \rtimes \SO(n)$.
            Since $N=\R^n\rtimes\{e\}$ is closed, normal, and abelian, and $\quot{G}{N}=\SO(n)$ is compact.
        \item Consider
            \begin{equation*}
                \mathbb{H}=\left\{\begin{pmatrix}1&x&z\\0&1&y\\0&0&1\end{pmatrix}:x,y,z\in\R\right\}
            \end{equation*}
            then
            \begin{equation*}
                Z(\mathbb{H})=\left\{\begin{pmatrix}1&0&z\\0&1&0\\0&0&1\end{pmatrix}:z\in\R\right\}
            \end{equation*}
            has $\quot{\mathbb{H}}{Z}\cong\R^2$.
    \end{enumerate}
\end{example}
\begin{remark}
    In A1, a ``Braconnier'' modular function $\delta:\Aut(G)\to(0,\infty)$ is defined.
    \begin{enumerate}[nl,r]
        \item If $\gamma:G\to\Aut(G)$ has $\gamma(x)(y)=xyx^{-1}$, so $\gamma$ is a homomorphism.
            Then $\delta(\gamma(x))=\frac{1}{\Delta(x)}$.
        \item If $G$ is compact and $\alpha\in\Aut(G)$, then $\alpha(G)=G$ so $1=m(G)=m(\alpha(G))$ and $\delta(\alpha)=1$.
        \item If $G$ is discrete and $\alpha\in\Aut(G)$, then for any non-empty finite $F\subseteq G$, we have $|F|=|\alpha(F)|$, and it follows that $\delta(\alpha)=1$.
        \item If $G$ is unimodular and $H$ an open subgroup of $G$, then $H$ is unimodular
            However, there is some subtlety here:
            \begin{equation*}
                H=\left\{\begin{pmatrix}a&b\\0&a^{-1}\end{pmatrix}:a,b\in\R,a>0\right\}
            \end{equation*}
            is closed in $\SL_2(\R)$ and $H\cong\R\rtimes(0,\infty)$ is not unimodular.
            Moreover,
            \begin{equation*}
                N=\left\{\begin{pmatrix}1&b\\0&1\end{pmatrix}:b\in\R,a>0\right\}
            \end{equation*}
            is open, normal and abelian in $G=\left\{\begin{pmatrix}2^n &r\\0&1\end{pmatrix}n\in\Z,r\in\R\right\}$ and $G$ is closed in $\GL_2(\R)$.
    \end{enumerate}
\end{remark}
\subsection{The Convolution Algebra of Measures}
Let $G$ be a locally compact group.
Let
\begin{align*}
    M(G) &= \{\mu:\mathcal{B}(G)\to\C:\mu\text{ Radon measure}\}=\spn M_+(G)\\
    M_+(G) &= \{\mu:\mathcal{B}(G)\to[0,\infty)|\mu\text{ Radon}]
\end{align*}
If $\mu\in M_+(G)$ with $\mu(G)<\infty$ so $\mu$ is finite.

Recall the Hahn-Jordan Decomposition: each $\mu$ in $M(G)$ admits a decomposition $\mu=\sum_{k=0}^3 i^k\mu_k$ where each $\mu_i\in M_+(G)$, $\mu_0\perp\mu_2$, and $\mu_1\perp\mu_3$.
Any measures satisfying this decomposition are unique.
\begin{definition}
    If $\mu\in M(G)$, we define the $|\mu|:\mathcal{B}(G)\to[0,\infty)$ by
    \begin{equation*}
        |\mu|(E)=\sup\left\{\sum_{k=1}^\infty|\mu(E_k)|:E=\bigcupdot_{k=1}^\infty E_k,E_k\in\mathcal{B}(G)\right\}
    \end{equation*}
    and $|\mu|=M_+(G)$.
    If $\mu=\sum_{k=0}^3i^k\mu_k$ as in Hahn-Jordan, then $|\mu_0-\mu_2|=\mu_0+\mu_2$ and $|\mu_1-\mu_3|=\mu_1+\mu_3$.
    Furthermore,
    \begin{equation*}
        |\mu|\leq|\mu_0-\mu_2|+|\mu_1-\mu_3|\text{ and }|\mu_0-\mu_2||\mu_1-\mu_3|\leq|\mu|
    \end{equation*}
\end{definition}
\begin{theorem}[Riesz-Markov Duality]
    Let $C_0(G)=\overline{C_c(G)}\subseteq C_b(G)$ with the uniform topology.
    Then $C_0(G)^*\cong M(G)$ through the map $\mu\mapsto \langle\mu,\cdot\rangle$ where $\langle \mu,f\rangle=\int_G f\d{\mu}$.
    Moreover, $\norm{\langle\mu,\cdot\rangle}_{\text{op}}=|\mu|(G)$.
\end{theorem}
\begin{remark}
    Let $\mathcal{B}^\infty(G)=\{f:G\to\C:f\text{ bounded and Borel measurable}\}$, which is a Banach space under the uniform norm.
    Note that $\mathcal{B}^\infty(G)=\overline{\spn}\{1_E:E\in\mathcal{B}(G)\}$.
    We have
    \begin{equation*}
        \left\lvert\int_G f\d{\mu}\right\rvert\leq\int_G|f|d|\mu|\leq\norm{f}_\infty\norm{\mu}_1
    \end{equation*}
\end{remark}
If $\mu\in M(G)$ and $\epsilon>0$, then inner regularity provides compact $K\subseteq G$ such that $|\mu|(K)>|\mu(G)-\epsilon$.
Hence $|\mu|(G\setminus K)<\epsilon$.
Then $\norm{\mu-\mu_k}_1=\norm{\mu_{G\setminus K}}_1=|\mu|(G\setminus K)<\epsilon$.
\begin{lemma}[Continuous Fubini]
    Let $X,Y$ be locally compact spaces, $\mu\in M(X)$, $\nu\in M(Y)$.
    Then there is a measure $\mu\times\nu\in M(X\times Y)$ such that
    \begin{equation*}
        \int_{X\times Y}f\d{(\mu\times\nu)}+\int_Y\int_X f\d{\mu}\d{\nu}=\int_X\int_Yf\d{\nu}\d{\mu}
    \end{equation*}
    for any $f\in C_b(X)$.
\end{lemma}
\begin{proof}
    Let $\mathcal{A}=\spn\{\phi\times\psi:\phi\in C_0(X),\psi\in C_0(Y)\}$ where $\phi\times\psi(x,y)=\phi(x)\psi(y)$.
    Then $\overline{\mathcal{A}}=C_0(X\times Y)$ in the uniform topology.
    We define for $f\in\mathcal{A}$
    \begin{equation*}
        J(f) = \int_X\int_Y f\d{\nu}\d{\mu}\int_Y\int_X f\d{\mu}\d{\nu}
    \end{equation*}
    so that $J$ is linear on $\mathcal{A}$ and
    \begin{equation*}
        |J(F)|\leq\norm{f}_\infty|\mu|(X)|\nu|(Y)
    \end{equation*}
    so $J$ is bounded.
    Thus $J$ is uniformly continuous and hence extens uniquely to $C_0(X\times Y)$ as a bounded linear functional with $\norm{J}\leq\norm{\mu}_1\norm{\nu}_1$.
    By Riesz-Markov, there is $\mu\times \nu\in M(X\times Y)$ such that $J(f)=\int_{X\times Y}f\d{(\mu\times\nu)}$.
    Uniform limits are pointwise limits, so LDCT tells us that we have Fubini for $f\in C_0(X\times Y)$.

    By inner regularity, find $(K_n)_{n=1}^\infty$ and $(L_n)_{n=1}^\infty$ so that $\lim_{n\to\infty}\norm{\mu-\mu_{K_n}}_1=0=\lim_{n\to\infty}\norm{\nu-\nu_{L_n}}_1$.
    For each $n$, let $f_n\in C_c(X\times Y)$ be such that $f|_{K_n\times L_n}=f_n|_{K_n\times L_n}$ (Urysohn).
    We also notice that $(\mu\times\nu)_{K_n\times L_n}=\mu_{K_n}\times\nu_{L_n}$.
    Then check that $\lim_{n\to\infty}\norm{(\mu\times\nu)_{K_n\times L_n}-\mu\times\nu}_1=0$.
    Then for $f\in C_b(X\times Y)$,
    \begin{align*}
        \int_{X\times Y}f\d{(\mu\times\nu)} &= \lim_{n\to\infty}\int_{X\times Y}f\d{(\mu\times\nu)_{K_n\times L_n}}\\
                                            &= \lim_{n\to\infty}\int_{X\times Y}f_n\d{(\mu\times\nu)_{K_n\times L_n}}\\
                                            &= \lim_{n\to\infty}\int_X\int_Y f_n\d{\nu_{L_n}}\d{\mu_{K_n}}\\
                                            &= \lim_{n\to\infty}\int_X\int_Y f\d{\nu_{L_m}}\d{\mu_{K_n}}=\int_X\int_Y f\d{\nu}\d{\mu}
    \end{align*}
\end{proof}
\begin{theorem}
    Given $\mu,\nu$ in $M(G)$, there is a unique measure $\mu*\nu$ in $M(G)$ such that
    \begin{equation*}
        \int_G f\d{\mu*\nu}=\int_G\int_Gf(xy)\d{\mu(x)}\d{\mu(y)}
    \end{equation*}
    for $f\in C_0(G)$.
    The map $(\mu,\nu)\mapsto \mu*\nu$ is bilinear, associative, and satisfies $\norm{\mu*\nu}_1\leq\norm{\mu}_1\norm{\nu}_1$.
    Hence $(M(G),*)$ is a Banach algebra.
\end{theorem}
\begin{claim}
    Given $\mu\in M(G)$ and $f\in C_0(G)$, define $f\cdot\mu,\mu\cdot f:G\to\C$ by
    \begin{align*}
        f\cdot\mu(x) &=\langle \mu,x\cdot f\rangle=\int_G f(yx)\d{\mu(y)}\\
        \mu\cdot f(x)=\langle\mu,f\cdot x\rangle=\int_Gf(xy)\d{\mu(y)}
    \end{align*}
    Notice that $\mu\cdot f(e)=f\cdot\mu(e)$.
    Then $f\cdot\mu$, $\mu\cdot f$ in $C_0(G)$.
\end{claim}
\begin{nmproof}
    Indeed, let us check continuity of $\mu\cdot f$.
    Let $\epsilon>0$ and $V$ be a neighbourhood of $e$ such that $|f(x)-f(x')|<\epsilon$ for $x'x^{-1}\in V$ (uniform continuity, $\overline{C_c(G)}=C_0(G)$, uniform limit of uniformly cts is uniformly cts).
    Then
    \begin{equation*}
        |\mu\cdot f(x)-\mu\cdot f(x')|\leq\int_G|f(xy)-f(x'y)|\d{|\mu|(y)}\leq\epsilon|\mu|(G)
    \end{equation*}
    is uniformly continuous, hence continuous.
    Notice that $|\mu\cdot f(x)|\leq\int_G|f(xy)|\d{|\mu|(Y)}\leq\norm{f}_\infty\norm{\mu}_1$.
    Now, given $\epsilon>0$, let $K\subseteq G$ be compact so $\norm{\mu-\mu_K}_1<\epsilon$ and $f'\in C_c(G)$ be so $\norm{f-f'}_\infty<\epsilon$.
    Then
    \begin{align*}
        \norm{\mu\cdot f-\mu_K\cdot f'}_\infty&\leq\norm{\mu\cdot f-\mu_k\cdot f}_\infty+\norm{\mu_K\cdot f-\mu_K\cdot f'}_\infty\\
                                              &\leq\norm{\mu-\mu_K}_1\norm{f}_\infty+\norm{\mu_K}_1\norm{f-f'}_\infty\\
                                              &< (\norm{\mu}_1+\norm{f}_\infty)\epsilon
    \end{align*}
    and $\supp(\mu_K\cdot f')\subseteq\supp(f')K^{-1}$, so $u_k\cdot f\in C_c(G)$.
    Thus $\mu\cdot f\in C_0(G)$.
    Similarly, $f\cdot\mu\in C_0(G)$.
    It is evident that $(\mu,f)\mapsto\mu\cdot f$ and $(f,\mu)\mapsto f\cdot\mu$ are bilinear.
\end{nmproof}

\begin{claim}
    If $\mu,\nu\in M(G)$, then $\mu\cdot(f\cdot\nu)=(\mu\cdot f)\cdot\nu$ and $\langle\mu,f\cdot\mu\rangle=\langle\nu,\mu\cdot f\rangle$.
\end{claim}
\begin{nmproof}
    Use Fubini for continuous functions: for $x$ in $G$,
    \begin{align*}
        \mu\cdot(f\cdot\nu)(x) &= \int_G(f\cdot\nu)(xy)\d{\mu(y)}= \int_G\int_Gf(zxy)\d{\nu(z)}\d{\mu(y)}\\
                               &= \int_G\int_G f(zxy)\d{\mu(y)}\d{\nu(z)}\\
                               &= \int_G(\mu\cdot f)(zx)\d{\nu(z)}=(\mu\cdot f)\cdot\nu(x)
    \end{align*}
\end{nmproof}
\begin{claim}
    For $\mu,\nu$ in $M(G)$, define for $f$ in $C_0(G)$
    \begin{equation*}
        \langle\mu*\nu,f\rangle=\langle\mu,\nu\cdot f\rangle=\langle\nu,f\cdot\mu\rangle
    \end{equation*}
    Then $\mu*\nu$ is unique and satisfies the required properties.
\end{claim}
\begin{proof}
    Uniqueness follows by Riesz-Markov (...?)

    Moreover, $(\mu,\nu)\mapsto\mu*\nu$ is evidently bilinear and
    \begin{equation*}
        |\langle\mu*\nu,f\rangle|=|\langle\mu,\nu\cdot f\rangle|\leq\norm{\mu}_1\norm{\nu\cdot f}_\infty\leq\norm{\mu}_1\norm{\nu}_1\norm{f}_\infty.
    \end{equation*}
    This shows that
    \begin{itemize}[nl]
        \item $f\mapsto\langle\mu\times\nu,f\rangle$ is bounded, and hence $\mu*\nu$ is an element of $M(G)$ (by Riesz-Markov)
        \item $\norm{\mu*\nu}_1\leq\norm{\mu}_1\norm{\nu}_1$
    \end{itemize}
    It remains to see associativity.
    If $\rho\in M(G)$, then for $f\in C_0(G)$,
    \begin{align*}
        \langle\mu*(\nu*\rho)\rangle&=\langle\nu*\rho,f\cdot\mu\rangle=\langle\nu,\rho\cdot(f\cdot\mu)\rangle\\
                                    &=\langle\mu*\nu,\rho\cdot f\rangle
    \end{align*}
\end{proof}
\begin{remark}
    \begin{enumerate}[nl,r]
        \item If $\mu\in M(G)$, let $R_\mu,L_\mu:C_0(G)\to C_0(G)$ be given by $L_\mu f=\mu\cdot f$, $R_\mu f=f\cdot\mu$.
            Then for $\nu\in M(G)$, $\mu*\nu=R_\mu^*(\nu)=L_\nu^*(\mu)$ which shows $\nu\mapsto\mu*\nu$ or $\nu\mapsto\nu*\mu$ are each $w^*-w^*$-continuous.
            Note that $(\mu,\nu)\mapsto \mu*\nu$ may not be $w^*-w^*$-continuous.
        \item Let for $x$ in $G$ $\delta_x(E)$ be the point mass measure at $x$.
            Then $\langle\delta_x,f\rangle=f(x)$ for $f\in C_0(G)$.
            Then $\delta_x*\delta_y=\delta_{xy}$.
        \item If $\mu,\nu\in M_+(G)$, then $\mu*\nu\in M_+(G)$.
    \end{enumerate}
\end{remark}
\subsection{Atomic-Continuous and Lebesgue Decompositions}
Let $\mu\in M(G)$ and set
\begin{equation*}
    A(\mu) = \{x\in G:|\mu|(\{x\})>0\}=\bigcup_{n=1}\infty\left\{x\in G:|\mu(\{x\})>\frac{1}{n}\right\}
\end{equation*}
so $A(\mu)$ is countable.
For any $x\in G$, $|\mu|(\{x\})=|\mu(\{x\})|$ by definition of $|\mu|$ and hence
\begin{equation*}
    \sum_{x\in A(\mu)}|\mu(\{x\})|=\sum_{x\in A(\mu)}|\mu|(\{x\})=|\mu|(A(\mu))<\infty.
\end{equation*}
We then define the \defn{atomic} or \defn{discrete} part of $\mu$ by
\begin{equation*}
    \mu_d=\sum_{x\in A(\mu)}\mu(\{x\})\delta_x\in M(G)
\end{equation*}
and the \defn{continuous part} by
\begin{equation*}
    \mu_c=\mu-\mu_dd
\end{equation*}
Then $\mu_c\perp\mu_d$ so
\begin{equation*}
    \norm{\mu}_1=|\mu|(G)=|\mu_c|(G)+|\mu_d|(G)=\norm{\mu_c}_1+\norm{\mu_d}_1
\end{equation*}
The set $M_d(G)=\overline{\spn}\{\delta_x:x\in G\}$ is a subspace of $M(G)$, and $M_d(G)\cong\ell^1(G)$ isometrically.
Thus $M_c(G)=\im P_c$ is a closed subspace.

If $G$ is discrete, then $|\mu_c|(G)=0$ so $M(G)=M_d(G)\cong\ell^1(G)$.

If $G$ is not discrete, then $\{e\}$ is a closed, non-open subgroup, so for $x\in G$, $m(\{x\})=0$ where $m$ is the Haar measure.
Hence the measures absolutely continuous with respect to $m$ satisfy $M_d(G)\subseteq M_c(G)$.
We can employ the Lebesgue decomposition to write $\mu_c=\mu_a+\mu_{cs}$ where $\mu_a\ll m$ and $\mu_a\perp \mu_{cs}$.
Moreover, the Radon-Nikodym derivative has $\frac{\d{\mu}}{\d{m}}\in L^1(G)$.
To conclude,
\begin{align*}
    M(G) &= M_c(G)\oplus_1 M_d(G)\\
         &= M_a(G)\oplus_1 M_{cs}(G)\oplus_1 M_d(G)\\
         &\cong L^1(G)\oplus_1 M_{cs}(G)\oplus_1 \ell^1(G)
\end{align*}
Certainly $\ell^1(G)$ is a subalgebra.
We will show that the remaining components are also subalgebras.
\section{Abelian Locally Compact Groups}
\section{Compact Groups}
\section{Introduction to Amenability Theory}
\end{document}
