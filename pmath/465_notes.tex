% header -----------------------------------------------------------------------
% Template created by texnew (author: Alex Rutar); info can be found at 'https://github.com/alexrutar/texnew'.
% version (1.13)


% doctype ----------------------------------------------------------------------
\documentclass[11pt, a4paper]{memoir}
\usepackage[utf8]{inputenc}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=4cm]{geometry}
\usepackage[protrusion=true,expansion=true]{microtype}


% packages ---------------------------------------------------------------------
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{graphicx}
\usepackage{etoolbox}

% Set enimitem
\usepackage{enumitem}
\SetEnumitemKey{nl}{nolistsep}
\SetEnumitemKey{r}{label=(\roman*)}

% Set tikz
\usepackage{tikz, pgfplots}
\pgfplotsset{compat=1.15}
\usetikzlibrary{intersections,positioning,cd}
\usetikzlibrary{arrows,arrows.meta}
\tikzcdset{arrow style=tikz,diagrams={>=stealth}}

% Set hyperref
\usepackage[hidelinks]{hyperref}
\usepackage{xcolor}
\newcommand\myshade{85}
\colorlet{mylinkcolor}{violet}
\colorlet{mycitecolor}{orange!50!yellow}
\colorlet{myurlcolor}{green!50!blue}

\hypersetup{
  linkcolor  = mylinkcolor!\myshade!black,
  citecolor  = mycitecolor!\myshade!black,
  urlcolor   = myurlcolor!\myshade!black,
  colorlinks = true,
}


% macros -----------------------------------------------------------------------
\DeclareMathOperator{\N}{{\mathbb{N}}}
\DeclareMathOperator{\Q}{{\mathbb{Q}}}
\DeclareMathOperator{\Z}{{\mathbb{Z}}}
\DeclareMathOperator{\R}{{\mathbb{R}}}
\DeclareMathOperator{\C}{{\mathbb{C}}}
\DeclareMathOperator{\F}{{\mathbb{F}}}

% Boldface includes math
\newcommand{\mbf}[1]{{\boldmath\bfseries #1}}

% proof implications
\newcommand{\imp}[2]{($#1\Rightarrow#2$)\hspace{0.2cm}}
\newcommand{\impe}[2]{($#1\Leftrightarrow#2$)\hspace{0.2cm}}
\newcommand{\impr}{{($\Rightarrow$)\hspace{0.2cm}}}
\newcommand{\impl}{{($\Leftarrow$)\hspace{0.2cm}}}

% align macros
\newcommand{\agspace}{\ensuremath{\phantom{--}}}
\newcommand{\agvdots}{\ensuremath{\hspace{0.16cm}\vdots}}

% convenient brackets
\newcommand{\brac}[1]{\ensuremath{\left\langle #1 \right\rangle}}
\newcommand{\norm}[1]{\ensuremath{\left\lVert#1\right\rVert}}
\newcommand{\abs}[1]{\ensuremath{\left\lvert#1\right\rvert}}

% arrows
\newcommand{\lto}[0]{\ensuremath{\longrightarrow}}
\newcommand{\fto}[1]{\ensuremath{\xrightarrow{\scriptstyle{#1}}}}
\newcommand{\hto}[0]{\ensuremath{\hookrightarrow}}
\newcommand{\mapsfrom}[0]{\mathrel{\reflectbox{\ensuremath{\mapsto}}}}
 
% Divides, Not Divides
\renewcommand{\div}{\bigm|}
\newcommand{\ndiv}{%
    \mathrel{\mkern.5mu % small adjustment
        % superimpose \nmid to \big|
        \ooalign{\hidewidth$\big|$\hidewidth\cr$/$\cr}%
    }%
}

% Convenient overline
\newcommand{\ol}[1]{\ensuremath{\overline{#1}}}

% Big \cdot
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother

% Big and small Disjoint union
\makeatletter
\providecommand*{\cupdot}{%
  \mathbin{%
    \mathpalette\@cupdot{}%
  }%
}
\newcommand*{\@cupdot}[2]{%
  \ooalign{%
    $\m@th#1\cup$\cr
    \sbox0{$#1\cup$}%
    \dimen@=\ht0 %
    \sbox0{$\m@th#1\cdot$}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}

\providecommand*{\bigcupdot}{%
  \mathop{%
    \vphantom{\bigcup}%
    \mathpalette\@bigcupdot{}%
  }%
}
\newcommand*{\@bigcupdot}[2]{%
  \ooalign{%
    $\m@th#1\bigcup$\cr
    \sbox0{$#1\bigcup$}%
    \dimen@=\ht0 %
    \advance\dimen@ by -\dp0 %
    \sbox0{\scalebox{2}{$\m@th#1\cdot$}}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}
\makeatother


% macros (theorem) -------------------------------------------------------------
\usepackage[thmmarks,amsmath,hyperref]{ntheorem}
\usepackage[capitalise,nameinlink]{cleveref}

% Numbered Statements
\theoremstyle{change}
\theoremindent\parindent
\theorembodyfont{\itshape}
\theoremheaderfont{\bfseries\boldmath}
\newtheorem{theorem}{Theorem.}[section]
\newtheorem{lemma}[theorem]{Lemma.}
\newtheorem{corollary}[theorem]{Corollary.}
\newtheorem{proposition}[theorem]{Proposition.}

% Claim environment
\theoremstyle{plain}
\theorempreskip{0.2cm}
\theorempostskip{0.2cm}
\theoremheaderfont{\scshape}
\newtheorem{claim}{Claim}
\renewcommand\theclaim{\Roman{claim}}
\AtBeginEnvironment{theorem}{\setcounter{claim}{0}}

% Un-numbered Statements
\theorempreskip{0.1cm}
\theorempostskip{0.1cm}
\theoremindent0.0cm
\theoremstyle{nonumberplain}
\theorembodyfont{\upshape}
\theoremheaderfont{\bfseries\itshape}
\newtheorem{definition}{Definition.}
\theoremheaderfont{\itshape}
\newtheorem{example}{Example.}
\newtheorem{remark}{Remark.}

% Proof / solution environments
\theoremseparator{}
\theoremheaderfont{\hspace*{\parindent}\scshape}
\theoremsymbol{$//$}
\newtheorem{solution}{Sol'n}
\theoremsymbol{$\blacksquare$}
\theorempostskip{0.4cm}
\newtheorem{proof}{Proof}
\theoremsymbol{}
\newtheorem{nmproof}{Proof}

% Format references
\crefformat{equation}{(#2#1#3)}
\Crefformat{theorem}{#2Thm. #1#3}
\Crefformat{lemma}{#2Lem. #1#3}
\Crefformat{proposition}{#2Prop. #1#3}
\Crefformat{corollary}{#2Cor. #1#3}
\crefformat{theorem}{#2Theorem #1#3}
\crefformat{lemma}{#2Lemma #1#3}
\crefformat{proposition}{#2Proposition #1#3}
\crefformat{corollary}{#2Corollary #1#3}


% macros (algebra) -------------------------------------------------------------
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\chr}{char}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\disc}{disc}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Fix}{Fix}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Nil}{Nil}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\Res}{Res}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\Stab}{Stab}
\DeclareMathOperator{\Tor}{Tor}

% Lagrange symbol
\newcommand{\lgs}[2]{\ensuremath{\left(\frac{#1}{#2}\right)}}

% Quotient (larger in display mode)
\newcommand{\quot}[2]{\mathchoice{\left.\raisebox{0.14em}{$#1$}\middle/\raisebox{-0.14em}{$#2$}\right.}
                                 {\left.\raisebox{0.08em}{$#1$}\middle/\raisebox{-0.08em}{$#2$}\right.}
                                 {\left.\raisebox{0.03em}{$#1$}\middle/\raisebox{-0.03em}{$#2$}\right.}
                                 {\left.\raisebox{0em}{$#1$}\middle/\raisebox{0em}{$#2$}\right.}}


% macros (analysis) ------------------------------------------------------------
\DeclareMathOperator{\M}{{\mathcal{M}}}
\DeclareMathOperator{\B}{{\mathcal{B}}}
\DeclareMathOperator{\ps}{{\mathcal{P}}}
\DeclareMathOperator{\pr}{{\mathbb{P}}}
\DeclareMathOperator{\E}{{\mathbb{E}}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\sgn}{sgn}

\renewcommand{\Re}{\ensuremath{\operatorname{Re}}}
\renewcommand{\Im}{\ensuremath{\operatorname{Im}}}
\renewcommand{\d}[1]{\ensuremath{\operatorname{d}\!{#1}}}


% file-specific preamble -------------------------------------------------------
\usepackage{braket}
\DeclareMathOperator{\Ss}{{\mathbb{S}}}
\DeclareMathOperator{\Pp}{{\mathbb{P}}}
\DeclareMathOperator{\Ind}{Ind}
\newcommand{\prt}[2]{\ensuremath{\frac{\partial #1}{\partial #2}}}
\newcommand{\prtt}[3]{\ensuremath{\frac{\partial^2 #1}{\partial #2\partial #3}}}
\newcommand{\inner}[2]{\ensuremath{\langle #1,#2\rangle}}


% constants --------------------------------------------------------------------
\newcommand{\subject}{PMATH 465}
\newcommand{\semester}{Fall 2019}


% formatting -------------------------------------------------------------------
% Fonts
\usepackage{kpfonts}
\usepackage{dsfont}

% Adjust numbering
\numberwithin{equation}{section}
\counterwithin{figure}{section}
\counterwithout{section}{chapter}
\counterwithin*{chapter}{part}

% Footnote
\setfootins{0.5cm}{0.5cm} % footer space above
\renewcommand*{\thefootnote}{\fnsymbol{footnote}} % footnote symbol

% Table of Contents
\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand*{\cftchaptername}{Chapter } % Place 'Chapter' before roman
\setlength\cftchapternumwidth{4em} % Add space before chapter name
\cftpagenumbersoff{chapter} % Turn off page numbers for chapter
\maxtocdepth{section} % table of contents up to section

% Section / Subsection headers
\setsecnumdepth{section} % numbering up to and including "section"
\newcommand*{\shortcenter}[1]{%
    \sethangfrom{\noindent ##1}%
    \Large\boldmath\scshape\bfseries
    \centering
\parbox{5in}{\centering #1}\par}
\setsecheadstyle{\shortcenter}
\setsubsecheadstyle{\large\scshape\boldmath\bfseries\raggedright}

% Chapter Headers
\chapterstyle{verville}

% Page Headers / Footers
\copypagestyle{myruled}{ruled} % Draw formatting from existing 'ruled' style
\makeoddhead{myruled}{}{}{\scshape\subject}
\makeevenfoot{myruled}{}{\thepage}{}
\makeoddfoot{myruled}{}{\thepage}{}
\pagestyle{myruled}
\setfootins{0.5cm}{0.5cm}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}

% Titlepage
\title{\subject}
\author{Alex Rutar\thanks{\itshape arutar@uwaterloo.ca}\\ University of Waterloo}
\date{\semester\thanks{Last updated: \today}}

\begin{document}
\pagenumbering{gobble}
\hypersetup{pageanchor=false}
\maketitle
\newpage
\frontmatter
\hypersetup{pageanchor=true}
\tableofcontents*
\newpage
\mainmatter


% main document ----------------------------------------------------------------
\chapter{Fundamentals of Manifolds}
\section{Introduction to Topology}
\subsection{Basic Constructions}
\begin{definition}
    A \textbf{topology} on a set $X$ is a set $\tau$ of subsets of $X$ such that
    \begin{enumerate}[nl,r]
        \item $\emptyset\in\tau$ and $X\in\tau$
        \item If $U_\alpha\in\tau$ for all $\alpha\in A$, then $\bigcup_{\alpha\in A}U_\alpha\in\tau$.
        \item If $n\in\N$ and $U_i\in\tau$ for each $1\leq i\leq n$, then $\bigcap_{i=1}^n U_i\in\tau$.
    \end{enumerate}
    The sets $U\in\tau$ are called the \textbf{open sets} in $X$, and sets of the form $X\setminus U$ for some open set $U$ are caled the \textbf{closed sets} in $X$.
\end{definition}
\begin{definition}
    When $X$ is a topological space and $A\subseteq X$, the \textbf{interior} of $A$ (denoted $A^\circ$) is the union of all open sets contained in $A$.
    Similarly, we define the \textbf{closure} of $A$ (denoted $\overline{A}$) as the intersction of all closed sets containing $A$.
    Then the \textbf{boundary} of $A$, denoted by $\partial A$, is the set $\partial A=\overline{A}\setminus A^\circ$.
\end{definition}
\begin{example}
    Let $X$ be any set.
    The \textbf{discrete topology} on $X$ is the topology $\tau=\mathcal{P}(X)$, and the \textbf{trivial topology} on $X$ is the topology $\tau=\{\emptyset,X\}$.
\end{example}
\begin{definition}
    A \textbf{basis} for a topology on a set $X$ is a set $\mathcal{V}$ of subsets of $X$
    \begin{enumerate}[nl,r]
        \item $\bigcup_{B\in \mathcal{B}}b=X$
        \item for all $a\in X$ and $U,V\in\mathcal{B}$ such that $a\in U\cap V$, then there exists $W\in\mathcal{B}$ with $a\in W\subseteq U\cap V$.
    \end{enumerate}
    When $\mathcal{B}$ is a basis for a topology on $X$, the topology on $X$ \textbf{generated} by $\mathcal{B}$ is the set $\tau$ of subsets of $X$ such that for $W\subseteq X$, $W\in\tau$ if and only if for all $a\in W$, there exists $U\in \mathcal{B}$ such that $a\in U\subseteq W$.
\end{definition}
Note that $\tau$, as above, is a topology on $X$ since
\begin{enumerate}[nl,r]
    \item $\emptyset\in\tau$ vacuously and $X\in\tau$ obviously.
    \item If $A_k\in\tau$ for all $k\in K$ (where $K$ is any set of indices), then given $a\in\bigcup_{x\in K}A_k$, we can choose $\ell\in K$ so that $a\in A_\ell$.
        Then since $A_\ell\in\tau$, we can choose $U_\ell\in\mathcal{B}$ so that $a\in U_\ell\subseteq A_\ell$.
        Thus $a\in U_\ell\subseteq A_\ell\subseteq\bigcup_{k\in K}A_k$.
    \item By induction, it suffices to prove that if $A,B\in\tau$, then $A\cap B\in\tau$.
        Suppose $A,B\in\tau$, and let $a\in A\cap B$.
        Since $A\in\tau$, we cna choose $U\in\mathcal{B}$ so that $a\in U\subseteq A$.
        Since $B\in\tau$, we can choose $V\in\mathcal{B}$ so that $a\in V\subseteq B$.
        Then we have $a\in U\cap V$.
        Since $\mathcal{B}$ is a basis, we can chose $W\in\mathcal{B}$ with $a\in W\subseteq U\cap V$, so $a\in W\subseteq U\cap V\subseteq A\cap B$.
\end{enumerate}
Note that when $\tau$ is the topology on $X$ generated by the basis $\mathcal{B}$, for $A\subseteq X$, $A\in\tau$ if and only if there exists some $S\subseteq\mathcal{B}$ such that $A=\bigcup_{s\in S}s$.
In this sense, the topology $\tau$ on $X$ generated by the basis $\mathcal{B}$ is the coarsest topology which contains $\mathcal{B}$.
\begin{definition}[Subspace Topology]
    When $Y$ is a topological space and $X\subseteq Y$ is a subset of $Y$, we define the \textbf{subspace topology} on $X$ to be the topology for which as set $U\subseteq X$ is open if and only if $U=X\cap V$ for some open set $V$.
\end{definition}
If $\mathcal{C}$ is a basis for the topology on $Y$, then $\mathcal{B}=\Set{X\cap V | V\in\mathcal{C}}$ is a basis for the subspace topology on $X$.
\begin{definition}[Disjoint Union Topology]
    If $X$ and $Y$ are topological spaces with $X\cap Y=\emptyset$, then the \textbf{disjoint union topology} on $X\cup Y$ is the topology in which a subset $U\subseteq X\cup Y$ is open in $X\cup Y$ if and only if $U\cap X$ is open in $X$ and $U\cap Y$ is open in $Y$.
\end{definition}
\begin{definition}[Product Topology]
    If $X$ and $Y$ are topological spaces, the \textbf{product topology} on $X\times Y$ is the topology generted by the basis
    \begin{equation*}
        \mathcal{B}=\Set{U\times V | U\in\mathcal{C},V\in\mathcal{D}}
    \end{equation*}
    where $\mathcal{C}$ and $\mathcal{D}$ are bases for the topologies on $X,Y$ respectively.
\end{definition}
\begin{definition}[Infinite Product Topology]
    We define the infinite product to be
    \begin{equation*}
        \prod_{k\in K}\Set{f:K\to \bigcup_{k\in K}X_k | f(k)\in X_k\text{ for all }k\in K}
    \end{equation*}
    There are two standard topologies on $X$.
    The first is the \textbf{box topology},
    \begin{equation*}
        \mathcal{B}=\Set{\prod_{k\in K}U_k | U_k\text{ is open in }X_k}
    \end{equation*}
    and the \textbf{product topology}
    \begin{equation*}
        \mathcal{B}=\Set{\prod_{k\in K}U_k | \begin{array}{l}U_k\text{ is open in }X_k\\U_k=X_k\text{ for all but finitely many indices }k\end{array}}
    \end{equation*}
\end{definition}
\begin{example}[Metric Topology]
    $\R^n$ has a standard \textbf{inner product}, and for $u,v\in\R^n$, $\inner{u}{v}=u\cdot v=V^Tu=\sum_{i=1}^n u_iv_i$.
    This gives the standard norm on $\R^n$ for $u\in\R^n$, $\norm{u}=\sqrt{\inner{u}{v}}$.
    This gives the standard metric on $\R^n$: for $a,\in\R^n$, $d(a,b)=\norm{b-a}$.

    Given a metric on a set $Y$, we obtain (by restriction) an induced metric on any subset $X\subseteq Y$.
    Given a metric space $X$, we define the \textbf{metric topology} on $X$ to be the topology which is generated by the set of open balls
    \begin{equation*}
        B(a,r) = \Set{x\in X | d(a,x)<r}
    \end{equation*}
    where $x\in X$, $r>0$.
\end{example}
\subsection{Maps on Topological Spaces}
\begin{definition}
    When $X$ and $Y$ are topological spaces and $f:X\to Y$, we say that $f$ is \textbf{continuous} when it has the property that $f^{-1}(V)$ is open in $X$ for every open set $V$ in $Y$.
    We say that $f:X\to Y$ is a \textbf{homeomorphism} when $f$ is bijective and both $f$ and $f^{-1}$ are continuous.
    Then $X,Y$ are \textbf{homeomorphic} if there exists a homeomorphism $f:X\to Y$.
\end{definition}
\begin{theorem}[Glueing Lemma]
    Let $X$ and $Y$ be topological spaces, and let $f:X\to Y$ be a function.
    Suppose either
    \begin{enumerate}[nl,r]
        \item $X=\bigcup_{k\in K}A_k$ where each $A_k$ is open in $X$, or
        \item $X=\bigcup_{k=1}^nA_k$ where each $A_k$ is closed in $X$
    \end{enumerate}
    and each restriction map $f_k:A_k\to Y$ is continuous, then $f$ is continuous.
\end{theorem}
\begin{proof}
    Exercise.
\end{proof}
\begin{definition}
    A topological space $X$ is \textbf{compact} when it has the property that for every set $\mathcal{S}$ of open subsets of $X$ with $X=\bigcup_{U\in S}U$, there exists a finite subset $\mathcal{F}\subseteq \mathcal{S}$ such that $X=\bigcup_{F\in\mathcal{F}}F$.
\end{definition}
Note that when $X\subseteq Y$ is a subspace, $X$ is compact if and only if $X$ has the property that for every set $\mathcal{T}$ with $X\subseteq\bigcup_{T\in\mathcal{T}}T$, there exists a finite subset $\mathcal{G}\subseteq\mathcal{T}$ uch that $X\subseteq\bigcup_{G\in\mathcal{G}}G$.
\begin{definition}
    A topological space $X$ is \textbf{connected} when there do not exist non-empty disjoint open sets $U,V\in X$ such that $X=U\cup V$.
\end{definition}
Note that if $Y$ is a metric space and $X\subseteq Y$ is a subspsace, then $X$ if connected if and only if there do not exist open sets $U,V\in Y$ such that
\begin{equation*}
    X\cap U\neq\emptyset, X\cap V\neq\emptyset, U\cap V=\emptyset,\text{ and }X\subseteq U\cap V
\end{equation*}
\begin{definition}
    A topological space $X$ is called \textbf{path connected} when it has the property that for all $a,b\in X$, there exists a continuous map $\alpha:[0,1]\to X$ with $\alpha(0)=a$ and $\alpha(1)=b$.
\end{definition}
It is easy to see that if $X$ is path connected, then $X$ is connected.
\begin{definition}
    Let $X$ be a topological space.
    If we define a relation $\sim$ on $C$ by taking $a\sim b$ if and only if there exists a connected subspsace $A\subseteq X$ with $a\in A$ and $b\in B$.
\end{definition}
It is clear that this is an equivalence relation.
Note that when $X$ is a topological space, its connected components are connected, and each connected subspace of $X$ is contained in one of its connected components.
\begin{definition}
    Let $X$ be a topological space.
    Define a relation $\approx$ on $X$ by $a\approx b$ if and only if there exists a continuous map $\alpha:[0,1]\to X$ with $\alpha(0)=a$ and $\alpha(1)=b$.
    Such a map $\alpha$ is called a \textbf{continuous path}.
\end{definition}
One can show that if $X$ is \textbf{locally path connected} (which means that $X$ has a basis for its topology which consists of path connected sets), then the path components of $X$ are equal to the connected components of $X$, and that these components are open.
\subsection{Quotient Topology}
\begin{definition}[Quotient Topology]
    Let $X$ be a topological space and let $\sim$ be an equivalence relation on $X$.
    The set of equivalence classes is denoted $\quot{X}{\sim}$, and $\quot{X}{\sim}$ is called the \textbf{quotient} of $X$ by $\sim$.
    The map $\pi:X\to\quot{X}{\sim}$ given by $\pi(a)=[a]$ is called the natural \textbf{projection map} or \textbf{quotient map}.
    We define the \textbf{quotient topology} on $\quot{X}{\sim}$ by stipulating that for $W\subseteq \quot{X}{\sim}$, $W$ is open in $\quot{X}{\sim}$ if and only if $\pi^{-1}(W)$ is open in $X$.
\end{definition}
When a group $G$ acts on a topological space $X$, we define an equivalence relation $\sim$ on $X$ by $a\sim b$ if and only if $b=g\cdot a$ for some $g\in G$.
The equivalence classes are orbits.
In this context, we also write $\quot{X}{\sim}$ as $\quot{X}{G}$.

When $X,Y$ are any toplogical spaces and $\pi:X\to Y$ is surjective, we can define an equivalence relation $X$ by $a\sim b$ if and only if $\pi(a)=\pi(b)$.
We then have a natural bijection from $Y$ to $\quot{X}{\sim}$ in which $y\in Y$ corresponds to the fibre $\pi^{-1}(y)\in\quot{X}{\sim}$.

If $Y$ has the topology such that for $W\subseteq Y$, $W$ is open in $Y$ if and only if $q^{-1}(W)$ is open in $X$.
In this case, we also use the terminology ``quotient map'' for $\pi$.
\begin{remark}
    Let $X$ be a topological space and let $\sim$ be an equivalence relation on $X$.
    Let $Y$ be any set.
    If $f:X\to Y$ is constant on the equivalence classes, then $f$ induces a well-defined map $\overline{f}:\quot{X}{\sim}\to Y$ given by define $\overline{f}([a])=f(a)$.

\end{remark}
\begin{example}
    Define an equivalence class on $[0,1]\subseteq\R$ by $s\sim t$ if and only if $s=t$ or $\{s,t\}=\{0,1\}$.
    Then $\quot{[0,1]}{\sim}\cong\Ss^1$.
    Define $f:[0,1]\to\S^1$ by $f(t)=e^{i2\pi t}$.
    Note that $f(0)=f(1)$, so $f$ induces a continuous map $\overline{f}:\quot{[0,1]}{\sim}\to\Ss^1$.
    The inverse map can be constructed as follows.
    We define $g:\Ss^1\to\quot{[0,1]}{\sim}$ by
    \begin{equation*}
        g(x,y)=
        \begin{cases}
            \left[\frac{1}{2\pi}\cos^{-1} x\right] &: y\geq 0\\
            \left[1-\frac{1}{2\pi}\cos^{-1}x\right] &: y\leq 0
        \end{cases}
    \end{equation*}
    Then $g$ is continuous by the Glueing lemma.

    In particular, the same proof shows that $\quot{\R}{\Z}$ is homeomorphic to $\Ss^1$.
\end{example}
\begin{example}
    The projective space $\Pp^n=\Pp^n(\R)$ can be defined in several ways.
    $\Pp^n$ is the set of all $1-$dimensional vector subspaces of $\R^{n+1}$, or $\Pp^n=\quot{\R^{n+1}\setminus\{0\}}{\R^\times}$, or $\Pp^n=\quot{\Ss^n}{\pm 1}$ where $\Ss^n=\{u\in\R^{n+1}:|u|=1\}$.

    Let us show that $\quot{\R^{n+1}\setminus\{0\}}{\R^\times}$ is homeomorphic to $\quot{\Ss^n}{\pm 1}$.
    Define $f:\R^{n+1}\setminus\{0\}\to\Ss^n$ by $f(x)=x/|x|$, and $g=\pi\circ f$.
    Then $g$ is given by $g(x)=\{\pm x/|x|\}$.
    Note that for $t\in\R^\times$,
    \begin{equation*}
        g(tx)=\left[\frac{t}{|t|}\cdot\frac{x}{|x|}\right]=\left[\frac{x}{|x|}\right]
    \end{equation*}
    since $t/|t|=\pm 1$.
    Thus $g$ induces a continuous map $\overline{g}$ on the quotient.
    We construct the inverse map in a similar way.
\end{example}
\begin{definition}
    Let $X$ be a topological space.
    Then
    \begin{itemize}[nl]
        \item $X$ is \textbf{T1} when for all $a,b\in X$ there exists an open set $U$ in $X$ with $a\in U$ and $b\notin U$
        \item $X$ is \textbf{T2} or \textbf{Hausdorff} when for all $a,b\in X$, there exist disjoint open sets $U,V\subseteq X$ with $a\in U$ and $v\in B$
        \item $X$ is \textbf{T3} or \textbf{regular} when $X$ is T1 and for every $a\in X$ and every closed set $B\subseteq X$ with $a\notin B$, there exist open sets $U,V\subseteq X$ with $a\in U$, $B\subseteq V$.
        \item $X$ is \textbf{T4} or \textbf{normal} when $X$ is T1 and for all disjoint closed sets $A,B\subseteq X$ there exist disjoint open sets $U,V\subseteq X$ with $A\subseteq U$ and $B\subseteq V$.
    \end{itemize}
\end{definition}
\begin{definition}
    Let $X$ be a topological space.
    \begin{itemize}[nl]
        \item $X$ is \textbf{first countable} when for every $a\in X$, there exists a countable set $B_a$ of open sets in $X$ which contain $a$ such that for every open set $W$ in $X$ with $a\in W$, there exists $U\in\mathcal{B}_a$ with $a\in U\subseteq W$.
        \item $X$ is \textbf{second countable} when there exists a countable basis for the topology on $X$.
    \end{itemize}
\end{definition}
\begin{example}
    \begin{enumerate}[nl,r]
        \item $X$ is T1 if and only if every 1-point subset of $X$ is closed in $X$
        \item Every compact Hausdorff space is regular.
        \item Every second countable regular space is normal.
        \item Every metric space is normal.
        \item If $X$ is second countable, then every open cover admits a countable subcover.
        \item Every secound countable space $X$ contains a countable dense subset.
    \end{enumerate}
\end{example}
\begin{lemma}[Urysohn]
    If $X$ is normal and $A,B\subseteq X$ are disjoint and closed, then there is a countinuous function $f:X\to[0,1]$ such that $f(A)=\{0\}$ and $f(B)=\{1\}$.
\end{lemma}
\begin{theorem}[Tietze Extension]
    If $X$ is normal and $f:A\to\R$ is continuous for some $A\subseteq X$ closed, then there exists a continuous map $F:X\to\R$ such that $F|_A=f$ and $\sup_{a\in A}|f(a)|=\sup_{x\in X}|F(x)|$.
\end{theorem}
\begin{theorem}[Urysohn's Metrization]
    If $X$ is second countable and regular, then $X$ is metrizable.
\end{theorem}
\begin{definition}
    An \textbf{n-dimensional topological manifold} is a Hausdorff, second countable topological space $M$ which is \textbf{locally homeomorphic} to $\R^n$, meaning for every $p\in M$, there exists an open set $U\subseteq M$ with $p\in U$ and an open set $V\subseteq\R^n$ and a homeomorphism $\phi:U\subseteq M\to V\subseteq\R^n$.
    Such a homomorphism $\phi$ is called a \textbf{(local) coordinate chart} or \textbf{chart} on $M$ at $p$.
    The domain $U$ of a chart $\phi:U\subseteq M\to\phi(U)\subseteq\R^n$ is called a (local) \textbf{coordinate neighbourhood} at $p$.
    Note that we can choose a set of charts
    \begin{equation*}
        \mathcal{A}=\{\phi_k:U_k\subseteq M\to\phi_k(U_k) : k\in K\}
    \end{equation*}
    where $K$ is any non-empty set such that $M=\bigcup_{k\in K}U_k$.
    Such a set of charts is called an \textbf{atlas} for $M$.
\end{definition}
\begin{definition}
    Two charts are called $\phi:U\to\phi(U)$ and $\psi:V\to\psi(V)$ are called \textbf{(smoothly) compatible} when either $U\cap V=\emptyset$ or $\phi^{-1}\circ\psi$ and $\psi\circ\phi^{-1}$ are smooth (meaning partial derivatives of all orders exist).
    We say that an atlas is \textbf{smooth} if every pair of charts is compatible.
\end{definition}
Note that a smooth atlas $\mathcal{A}$ on $M$ can be extend to a unique maximal smooth atlas $\mathcal{M}$ on $M$ by adding to $\mathcal{A}$ every possible homeomorphism $\psi:U\subseteq M\to\phi(U)\subseteq\R^n$ which is compatible with all of the existing charts (since if $\psi$ and $\chi$ are both compatible with every chart $\psi\in\mathcal{A}$, then $\psi$ and $\chi$ will be compatible with each other).
The maps $\psi\circ\phi^{-1}$ are called \textbf{transition maps} or \textbf{change of coordinate maps}.
A maximal smooth atlas $\mathcal{M}$ on $M$ is called a \textbf{smooth structure} on $M$.
\begin{definition}
    An \textbf{$n-$dimensional smooth (or $C^\infty$) manifold} is an $n-$dimensional topological manifold with a smooth structure.
\end{definition}
\begin{remark}
    A topological manifold can have different smooth structures.
    For example, take $\mathcal{A}=\{\phi\}$ where $\phi:\R\to\R$ is the identity map, and $\mathcal{B}=\{\psi\}$ where $\psi:\R\to\R$ is a homeomorphism given by $\psi(x)x^3$, since $\sqrt[3]{x}$ is not smooth at the origin.

    What if we tried $\mathcal{B}=\{\psi\}$ where $\psi:\R\to\R$ is a homeomorphism which is not $C^\infty$?
    This is trivially a smooth atlas.

    Typically, a manifold is given with a standard smooth structure.
\end{remark}
\begin{remark}
    We can give a smooth manifold $M$ an (at most countable) atlas of charts all of which are of one of the forms
    \begin{itemize}[nl]
        \item $\phi:U\subseteq M\to B(0,1)$
        \item $\phi:U\subseteq M\to (0,1)^n$
        \item $\phi:U\subseteq M\to\R^n$
    \end{itemize}
\end{remark}
Note that the maximal atlas $\mathcal{M}$ is determined from any subset $\mathcal{A}\subset\mathcal{M}$ such that the domains of the charts in $\mathcal{A}$ cover $M$.
\begin{definition}
    Let $M$ be an $m-$dimensional smooth manifold and $N$ be an $n-$dimensional smooth manifold and let $f:M\to N$ be a function.
    Then we say $f$ is smooth \textbf{smooth} at $p$ when for some (hence for any) chart at $\phi$ on $M$ at $p$ and for some (hence any) chart $\psi$ on $N$ at $f(p)$, the map $\phi^{-1}\circ f\circ\psi$ is smooth at $x=\phi(p)$, and $f$ is \textbf{smooth} if $f$ is smooth at ever $p\in M$.
    We say that $f$ is a \textbf{diffeomorphism} when $f$ is invertible and both $f$ and $f^{-1}$ are smooth.
    We say that $M$ and $N$ are \textbf{diffeomorphic}, and write $M\cong N$, when there exists a diffeomorphism $f:M\to N$.
\end{definition}
\begin{remark}
    If is conceivable that a topological manifold $M$ could be both of dimension $n$ and of dimension $m$ with $n\neq m$.
    To do this, we would need to have a homeomorphism from an open set in $\R^n$ to an open set in $\R^m$.
    In fact, this cannot happen by invariance of domain, proven using tools from algebraic topology.

    When $M$ is smooth, it is easy to see that this cannot happen.
    If $\psi\circ\phi^{-1}$ and $\phi\circ\psi^{-1}$ were smooth inverses, then the matrices $D(\psi\circ\phi^{-1})(\phi(p))$ and $D(\phi\circ\psi^{-1})(\psi(p))$ would be inverse matrices.
    But then a product of a matrix in $M_{m\times n}(\R)$ and in $M_{n\times m}(\R)$ cannot be inverses when $m\neq n$.
\end{remark}
\begin{remark}
    Manifolds are sometimes constructed using quotient constructions.
    These quotients can be given by polygons with pairs of edges identified up to orientation.
\end{remark}
There are other kinds of manifolds (other than $C^\infty$ manifolds); for example, one can define $C^k$ manifolds, or analytic $C^\omega$ manifold has an atlas in which the transition maps are analytic.
\begin{example}
    \begin{enumerate}[nl]
        \item $\R^n$ is a smooth $n-$dimensional manifold.
            It can be given an atlas consisting of 1 chart, the identity map.
        \item Any $n-$dimensional vector space over $\R$ is a smooth $n-$dimensional manifold.
            It can be given an atlas with one chart.
            If $\{u_1,\ldots,u_n\}$ is a basis for $V$, then one can define $\phi:V\to\R^n$ by $\phi(\sum t^iu_i)=(t^1,\ldots,t^n)=t\in\R^n$.
        \item Every open subset of a smooth $n-$dimensional manifold is also a smooth $n-$dimensional manifl.d
        \item $M_{n\times m}(\R)$ is an $n\cdot m-$dimensional manifold with pointwise $\R^{nm}$ structure.
        \item $\{A\in M_{n\times m}(\R):\rank(A)=\min\{n,m\}\}$ is a smooth manifold with one chart, since it is an open submanifold of $M_{n\times m}$.
            Suppose $n>m$; then take all $n\times n$ submatrices which have non-zero determinant (open by continuity of $\det$), and maximal rank means that $A$ is contained in one of these open subsets.
        \item The disjoint union of countably many $n-$dimensional smooth manifolds.
        \item The cartesian product of finitely many smooth manifolds is a smooth manifold.
            Let $\dim(M_k)=n_k$; the  $\dim(M_1\times\cdots\times M_\ell)=\sum_{k=1}^\ell n_k$.
            If $\phi_k:U_k\subseteq M_k\to\phi_k(U_k)\subseteq\R^{n_k}$ is a chart on $M_k$, then $\chi_k:\prod_{k=1}^\ell U_k\to\prod_{k=1}^\ell\R^{n_k}$ given by $\chi_k(p_1,\ldots,p_\ell)=(\phi_1(p),\ldots,\phi_\ell(p)$ is a chart in $M_1\times\cdots\times M_\ell$.
        \item One can show that $\mathbb{S}^n$ is a smooth $n-$dimensional manifold.
    \end{enumerate}
\end{example}
\begin{remark}
    For $A\in M_{n\times m}(\R)$, we denote the entry in the $k$\textsuperscript{th} row and $\ell$\textsuperscript{th} column by $A_\ell^k$.
\end{remark}
\begin{example}
    $\mathbb{S}^n$ is an example of an $n-$dimensional smooth manifold.
    It can, for example, be given a smooth atlas which contains $2(n+1)$ charts as follows.
    For $1\leq k\leq n+1$, let
    \begin{align*}
        U_k&=\{x\in\mathbb{S}^n:x^k>0\}\\
        \phi_k:U_k&\to B(0,1)\subseteq\R^{n}\\
        \phi_k(x)&=(x^1,\ldots,x^{k-1},x^{k+1},\ldots,x^{n+1})\\
        \phi_k^{-1}(t^1,\ldots,t^n)=\left(t_1,\ldots,t^{k-1},\sqrt{1-\sum(t^i)^2},t^k,\ldots,t^n\right)
    \end{align*}
    and the corresponding opposite charts for $x^k<0$.
    Note that $\mathbb{S}^n$ is a metric space.
    It has 2 standard metrics: eithre the one inherited from $\R^n$, or the arclength distance $d_s(U,v)=\cos^{-1}(u\cdot v)$.

    We can also given $\mathbb{S}^n$ an atlas which only uses 2 charts, by stereographic projection from a north pole and a south pole.

    This stereographic projection also shows that the rational points on the sphere are dense in $\Ss^n$, via the map
    \begin{equation*}
        \phi(x)=\alpha\left(\frac{1}{1-x^{n+1}}\\right) = \left(\frac{x^1}{1-x^{n+1}},\ldots,\frac{x^n}{1-x^{n+1}}\right)
    \end{equation*}
    One can also find $\phi^{-1}$ and verify that they are both rational functions.
    In particular, $\phi^{-1}(\Q^n)\subseteq\mathbb{S}^n$ is dense.
\end{example}
\begin{example}
    The projective space $\mathbb{P}^n=\mathbb{P}^n(\R)$ is commonly defined in at least 3 ways:
    \begin{align*}
        \mathbb{P}^n&=\{1\text{-dimensional subspaces of }\R^{n+1}\}\\
        \mathbb{P}^n&=\quot{\R^{n+1}\setminus\{0\}}{\R^\times}=\{[x]:0\neq x\in\R^{n+1}\}, [x]=\{tx:t\in\R^\times\}\\
        \mathbb{P}^n&=\quot{\mathbb{S}^n}{\pm 1}
    \end{align*}
    We can given $\mathbb{P}^n$ a smooth atlas with $n+1$ charts as follows: for $1\leq k\leq n+1$, set
    \begin{align*}
        U_k &= \{[x]\in\mathbb{P}^n:x^k\neq 0\}\\
        \phi_k &:U_k\to\R^n,\phi_k([x])=\left(\frac{x^1}{x^k},\ldots,\frac{x^{k-1}}{x^{k-1}},\frac{x^{k+1}}{x^{k+1}},\ldots,x^{n+1}{x^k}\right)
    \end{align*}
    with $\phi_k^{-1}(t_1,\ldots,t^n)=[(t_1,\ldots,t^{k-1},1,t^k,\ldots,t^n)]$.
\end{example}
\subsection{Examples of Smooth Maps}
\begin{itemize}[nl]
    \item The inclusion $f:\mathbb{S}^n\to\R^{n+1}$ given by $f(x)=x$
    \item The quotient map $f:\R^{n+1}\setminus\{0\}\to\mathbb{P}^n$
    \item The exponential map $f:\R\to\mathbb{S}^1$ given by $f(t)=e^{i2\pi t}$, or more generally $f:\R^n\to\mathbb{T}^n$ given by $f(t^1,\ldots,t^n)=(e^{2\pi i t^1},\ldots,e^{2\pi i t^n})$
    \item The determinant map $f:M_n(\R)\to\R$ given by $f(A)=\det(A)$ is smooth
    \item For $A\in M_n(\R)$, left and right multiplication by $A$, the transpose map, and the inverse map $f(A)=A^{-1}$ are smooth.
\end{itemize}
\subsection{Partitions of Unity}
\begin{lemma}
    Every open cover of a manifold has an (at most) countable subcover.
\end{lemma}
\begin{proof}
    Let $\mathcal{S}$ be any open cover of $M$, and let $\mathcal{B}$ be a countable basis for the topology on $M$.
    For each $p\in M$, choose $U_p\in\mathcal{S}$ with $p\in U_p$, then choose $B_p\in\mathcal{B}$ with $p\in B_p\subseteq U_p$.
    Then $\{B_p:p\in M\}\subseteq B$ is an open cover of $M$, and it is a subset of $\mathcal{B}$, so it is (at most) countable; but then $\{U_p:p\in M\}$ gives an at most countable subcover of $\mathcal{S}$.
\end{proof}
As a result, every manifold has a countable basis $\mathcal{B}$ such that for each $B\in\mathcal{B}$, there is a chart $\phi:U\to\phi(U)$ on $M$ with $\phi(U)=B(0,2)$ and $\phi(B)=B(0,1)$.

\begin{lemma}
    Let $M$ be a manifold, and let $\mathcal{S}$ be any open cover of $M$.
    Then there exists an at most countable open cover $\mathcal{B}$ of $M$ such that
    \begin{enumerate}[nl]
        \item for each $B\in\mathcal{B}$ there is a chart $\phi_B:C_B\to\phi_B(C_B)=B(0,1)$ with $B\subseteq C_B\subseteq U_B\subseteq S$ for some $U_B\in S$ and $\phi_B(B)=B(0,1)$.
        \item $\{C_B:B\in\mathcal{B}\}$ is locally finite, meaning that every point in $M$ has an open neighbourhood which only intersects with finitely many of the sets $C_B$, $B\in\mathcal{B}$ (and hence also the sets $\overline{B}$, $B\in\mathcal{B}$).
    \end{enumerate}
\end{lemma}
\begin{proof}
    Choose a countable set $\mathcal{V}=\{V_1,V_2,\ldots\}$ of regular coordinate balls which cover $M$ with charts $\phi_i:W_i\to\phi_i(W_i)=B(0,2)$ such that $V_i=\phi_i^{-1}(B(0,1))$.
    We use the sets $V_i$ to construct a strongly ascending chain of compact sets $K_i$ in $M$ with $K_i\subseteq H_{i+1}^{-1}$ for each $i$, and $M=\bigcup_{i=1}^\infty K_i$ as follows:
    \begin{itemize}[nl]
        \item Let $K_i=\overline{V_1}$; since $K_1$ is compact, we can choose $\ell_1\in\N$ so that $K_1\subseteq V_1\cup\cdots\cup V_{\ell_1}$.
        \item Then we let $K_2=\overline{V_1\cup\cdots\cup V_{\ell_1}}$.
            Since $K_2$ is compact, we can choose $\ell_2>\ell_1$ so that $K_2\subseteq V_1\cup\cdots\cup V_{\ell_2}$, and set $K_3=\overline{V_1\cup\cdots V_{\ell_2}}$.
    \end{itemize}
    Repeat the above process to obtain $K_1\subseteq K_2^\circ\subseteq K_2\subseteq K_3^\circ\subseteq\cdots$ with $\bigcup_{i=1}^kK_i=M$.
    For each $m\in\N$, note that $K_{m+1}\setminus K_m^\circ$ is compact and contained in the open set $K_{m+2}\setminus K_{m-1}$ (with $K_0=\emptyset$).
    For each $p\in K_{m+1}\setminus K_m^\circ$, choose $U_p\in\mathcal{S}$ with $p\in U_p$ and then choose a regular coordinate ball $B_p$ and a chart $\phi_p:C_p\subseteq M\to\phi_p(C_p)=B(0,2)\subseteq\R^n$ with $\phi_p(B_p)=B(0,1)$ and $C_p\subseteq U_p\cap(K_{m+2}^\circ\setminus K_{m-1})$.
    The coordinate balls $B_p$, $p\in K_{m+1}\setminus K_m^\circ$ cover the compact set $K_{m+1}\setminus K_m^\circ$, so we can choose a \textit{finite} set $\mathcal{B}_m$ of such regular coordinate balls $B_p$ so that $K_{m+1}\setminus K_m^\circ\subseteq\cup \mathcal{B}_m\subseteq K_{m+2}^\circ\setminus K_{m-1}$.

    Now, the set $\mathcal{B}=\bigcup_{m=1}^\infty\mathcal{B}_m$ is a countable set of such regular coordinate balls.
    Note that for each $B\in\mathcal{B}$, we have  chart $\phi_B:C_B\to\phi_B(C_B)=B(0,2)$ and the set $\{C_B:B\in\mathcal{B}\}$ is locally finite since every point in $M$ is contained in one of the sets $K_{m+2}^\circ\setminus K_{m-1}$ and each of these sets only intersects with the coordinate balls from the finite sets $\mathcal{B}_l$ with $m-2\leq l\leq m+2$.
\end{proof}
\begin{theorem}[Partitions of Unity]
    Let $M$ be a smooth manifold, and let $\mathcal{S}$ be any open cover of $M$.
    There exists a set $\{\psi_u:u\in\mathcal{S}\}$ of smooth maps $\psi_u:M\to\R$ such that
    \begin{enumerate}[nl]
        \item $\psi_u(M)\subseteq[0,1]$ for each $u\in\mathcal{S}$
        \item $\supp(\psi_u)\subseteq U$ for ech $U\in\mathcal{S}$
        \item $\{\supp(\psi_u):u\in\mathcal{S}\}$ is locally finite: every point in $M$ contains an open neighbourhood whicl only intersects finitely many of the sets $\supp(\psi_n)$, $u\in\mathcal{S}$
        \item $\sum_{u\in\mathcal{S}}\psi_u=1$
    \end{enumerate}
\end{theorem}
Such a set of functions $\{\psi_u:u\in\mathcal{S}\}$ is called a (smooth) \textbf{partition of unity} on $M$ for $\mathcal{S}$ (or \textbf{subordinate} to $\mathcal{S}$).
\begin{proof}
    Let $\mathcal{B}$ be a countable set of regular coordinate balls as in the previous lemma.
    Recall that the function $f:\R\to\R$ given by
    \begin{equation*}
        f(t)=
        \begin{cases}
            e^{1/t} &: t<0\\
            0 &: t\geq 0
        \end{cases}
    \end{equation*}
    is smooth, so the function $g:\R^n\to\R$ given by $g(x)=f(|x|^2-1)$ is smooth with $g(x)>0$ for $|x|<1$ and $g(x)=0$ for $|x|\geq 1$.
    For each $B\in\mathcal{B}$, we define a smooth bump function $\sigma_B:M\to\R$ by
    \begin{equation*}
        \sigma_B(p)=
        \begin{cases}
            g(\phi_B(p)) &: p\in B\\
            0 &: p\notin B
        \end{cases}
    \end{equation*}
    where $\phi_B:C_B\subseteq M\to\phi_B(C_B)=B(9,2)$ with $\phi_B(B)=B(0,1)$ as in the previous lemma.
    Note that $\sigma(B)$ is smooth with $\sigma_B(p)>0$ for $p\in B$ and $\sigma_B(p)=0$ for $p\notin B$.
    Now for each $B\in\mathcal{B}$, define $\tau_B':M\to\R$ by
    \begin{equation*}
        \tau_B=\frac{\sigma_B}{c\in\mathcal{B}\sigma_c}
    \end{equation*}
    Note that $\sum_{c\in\mathcal{B}}\sigma_c$ is well-defined by the local finiteness of $\mathcal{B}$ and $\sum_{c\in\mathcal{B}}\sigma_c(p)>0$.
    Furthermore, note that $\tau_B(p)>0$ for all $p\in B$, and $\tau_B(p)=0$ for all $p\notin B$, and $\sum_{B\in\mathcal{B}}\tau_B=1$.
    Then define $\rho_V:M\to\R$ by $\rho_V=\sum_{B\in\mathcal{B}_V}\tau_B$.
\end{proof}
\section{Immersions, Embedding, Submanifolds}
\begin{theorem}[Inverse Function Theorem]
    Let $U\subseteq\R^n$ be open, $p\in U$, and $f:U\subseteq\R^n\to\R^n$ be smooth and suppose $Df(p)$ is invertible.
    Then $f$ is a local diffeomorphism.
\end{theorem}
\begin{corollary}
    Let $n<m$ and $U\subseteq\R^n$ be open, and let $p\in U$, and $f:U\subseteq\R^n\to\R^n$ be smooth and suppose $Df(p)$ has rank $n$.
    Then the range of $f$ is locally equal to the graph of a smooth function.
    Such a map $f$ is called a local \textbf{immersion} at $p$.
\end{corollary}
\begin{proof}
    Since $Df(p)$ is an $m\times n$ matrix of rank $n$, some $n$ rows of $Df(p)$ form an invertible submatrix.
    Reorder the variables in $\R^m$ (if necessary) so that the top $n$ rows form an invertible matrix.
    Write elements in $U\subseteq\R^n$ as $t$ and write elements of $\R^m$ as $(x,y)$.
    Also write $(x,y)=f(t)=(u(t),v(t))$ so
    \begin{equation*}
        Df=\begin{pmatrix}\prt{u}{t}\\\prt{v}{t}\end{pmatrix}
    \end{equation*}
    with $\prt{u}{t}(p)$ invertible.
    Then by the inverse function theorem, $u(t)$ is a local diffeomorphism.
    Say $u:U_0\subseteq U\to V_0\subseteq\R^n$ is the diffeomorphism, and let $g:V_0\to U_0$ be its inverse.
    Then the range of $f$ is locally equal to the graph of the function $y=v(g(x))=:h(x)$.
    If $(x,y)\in\Gamma(f)$ with $(x,y)=f(t)=(u(t),v(t))$, then since $x=u(t)$ we have $t=g(x)$ so $y=v(t)=v(g(x))=k(x)$.
    If $(x,y)\in\Gamma(k)$, then $y=k(x)=v(g(x))$ and we can choose $t=g(x)$ to get $x=u(t)$ and $y=v(g(x))=v(t)$ so that $(x,y)=(u(x),v(t))=f(t)$.
\end{proof}
\begin{theorem}[Implicit Function]
    Let $n<m$, $U\subseteq\R^m$ be open, $p\in U$, and $f:U\subseteq\R^m\to\R^n$ be smooth.
    Suppose $Df(p)$ has rank $n$ and let $q=f(p)$.
    Then the level set $f^{-1}(q)$ is locally equal to a graph of a smooth function.
\end{theorem}
\begin{theorem}
    Let $U\subseteq\R^n$ be open with $p\in U$, let $f:U\to\R^m$ be smooth with $f(p)=q$< and suppose that $Df$ has constant rank $r$ in $U$.
    Then the level set (or fibre) $f^{-1}(q)$ is locally equal to the graph of a smooth function (with $n-r$ independent variables and $r$ dependent variables).
\end{theorem}
\begin{proof}
    Since $Df$ is an $m\times n$ matrix of rank $r$, there is some $r\times r$ submatrix of $Df(p)$ which is invertible; without loss of generality, it is the upper left submatrix.
    Write elements in $\R^n$ as $(x,y)$ with $x\in\R^r$ and $y\in \R^{n-r}$ and write elements in $\R^m$ as $(u,v)$ with $u\in\R^r$ and $v\in\R^{m-r}$, with say $p=(a,b)$ and $q=f(p)=(c,d)$.
    Then we have $(u,v)=f(x,y)=\bigl(u(x,y),v(x,y)\bigr)$ so that
    \begin{equation*}
        Df =
        \begin{pmatrix}
            \prt{u}{x} & \prt{u}{y}\\
            \prt{v}{x} & \prt{v}{y}
        \end{pmatrix}
    \end{equation*}
    with $\prt{u}{x}(p)=\prt{u}{x}(a,b)$ being an invertible $r\times r$ matrix.
    Define $F:U\subseteq\R^m\to\R^m$ by $F(x,y)=(u(x,y),y)$.
    Then
    \begin{equation*}
        Df=\begin{pmatrix}
            \prt{u}{x} & \prt{u}{y}\\
            0 & I
        \end{pmatrix}
    \end{equation*}
    so that $DF(p)$ is inertible.
    By the IVT, $F$ is a local diffeomorphism, say $F:U_0\subseteq U\subseteq\R^n\to V_0\subseteq\R^n$ is a diffeomorphism with $U_0$ an open rectangular box.
    Let $G:V_0\to U_0$ denote the smooth inverse of $F$.
    Note that $G$ is of the form $G(u,y)=(g(u,y),y)$ for some smooth function $g:V_0\to\R^r$.
    We claim that $f^{-1}(q)=f^{-1}(c,d)$ is locally equal to the graph of $x=g(c,y)$.
    FIrst, note that
    \begin{equation*}
        (u,y)=F(G(u,y))=F(g(u,y),y)=\bigl(u(g(u,y),y),y\bigr)
    \end{equation*}
    so that, in particular, $u(g(u,y),y)=u$ and so
    \begin{equation*}
        f(G(u,y))=(u(g(u,y),y),v(g(u,y),y))=(u,h(u,y))
    \end{equation*}
    where $h(u,y)=v(g(u,y),y)$.
    Thus
    \begin{equation*}
        Df(x,y)\cdot DG(u,y)=D(f\circ G)(u,y)=
        \begin{pmatrix}
            I & 0\\
            \prt{h}{u} & \prt{h}{y}
        \end{pmatrix}
    \end{equation*}
    Since $Df$ has constant rank $r$ and $DG$ is invertible, the matrix on the right is of rank $r$ for all $(u,v)\in V_0$.
    Thus it follows that $\prt{h}{y}=0$ for all $u,b$, so that $h(u,y)$ is independent of $y$ and $h(u,y)=h(u,b)$ for all $y$; let $k(u)=h(u,b)$.
    Let us calculate $k(c)$.
    We have
    \begin{align*}
        f(a,b) = (c,d) &\implies (u(a,b),v(a,b))=(c,d)\\
                       &\implies u(a,b)=c\\
                       &\implies F(a,b)=(u(a,b),b)=(c,b)\\
                       &\implies (a,b)=G(c,b)\\
                       &\implies (c,d)=f(a,b)=f(G(c,b))=(c,h(c,b))=(c,k(c))\\
                       &\implies k(c)=d
    \end{align*}
    Finally, let us show that $f^{-1}(c,d)$ is (locally) the graph of $x=g(c,y)$.
    We have
    \begin{align*}
        (x,y)=f^{-1}(c,d) &\implies f(x,y)=(c,d)\\
                          &\implies u(x,y)=c\text{ and }v(x,y)=d\\
                          &\implies F(x,y)=(u(x,y),y)=(c,y)\\
                          &\implies (x,y)=G(c,y)=(g(c,y),y)\\
                          &\implies x=g(c,y)
    \end{align*}
    We thus have
    \begin{align*}
        x=g(c,y) &\implies G(c,y)=(g(c,y),y)=(x,y)\\
                 &\implies f(x,y)=f(G(x,y))=(c,h(c,y))=(c,k(c))=(c,d)
    \end{align*}
    as required.
\end{proof}
\begin{definition}
    When $N$ and $M$ are smooth manifolds and $f:N\to M$ is a smooth map, we say that $f$ has \textbf{rank r} at $p\in N$ when for some (hence for every) chart $\phi$ on $N$ at $p$ and for some (hence every) chart $\psi$ on $M$ at $f(p)$, the matrix $D(\psi f \phi^{-1})(\phi(p))$ has rank $r$.
\end{definition}
\begin{corollary}
    Let $N$ and $M$ be smooth manifolds, with $p\in N$.
    Let $f:N\to M$ be smooth with $f(p)=q\in M$.
    Suppose $f$ has constant rank $r$ in an open neighbourhood of $p$.
    Then there exists a chart $\phi$ on $N$ at $p$ and a chart $\psi$ on $M$ at $q=f(p)$ such that $\phi(p)=0$ and $\psi(q)=0$ and
    \begin{equation*}
        (\psi\circ f\circ\phi^{-1})(x^1,\ldots,x^r,\ldots,x^n)=(x^1,\ldots,x^r,0,\ldots,0)
    \end{equation*}
    where $n=\dim(N)$ and $m=\dim(M)$.
\end{corollary}
\begin{proof}
    Choose any chart $\phi_0$ on $N$ at $p$ and any chart $\psi_0$ on $M$ at $q$ with $\phi_0(p)=0$ and $\psi_0(q)=0$.
    Then $D(\psi_0f\phi_0^{-1})$ has constant rank $r$ near $0$.
    Let $\phi_1$ and $\psi_1$ be linear permutation maps so that the upper left $r\times r$ submatrix of $D(\psi,\psi_0,f\phi_0^{-1}\phi_1^{-1})(0)$.
    Say $f_1=\psi_1\psi_0 f\phi_0^{-1}\phi_1^{-1}$.
    Let $F,G,f_1$ be as in the proof of the rank theorem (for the function $f_1$).
    Let us verify that for the charts $\phi=F\phi_1\phi_0$ and $\psi=H\psi_1\psi_0$ where $H(u,v)=(u,v-k(u))$ we have $(\psi f\phi^{-1})(u,y)=(u,0)$.
\end{proof}
\begin{corollary}
    When $f:M\to N$ is a smooth map of smooth manifolds with constant rank $r$ in $M$, for $q\in\im f$, the level set (fibre) $f^{-1}(q)$ can be given charts (obtainedd from canonical charts) to make it a smooth $(\dim M-r)-$dimnsional manifold.
\end{corollary}
\begin{definition}
    Let $N$ and $M$ be smooth manifolds (of dimensions $m$ and $n$).
    A smooth map $f:N\to M$ is called a (smooth) \textbf{immersion} when $f$ has rank $n$ in $N$.
    An \textbf{immersed submanifold} of $M$ is the image of an immersion $f:N\to M$ or the image of an injective immersion $f:N\to M$.
\end{definition}
Note that when $f:N\to M$ is injective, we can give the image $f(N)$ a smooth atlas which mapes $f:N\to f(N)$ a diffeomorphism.
When we do this, the resulting topology on $f(N)\subseteq M$ does not necssarily agree with the subspace topology of $M$.
\begin{definition}
    An \textbf{embedded submanifold} of $M$ is a subset $N\subseteq M$ which is a smoth manifold such that the inclusion map $f:N\to M$ (given by $f(p)=p$) is an immersion such that the topology in the previous remark agrees with the subspace topology.
\end{definition}
When $f:M\to N$ is a smooth map of smooth manifolds of constant rank $r$ and $q\in\im f$, the level set $f^{-1}(q)$ is an embedded submanifold of $M$.
\begin{remark}
    When $N\subseteq M$ is an embedded submanifold,
    \begin{itemize}[nl]
        \item If $f:M\to K$ is smooth, then the restriction $f:N\to K$ is smooth
        \item If $f:K\to M$ is smooth and $f(K)\subseteq N$, then $f:K\to N$ is smooth
    \end{itemize}
\end{remark}
\begin{example}
    $\SL_n(R)$ is a smooth manifold.
    Recall that $\GL_n(\R)$ is a smooth $n^2-$dimensional manifold, since it is open in the $n^2-$dimensional vector space $M_n(\R)$.
    We have $\SL_n(\R)=f^{-1}(\{1\})$ where $f$ is the determinant evaluation map.
    Then for fixed $\ell$, $\det X=\sum_{i=1}^n(-1)^{i+\ell}X^i_\ell\deg X^{(i)}_{(\ell)}$, where $X^{(i)}_{(l)}$ is the matrix obtained from $X$ by removing row $i$ and column $j$.
    We have
    \begin{equation*}
        Df=\left(\pr{f}{x_1^1},\ldots,\prt{f}{x^n_n}\right)\in M_{1\times n^2}(\R)
    \end{equation*}
    with $\prt{f}{x^k_\ell}=(-1)^{k+\ell}\det X^{(k)}_{(\ell)}$, so that $Df=0$ if and only if $\det X=0$.
    Thus $f$ has contant rank 1, so $\SL_n(\R)=f^{-1}(1)$ is an embedded submanifold of $M_n(\R)$ of dimension.
\end{example}
\section{Tangent Vectors}
\begin{definition}
    A vector $u$ in $\R^n$ at a point $a\in\R^n$ is an ordered pair $(a,u)$.
\end{definition}
\begin{definition}
    Let $M$ be a smooth manifold and let $p\in M$.
    A \textbf{tangent vector} on $M$ at $p$ is a set of vectors $X=\{\phi_*x:\phi\text{ is a chart on $M$ at $p$}\}$, where $\phi_*x$ is a vector in $\R^n$ at the point $x=\phi(p)$ such that when $\phi$ and $\psi$ are two charts on $M$ at $p$, we have $\psi_*X=D(\psi\phi^{-1})(\phi(p))\phi_*X$.
\end{definition}
The set of all tangent vectors on $M$ at $p$ is denoted by $T_pM$.
Note that $T_pM$ is an $n-$dimensional vector space.
When $I\subseteq\R$ is an open interval, $s\in I$, and $\alpha:I\subseteq\R\to M$ is a smooth map with $\alpha(s)=p$, we define $\alpha'(s)$ to be the tangent vector $\alpha'(s)\in T_pM$ given by $\phi_*\alpha'(s)=\beta'(s)$ where $\beta(t)=\phi(\alpha(t))$.
Note that, by the chain rule, we do have $\phi_*\alpha'(s)=D(\psi\phi^{-1})\phi_*\alpha'(s)$.

When $\phi$ is a chart on $M$ at $p$, we often write
\begin{equation*}
    x=x(p)=\phi(p)=(\phi^1(p),\ldots,\phi^n(p))=(x^1(p),\ldots,x^n(p))
\end{equation*}
(so each $x^k=\phi^k$ is a function $x^k,\phi^k:U\subseteq M\to\R$).
When $\psi$ is another chart and we write $y=\psi(p)$, we often write $y=y(x)=(\psi\phi^{-1})(x)=(y^1(x),\ldots,y^n(x))$ and we write
\begin{equation*}
    \prt{y}{x}=
    \begin{pmatrix}
        \prt{y^1}{x^1} & \cdots & \prt{y^1}{x^n}\\
        \vdots &&\vdots\\
        \prt{y^n}{x^1} & \cdots & \prt{y^n}{x^n}
    \end{pmatrix}
\end{equation*}
With this notation, if $u=\phi_*X$ and $v=\psi_*X$, then $v=D(\psi\phi^{-1})u=\prt{y}{x}u$, so $V^k=\sum_{i=1}^n\prt{y^k}{x^i}u^i$.
\begin{definition}
    Let $f:M\to N$ be a smooth map of smooth manifolds with $p\in M$.
    We define the \textbf{induced map} or the \textbf{pushforward} $f_*$ or the \textbf{differential} $df$ to be the map $f_*=df:T_pM\to T_{f(p)}N$ given as folows.
    Given $X\in T_pM$, choose $\alpha:(-\epsilon,\epsilon)\to M$ smooth with $\alpha(0)=p$, $\alpha'(0)=X$, when we let $\beta(t)=f(\alpha(t))$ and define $df(x)=f_*(x)=\beta'(0)$.
    Given a chart $\phi$ on $M$ at $p$ and $\psi$ on $N$ at $f(p)$, if $u=\phi_*X$ and $V=\psi_*(f_*x)$, then verify that $v=D(\psi f\phi^{-1})(\phi(p))u$.
\end{definition}
\begin{enumerate}[nl]
    \item When $\phi$ is a chart on $M$ at $p$ and $\psi$ is a chart on $N$ at $f(p)$, $\psi_*f_*X=D(\psi f\phi^{-1})_{\phi(p)}\phi_*X$
    \item The map $df=f_*$ is linear
    \item If $g:L\to M$ and $f:M\to N$ are smooth, then $(f\circ g)_*=f_*\circ g_*$.
    \item When $\iota:M\to M$ is the identity map, $d\iota:T_pM\to T_pM$ is the identity map
    \item If $f:M\to N$ is a diffeomorphism, then $f_*:T_pM\to T_pM$ is an isomorphism.
    \item For $f:M\to N$ smooth, $f$ is of rank $r$ at $p$ if and only if $f_*$ is of rank $r$ at $p$.
\end{enumerate}
When $U\subseteq\R^n$ is open, $U$ is a manifold with atlas $\{\emptyset\}$ where $\phi$ is the identity map.
In this case, we identify $X\in T_pU$ with $\phi_*x\in\R^n$.
With this convention, $\phi_*X$ is equal to $\phi_*X$ where the second $\phi_*$ is the pushforward.
When $N\leq M$ is a submanifold (immersed or embedded), the inclusion map $\iota:N\to M$ is an injective immersion.
Thus, the map $\iota_*:T_pN\to T_pM$.
In this situation, we identify $T_pN$ with the subspace $\iota_*(T_pN)\subseteq T_pM$.

Let $X$ be the vector on $\mathbb{S}^2$ at $p$ with $\phi_*X=(1,0)$.
Let $\iota:\mathbb{S}^2\to\R^3$ be the inclusion map.
We have $\phi^{-1}(x,y)=(x,y,\sqrt{1-x^2-y^2})$ with $u=\phi_*X=(1,0)$.
Then $\iota_*X=D(\psi\ita\phi^{-1})_{\phi(p)}\phi_*X$ where $\psi$ is the identity on $\R^3$.
\subsection{Tangent Vectors as Differential Operators}
Recall that a vector $u\in\R^n$ at a point $a\in\R^n$ acts as a differential operator on smooth maps $f:\R^n\to\R$ by directional derivative.
Choose any smooth map $\alpha:(-\epsilon,\epsilon)\subseteq\R\to\R^n$ with $\alpha(0)=a$ and $\alpha'(0)=u$, and define $u(f)=u_a(f)=D_uf(a)=\beta'(0)$ where $\beta(t)=f(\alpha(t))$.
Since $\beta(t)=f(\alpha(t))$, we have $\beta'(t)=Df(\alpha(t))\cdot\alpha'(t)$ so
\begin{align*}
    u(f) &= D_uf(a)=\beta'(0)=Df(a)\cdot u\\
         &= \left(\prt{f}{x^1}(a),\ldots,\prt{f}{x^n}(a)\right)\begin{pmatrix}u^1\\\vdots\\u^n\end{pmatrix}\\
         &=\sum_{i=1}^n\prt{f}{x^i}(a)\cdot u^i
\end{align*}
or as a differential operator, $u=\sum_{i=1}^n u^i\prt{}{x^i}$.
\begin{definition}
    When $M$ is a smooth manifold, $p\in M$, and $X\in T_pM$, $X$ acts as a differential operator on a smooth function $f:M\to\R$ as follows: choose a smooth map $\alpha(-\epsilon,\epsilon)\subseteq\R\to M$ with $\alpha(0)=p$ and $\alpha'(0)=X$, and define $X(f)=X_p(f)=\beta'(0)$ where $\beta(t)=f(\alpha(t))$.
\end{definition}
When $\phi$ is a chart on $M$ at $p$, then
\begin{align*}
    X(f) &= (\phi_*X)(f\circ\phi^{-1})=D_{\phi_*X}(f\circ\phi^{-1})(\phi(p))\\
         &= D(f\circ\phi^{-1})(\phi(p))\cdot(\phi_*X)\\
         &= \sum_{i=1}^n \prt{f\circ\phi^{-1}}{x^i}(\phi(p))\cdot u^i
\end{align*}
where $u=\phi_*X\in\R^n$.
So when $u=\phi_*X\in\R^n$, $X$ acts as the differential operator $X=\sum_{i=1}^n u^i\left.\prt{}{x^i}\right\rvert_p$ where $\left.\prt{}{x^i}\right\rvert_p(f)=\prt{f\circ\phi^{-1}}{x^i}(\phi(p))$.
With this notation,
\begin{equation*}
    T_pM=\spn\left\{\left.\prt{}{x^1}\right\rvert_p,\ldots,\left.\prt{}{x^n}\right\rvert_p\right\}
\end{equation*}
If $\phi$ and $\psi$ are two charts at $p$ on $M$, then $T_pM$ has to representations as differential operators.
Let us determine how $\prt{}{x^k}$ and $\prt{}{y^\ell}$ are related.
When $X\in T_pM$, $u=\phi_*X\in\R^n$ and $v=\psi_*X\in\R^n$, we have $V=D(\psi\circ\phi^{-1})(\phi(p))\cdot u=\left(\prt{y}{x}\right)(\phi(p))\cdot u$.
When $u=\prt{}{x^j}$,
\begin{equation*}
    v=\left(\prt{y}{x}\right)\cdot e_k
\end{equation*}
so $v^\ekk=\left(\prt{y}{x}\right)_k^\ell=\prt{y^\ell}{x^k}$ so that
\begin{equation*}
    v=\sum_{i=1}^n\prt{y^i}{x^k}\prt{}{y^i}
\end{equation*}
\begin{definition}
    A \textbf{derivation} on $M$ at $p$ is a linear map $L:C^\infty(M)\to\R$ or $L:C_p^\infty(M)\to\R$ where $C_p^\infty(M)$ is the vector space of \textbf{germs} of smooth functions on $M$ at $p$, which satisfies the product rule at $p$:
    \begin{equation*}
        L(fg)=L(f)\cdot g(p)+f(p)\cdot L(g)
    \end{equation*}
\end{definition}
Every $X\in T_pM$ gives a derivation on $M$ at $p$.
Moreover, it can be shown that every derivation on $M$ at $p$ is of this form.
Thus allows us to give an alternate definition for $T_pM$ as the space of derivations on $M$ at $p$.

\begin{definition}
    Let $TM$ be the disjoint union of all the tangent spaces.
    A \textbf{vector field} on $M$ is a function $X:M\to TM$ such that $X(p)\in T_pM$.
\end{definition}
Given a chart $\phi:U\to\phi(U)$ on $M$, the restriction of $X$ to $U$ determines and is determine by the vetor field $\phi_*X$ on $\phi(u)\subseteq\R^n$ by $(\phi_*X)(\phi(p))=\phi_*(X(p))$, or $(\phi_*X)(x)=\phi_*(X(\phi^{-1}(x)))\in\R^n$.
We say that $X$ is \textbf{smooth} at $p$ when for some chart $\phi$ on $M$ at $p$, the vector field $\phi_*X$ is smooth at $\phi(p)$.
When $X$ is a smooth vector field on $M$, $X$ acts as a differential operator $X:C^\infty(M)\to C^\infty(M)$ by $X(f)(p)=X_p(f)$.

The space of smooth vector fields on $M$ is $\Gamma(M,TM)=\Gamma(TM)=\mathcal{X}(M)$.
\subsection{The Pushforward or Differential}
If $X$ is a smooth vector field on a smooth manifold $N$ and $f:N\to M$ is a smooth map, for each point $p\in N$, we have the linear map $df=f_*:T_pN\to T_{f(p)}M$.

Note that $f_*$ does not in general give a map $f_*:\Gamma(TN)\to\Gamma(TM)$, if $f$ is not surjective, or $f$ is not injective with $p,q\in N$ with $p\neq q$ and $f(p)=f(q)$ and $f_*X_p\neq f_*X_q$.

If $f:N\to M$ is a diffeomorphism, then $f)*$ dos give a well-defined bijective map $f_*:\Gamma(TN)\to\Gamma(TM)$.
If $f$ is an injective immersion, then $f:N\to f(N)$ is a diffeomorphism.

\subsection{The Lie Bracket of Vector Fields}
\begin{definition}
    When $X$ and $Y$ are two smooth vector fields on $M$, we define the \textbf{Lie bracket} of $X$ and $Y$, denoted by $[X,Y](f)$, by $[X,Y]f=X(Y(f))-Y(X(f))$ for all $f\in C^\infty(M)$.
\end{definition}
Note that $[X,Y]$ satisfies the product rule since
\begin{align*}
    [X,Y](fg) &= X(Y(fg))-Y(X(fg))\\
              &= X(f\cdot Y(g)+g\cdot Y(f)) - Y(f\cdot X(g)+g\cdot X(f))\\
              &= f\cdot X(Y(g))+X(f)\cdot Y(g)+g\cdot X(Y(f))+X(g)\cdot Y(f)-y\cdot Y(X(g)) - Y(f)\cdot X(g)-g\cdot Y(X(f))-Y(g)\cdot X(f)\\
              &= g[X,Y](g)+g[X,Y](f)
\end{align*}
Given a chart $\phi:U\to\phi(U)$ on $M$ at $p$, we can calculate a formula for the Lie bracket: say $u=\phi_*X$ and $v=\phi_*Y$ ($u(x)=\phi_*(X_{\phi^{-1}(x)})$, $v(x)=\phi_*(Y_{\phi^{-1}(x)})$).
Then for $f\in C^\infty(M)$,
\begin{align*}
    [X,Y]_p(f) &=X_p(Y(f))-Y_p(X(f))\\
               &= \sum_i u^i\prt{}{x^i}\left(\sum)j v\prt{g}{x^j}\right) - \sum_iv^i\prt{}{x^i}\left(\sum_j u^j\prt{g}{x^j}\right)\\
               &= \sum_{i,j}\left(u^i\prt{v^j}{x^i}\cdot\prt{g}{x^j} + u^ig^j\prtt{g}{x^i}{x^j}-v^i\prt{u^j}{x^i}\cdot\prt{g}{x^j}-v^iu^j\prtt{g}{x^i}{x^j}\right)\\
               &= \sum_{i,j}\left(\prt{v^j}{x^i}\cdot u^i-\prt{u^j}{x^i}\cdot v^i\right)\prt{g}{x^j}
\end{align*}
Thus $[X,Y]_p$ is a vector in $T_pM$.
It is the vector given by $w^j=\sum_i\left(\prt{v^j}{x^i}u^i-\prt{u^j}{x^i}v^i\right)$ and $w=\sum_j w^j\prt{}{x^j}=Dv\cdot u-Du\cdot v$.
\subsection{Integral Curves and Flows}
Given a smooth vector field $X$ on a smooth manifold $M$, and given $p\in M$, the existence and uniqueness theorem for (systems) of ODEs guarantees that there is a unique smooth map (or curve) $\alpha_p:I_p\subseteq\R\to M$ where $I$ is the (unique) maximal open interval $\alpha$ and $\alpha(0)=p$ and $\alpha'(t)=X_{\alpha(t)}$.
A stronger version of the existence and uniqueness theorem also guarantees that $\alpha_p(t)$ varies smoothly with $p$ to give a unique smooth map $\theta:U\subseteq M\times\R\to M$ where $U$ is the (unique) maximal open connected domain given by $\theta(p,t)=\alpha_p(t)$.

\begin{example}
    \begin{enumerate}[nl,r]
        \item Find a vector field which is a parabola at each point.
        \item Find a smooth vector field so that the solution curves have vertical asymptote.
    \end{enumerate}
\end{example}

When a vector field $X$ on a 2 dimensional manifold $M$, we define the \textbf{index} of $X$ at $p$ as follows.
Choose a chart $\phi:C\to\phi(C)=B(0,2)$ on $M$ at $p$.
Thus $U=\phi_*X$ is a vector field in $\R^2$ with no zeros in $B(0,2)$ except at $0$.

When we restrict $u$ to the circle $\mathbb{S}^1$ and we define the index of $X$ at $p$ to be the winding number of this map $u:\mathbb{S}^1\to\C\setminus\{0\}$.
When a vector field on $X$ has finitely many isolated zeros, the index of $X$ is the sum of the indices at the zeros of $X$.
\begin{theorem}
    When $X$ is a smooth vector field with isolated zeros on a \textbf{compact} 2-dimensional manifold $M$, $\Ind X=\chi(M)$, the Euler characteristic of $M$.
\end{theorem}
\section{Lie Groups}
\begin{definition}
    A Lie group $G$ is both a smooth manifold and a group such that the group operations $\mu:G\times G\to G$ and inversion $\nu:G\to\G$ are smooth maps.
\end{definition}
\begin{example}
    $O_n(\R)=\{A\in\GL_n(\R):A^TA=I\}$ is a Lie group.
    Define $F:\GL_n(\R)\to M_n(\R)$ by $F(X)=X^TX$.
    Thus $O_n(\R)=F^{-1}(I)$.
    When $n=2$, $X=\begin{pmatrix}x&z\\y&w\end{pmatrix}$ we have $F(X)=\begin{pmatrix}x^2+y^2&xz+yw\\xz+yw&z^2+w^2\end{pmatrix}$ so that
    \begin{equation*}
        DF =
        \begin{pmatrix}
            2x & 2y & 0 & 0\\
            z & w & x & y\\
            z & w & x & y\\
            0 & 0 & 2z & 2w
        \end{pmatrix}
    \end{equation*}
    In general, for $A\in\GL_n(\R)$, $F(R_A(X))=F(XA)=A^TX^TXA=L_{A^T}R_AF(x)$.
    Thus by the chain rule, $DF(XA)\cdot DR_A(X)=DL_{A^T}(X^TXA)\cdot DR_A(X^TX)\cdot DF(X)$
\end{example}
\end{document}
