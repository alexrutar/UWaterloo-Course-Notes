% header -----------------------------------------------------------------------
% Template created by texnew (author: Alex Rutar); info can be found at 'https://github.com/alexrutar/texnew'.
% version (1.13)


% doctype ----------------------------------------------------------------------
\documentclass[11pt, a4paper]{memoir}
\usepackage[utf8]{inputenc}
\usepackage[left=3cm,right=3cm,top=3cm,bottom=4cm]{geometry}
\usepackage[protrusion=true,expansion=true]{microtype}


% packages ---------------------------------------------------------------------
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{graphicx}
\usepackage{etoolbox}

% Set enimitem
\usepackage{enumitem}
\SetEnumitemKey{nl}{nolistsep}
\SetEnumitemKey{r}{label=(\roman*)}

% Set tikz
\usepackage{tikz, pgfplots}
\pgfplotsset{compat=1.15}
\usetikzlibrary{intersections,positioning,cd}
\usetikzlibrary{arrows,arrows.meta}
\usetikzlibrary{decorations.markings}
\tikzcdset{arrow style=tikz,diagrams={>=stealth}}
\tikzset{
    vtx/.style={inner sep=2pt,circle,fill=black},
    e/.style={thick},
    de/.style={e,decoration={markings,mark=at position 0.5 with {\arrow{>}}},postaction={decorate}}
}

% Set hyperref
\usepackage[hidelinks]{hyperref}
\usepackage{xcolor}
\newcommand\myshade{85}
\colorlet{mylinkcolor}{violet}
\colorlet{mycitecolor}{orange!50!yellow}
\colorlet{myurlcolor}{green!50!blue}

\hypersetup{
  linkcolor  = mylinkcolor!\myshade!black,
  citecolor  = mycitecolor!\myshade!black,
  urlcolor   = myurlcolor!\myshade!black,
  colorlinks = true,
}


% macros -----------------------------------------------------------------------
\DeclareMathOperator{\N}{{\mathbb{N}}}
\DeclareMathOperator{\Q}{{\mathbb{Q}}}
\DeclareMathOperator{\Z}{{\mathbb{Z}}}
\DeclareMathOperator{\R}{{\mathbb{R}}}
\DeclareMathOperator{\C}{{\mathbb{C}}}
\DeclareMathOperator{\F}{{\mathbb{F}}}

% Boldface includes math
\newcommand{\mbf}[1]{{\boldmath\bfseries #1}}

% proof implications
\newcommand{\imp}[2]{($#1\Rightarrow#2$)\hspace{0.2cm}}
\newcommand{\impe}[2]{($#1\Leftrightarrow#2$)\hspace{0.2cm}}
\newcommand{\impr}{{($\Rightarrow$)\hspace{0.2cm}}}
\newcommand{\impl}{{($\Leftarrow$)\hspace{0.2cm}}}

% align macros
\newcommand{\agspace}{\ensuremath{\phantom{--}}}
\newcommand{\agvdots}{\ensuremath{\hspace{0.16cm}\vdots}}

% convenient brackets
\newcommand{\brac}[1]{\ensuremath{\left\langle #1 \right\rangle}}
\newcommand{\norm}[1]{\ensuremath{\left\lVert#1\right\rVert}}
\newcommand{\abs}[1]{\ensuremath{\left\lvert#1\right\rvert}}

% arrows
\newcommand{\lto}[0]{\ensuremath{\longrightarrow}}
\newcommand{\fto}[1]{\ensuremath{\xrightarrow{\scriptstyle{#1}}}}
\newcommand{\hto}[0]{\ensuremath{\hookrightarrow}}
\newcommand{\mapsfrom}[0]{\mathrel{\reflectbox{\ensuremath{\mapsto}}}}
 
% Divides, Not Divides
\renewcommand{\div}{\bigm|}
\newcommand{\ndiv}{%
    \mathrel{\mkern.5mu % small adjustment
        % superimpose \nmid to \big|
        \ooalign{\hidewidth$\big|$\hidewidth\cr$/$\cr}%
    }%
}

% Convenient overline
\newcommand{\ol}[1]{\ensuremath{\overline{#1}}}

% Big \cdot
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother

% Big and small Disjoint union
\makeatletter
\providecommand*{\cupdot}{%
  \mathbin{%
    \mathpalette\@cupdot{}%
  }%
}
\newcommand*{\@cupdot}[2]{%
  \ooalign{%
    $\m@th#1\cup$\cr
    \sbox0{$#1\cup$}%
    \dimen@=\ht0 %
    \sbox0{$\m@th#1\cdot$}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}

\providecommand*{\bigcupdot}{%
  \mathop{%
    \vphantom{\bigcup}%
    \mathpalette\@bigcupdot{}%
  }%
}
\newcommand*{\@bigcupdot}[2]{%
  \ooalign{%
    $\m@th#1\bigcup$\cr
    \sbox0{$#1\bigcup$}%
    \dimen@=\ht0 %
    \advance\dimen@ by -\dp0 %
    \sbox0{\scalebox{2}{$\m@th#1\cdot$}}%
    \advance\dimen@ by -\ht0 %
    \dimen@=.5\dimen@
    \hidewidth\raise\dimen@\box0\hidewidth
  }%
}
\makeatother


% macros (theorem) -------------------------------------------------------------
\usepackage[thmmarks,amsmath,hyperref]{ntheorem}
\usepackage[capitalise,nameinlink]{cleveref}

% Numbered Statements
\theoremstyle{change}
\theoremindent\parindent
\theorembodyfont{\itshape}
\theoremheaderfont{\bfseries\boldmath}
\newtheorem{theorem}{Theorem.}[section]
\newtheorem{lemma}[theorem]{Lemma.}
\newtheorem{conjecture}[theorem]{Conjecture.}
\newtheorem{corollary}[theorem]{Corollary.}
\newtheorem{proposition}[theorem]{Proposition.}

% Claim environment
\theoremstyle{plain}
\theorempreskip{0.2cm}
\theorempostskip{0.2cm}
\theoremheaderfont{\scshape}
\newtheorem{claim}{Claim}
\renewcommand\theclaim{\Roman{claim}}
\AtBeginEnvironment{theorem}{\setcounter{claim}{0}}

% Un-numbered Statements
\theorempreskip{0.1cm}
\theorempostskip{0.1cm}
\theoremindent0.0cm
\theoremstyle{nonumberplain}
\theorembodyfont{\upshape}
\theoremheaderfont{\bfseries\itshape}
\newtheorem{definition}{Definition.}
\theoremheaderfont{\itshape}
\newtheorem{example}{Example.}
\newtheorem{remark}{Remark.}

% Proof / solution environments
\theoremseparator{}
\theoremheaderfont{\hspace*{\parindent}\scshape}
\theoremsymbol{$//$}
\newtheorem{solution}{Sol'n}
\theoremsymbol{$\blacksquare$}
\theorempostskip{0.4cm}
\newtheorem{proof}{Proof}
\theoremsymbol{}
\newtheorem{nmproof}{Proof}

% Format references
\crefformat{equation}{(#2#1#3)}
\Crefformat{theorem}{#2Thm. #1#3}
\Crefformat{lemma}{#2Lem. #1#3}
\Crefformat{proposition}{#2Prop. #1#3}
\Crefformat{corollary}{#2Cor. #1#3}
\crefformat{theorem}{#2Theorem #1#3}
\crefformat{lemma}{#2Lemma #1#3}
\crefformat{proposition}{#2Proposition #1#3}
\crefformat{corollary}{#2Corollary #1#3}


% macros (algebra) -------------------------------------------------------------
\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\chr}{char}
\DeclareMathOperator{\coker}{coker}
\DeclareMathOperator{\disc}{disc}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Fix}{Fix}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\Nil}{Nil}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\Res}{Res}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\spn}{span}
\DeclareMathOperator{\Stab}{Stab}
\DeclareMathOperator{\Tor}{Tor}

% Lagrange symbol
\newcommand{\lgs}[2]{\ensuremath{\left(\frac{#1}{#2}\right)}}

% Quotient (larger in display mode)
\newcommand{\quot}[2]{\mathchoice{\left.\raisebox{0.14em}{$#1$}\middle/\raisebox{-0.14em}{$#2$}\right.}
                                 {\left.\raisebox{0.08em}{$#1$}\middle/\raisebox{-0.08em}{$#2$}\right.}
                                 {\left.\raisebox{0.03em}{$#1$}\middle/\raisebox{-0.03em}{$#2$}\right.}
                                 {\left.\raisebox{0em}{$#1$}\middle/\raisebox{0em}{$#2$}\right.}}


% macros (analysis) ------------------------------------------------------------
\DeclareMathOperator{\M}{{\mathcal{M}}}
\DeclareMathOperator{\B}{{\mathcal{B}}}
\DeclareMathOperator{\ps}{{\mathcal{P}}}
\DeclareMathOperator{\pr}{{\mathbb{P}}}
\DeclareMathOperator{\E}{{\mathbb{E}}}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\sgn}{sgn}

\renewcommand{\Re}{\ensuremath{\operatorname{Re}}}
\renewcommand{\Im}{\ensuremath{\operatorname{Im}}}
\renewcommand{\d}[1]{\ensuremath{\operatorname{d}\!{#1}}}


% file-specific preamble -------------------------------------------------------

% constants --------------------------------------------------------------------
\newcommand{\subject}{Topics in Graph Theory}
\newcommand{\semester}{Fall 2019}


% formatting -------------------------------------------------------------------
% Fonts
\usepackage{kpfonts}
\usepackage{dsfont}

% Adjust numbering
\numberwithin{equation}{section}
\counterwithin{figure}{section}
\counterwithout{section}{chapter}
\counterwithin*{chapter}{part}

% Footnote
\setfootins{0.5cm}{0.5cm} % footer space above
\renewcommand*{\thefootnote}{\fnsymbol{footnote}} % footnote symbol

% Table of Contents
\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand*{\cftchaptername}{Chapter } % Place 'Chapter' before roman
\setlength\cftchapternumwidth{4em} % Add space before chapter name
\cftpagenumbersoff{chapter} % Turn off page numbers for chapter
\maxtocdepth{section} % table of contents up to section

% Section / Subsection headers
\setsecnumdepth{section} % numbering up to and including "section"
\newcommand*{\shortcenter}[1]{%
    \sethangfrom{\noindent ##1}%
    \Large\boldmath\scshape\bfseries
    \centering
\parbox{5in}{\centering #1}\par}
\setsecheadstyle{\shortcenter}
\setsubsecheadstyle{\large\scshape\boldmath\bfseries\raggedright}

% Chapter Headers
\chapterstyle{verville}

% Page Headers / Footers
\copypagestyle{myruled}{ruled} % Draw formatting from echisting 'ruled' style
\makeoddhead{myruled}{}{}{\scshape\subject}
\makeevenfoot{myruled}{}{\thepage}{}
\makeoddfoot{myruled}{}{\thepage}{}
\pagestyle{myruled}
\setfootins{0.5cm}{0.5cm}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}

% Titlepage
\title{\subject}
\author{Alex Rutar\thanks{\itshape arutar@uwaterloo.ca}\\ University of Waterloo}
\date{\semester\thanks{Last updated: \today}}

\begin{document}
\pagenumbering{gobble}
\hypersetup{pageanchor=false}
\maketitle
\newpage
\frontmatter
\hypersetup{pageanchor=true}
\tableofcontents*
\newpage
\mainmatter


% main document ----------------------------------------------------------------
\chapter{Graph Colourings}
\section{List Colourings}
Recall that a colouring of a graph $G$ is an assignment to each $v\in V(G)$ an element $c(v)$ of some set $C$ called ``colors'' such that if $v$ and $v'$ are neighbours, then $c(v)\neq c(v')$.
Then the \textbf{chromatic number} $\chi(G)$ is the smallest cardinality $|C|$ such that there exists a colouring of $G$ from $C$.

There are some basic upper bounds on the chromatic number of a graph:
\begin{enumerate}[nl]
    \item $\chi(G)\leq|V(G)|$, by colouring every vertex distinctly
    \item $\chi(G)\leq\Delta(G)+1$, by randomly colouring the graph based on colours not used on the neighbours
\end{enumerate}
Note that these upper bounds are in fact tight; for example, the complete graph is tight for both, and an odd cycle is tight for (2).

There are some graphs for which the chromatic number is not known: consider the graph given by $V(G)=\R^2$ where vertices are adjacent if they have euclidean distance 1.
This graph is not $3-$colorable, by taking for example the subgraph
\begin{center}
    \begin{tikzpicture}[scale=3]
        \begin{scope}[rotate=16.78]
            \node[vtx] (a1) at (0,0) {};
            \node[vtx] (a2) at (-.577350269,-1) {};
            \node[vtx] (a3) at (.577350269,-1) {};
            \node[vtx] (a4) at (0,-2) {};
        \end{scope}
        \begin{scope}[rotate=-16.78]
            \node[vtx] (b1) at (0,0) {};
            \node[vtx] (b2) at (-.577350269,-1) {};
            \node[vtx] (b3) at (.577350269,-1) {};
            \node[vtx] (b4) at (0,-2) {};
        \end{scope}
        \draw (a1) -- (a2) -- (a4) -- (a3) -- (a1);
        \draw (a2) -- (a3);
        \draw (b1) -- (b2) -- (b4) -- (b3) -- (b1);
        \draw (b2) -- (b3);
        \draw (a4) -- (b4);
    \end{tikzpicture}
\end{center}
Recently there was a construction showing that the graph is not $4-$colourable, and there is an easy upper bound of $7$, so that $5\leq \chi(G)\leq 7$.

We also define the notion of a list colouring:
\begin{definition}
    A list assignment is an assignment of a set $L(v)$ of colors to each vertex $v$.
    Then a graph is $k-$list-colorable if you can always colour $V(G)$ whenever every vertex has a list of size at least $k$.
\end{definition}
Note that $\chi(G)\leq\chi_\ell(G)$ since asssigning an identical list of size $k$ is a valid list assignmnet and yields a standard coloring.
In many cases list colorings can be hard to determine, but in some cases the exact value is known.
Consider the complete bipartite graph $K_{k,q}$ where $q\geq k$.
We then have the following classification:
\begin{proposition}
    $\chi_\ell(K_{k,q})\leq k$ if and only if $q<k^k$, and $\chi_\ell(K_{k,q})=k+1$ if and only if $q\geq k^k$.
\end{proposition}
\begin{proof}
    Note that $\chi_\ell(K_{k,q})\leq k+1$ always works by taking arbitrary colors on the $k-$side, and on the $q-$side, since the lists have size $k$, there is always a distinct color.

    Now $q<k^k$.
    Try to color the $k$ vertices such that two vertices have the same color.
    If this works, then for every list of size $k$ on the $q-$side, there are only $k-1$ disallowed colours, so we may choose a valid color from the corresponding list.
    Otherwise, every vertex on the $k-$side has a distinct color; this is forced precisely when all the lists are disjoint.
    But then since $q<k^k$, there must be some selection of colors from the lists on the $k-$side such that the set of colors is distinct from every list on the $q-$side, and we may choose colors from the $q-$side without issue.

    Otherwise if $q\geq k^k$, consider lists given by disjoint sets on the $k-$side, and then for every possible assignment of colors on the $k-$side, give a corresponding list for some vertex of the $q-$side that contains a list with those colors.
    Since $q\geq k^k$, we will exhaust all possibilities, so there is no valid coloring from those lists.
\end{proof}
Recall that a planar graph $G$ is one for which there exists an embedding of $G$ into the plane such that each edge is a disjoint curve.
Note that it suffices to consider edges which are polygonal curves, which consist of a finite number of straight line segments; in fact we can also do it with straight line segments (requiring that the graph is simple).
\begin{theorem}[Thomassen]
    If $G$ is planar, then $\chi_\ell(G)\leq 5$.
\end{theorem}
In fact, we prove a stronger statement.
We call an ``almost-triangulation'' a planar drawing in which every face except possibly the infinite face is a triangle.
We prove this: let $w$ be a given almost-triangulation with lists of available colour $L(v)$ assigned to every vertex $v$ such that
\begin{enumerate}[nl]
    \item $|L(v)|=5$ for all vertices that are not on the infinite face,
    \item two neighbouring vertices of the infinite face, $a$ and $b$ are colored distinctly,
    \item and all other vertices of the infinite face have lists of 3 colours.
\end{enumerate}
Then this almost-triangulation has a proper list colouring with respect to the given lists.

This implies the theorem since any planar drawing can be made an almost-triangulation by adding edges, and 5-element lists can be reduced to lists of the size above.
\begin{proof}
    We consider two cases in an induction proof.
    \begin{enumerate}[nolistsep]
        \item There is a ``long diagonal'' connecting two of the vertices of the infinite face (that is not an edge of the infinite face).
        \item There is no long diagonal.
    \end{enumerate}
    The induction is on the number of vertices.
    When $n=1,2$ it is trivial, and when $n=3$ it is a 3-cycle and it is certainly fine.

    Now for the induction step, we have the two cases.
    \begin{enumerate}
        \item Cut the graph along the long diagonal to get $G_1,G_2$.
            Without loss of generality, $G_1$ is exactly as described in the statement, so it can be properly list coloured from the given lists.
            Then give the endpoints of the copied long diagonal in $G_2$ so that the endpoint colours are fixed; and by induction, colour it as well.
            Since the endpoints have the same colouring, we can put the two coloured graphs back together to obtain a proper list colouring of $G$.
        \item Let $u\in V(G)$ be the neighbour of $a$ on the infinite face different from $b$.
            Consider the neighbourhood of $u$, $N(u)=\{a,w,v_1,v_2,\ldots,v_k\}$ where $w$ is on the infinite face different from $a$.
            We have $|L(w)|=3$ and $|L(v_i)|=5$ for all $i=1,\ldots,k$ since there is no long diagonal.
            Choose two different colours $\gamma$ and $\Delta$ in $L(u)\setminus\{\alpha\}$; they certainly exist since $|L(u)|=3$.
            Delete $\gamma$ and $\delta$ from all the lists of vertices in $\{v_1,\ldots,v_k\}$, and then by induction we can list colour $G\setminus\{u\}$ from the modified lists.
            This can be extended to a list colouring of $G$ since $u$ shares no colour in its list with any $\{v_1,\ldots,v_k\}$, and at least one of $\delta$ or $\gamma$ will not be used in $w$.
    \end{enumerate}
\end{proof}

$n-$connected means if you remove any $n$ vertices, the graph remains connected

Take $K_4$, and have lists with colours $1,2,3,4$ (or any graph which is uniquely $4-$colorable).
Inscribe a triangle in each face with lists $\{1,2,4,5\}$, $\{1,3,4,5\}$, $\{2,3,4,5\}$.
Always align so that the degree 3 vertex is adjacent to the $1,2$ and $1,3$.
\begin{theorem}[Gr\"otsch]
    If $G$ is planar with girth at least 4, then $\chi(G)\leq 3$ and $\chi_\ell\leq 4$.
\end{theorem}
If $G$ is planar with $n$ vertices and $e$ edges, then $e\leq 3n-6$ so that $\delta\leq 5$.
If $G$ is planar with $n$ vertices and $e$ edges with girth 4, then $e\leq 2n-4$ so $\delta\leq 3$.
This gives an easy proof of the list colouring value.
\begin{theorem}
    Let $G$ be planar with girth at least 5.
    Then $\chi_\ell(G)\leq 3$.
\end{theorem}
\begin{proof}
    Suppose $G$ is a planar graph with girth at least 5 such that
    \begin{enumerate}[nl]
        \item There are at most 6 pre-colored vertices on the outer face which form a path or a cycle (edges need not be on the outer face),
        \item there are some vertices with $|L(u)|=2$ on the outer face boundary, and
        \item There are no edges joining vertices with $|L(v)|<3$ except for those in (1)
    \end{enumerate}
    We will prove by induction on $|V(G)|$.
    Assume that $G$ is a minimal counterexample.
    Then
    \begin{enumerate}[nl]
        \item $|V(G)|\leq 3$
        \item $G$ is connected
        \item Outer face bounded by a cycle
        \item No cut vertex in the graph ($G$ is 2-connected); outer cycle has $C$
        \item $C$ has no chord
        \item No separating cycle with at most 6 vertices
        \item Pre-coloured path/cycle is a non-empty path (can just remove an edge)
        \item No path of length 2 inside $C$ except (see paper)
        \item No path of length 3 inside $C$ except starting at a list-$2$-vertex
        \item The precolored path $P$ and the outer cycle $C$ has $|V(C)|\leq|V(P)|+2$.
    \end{enumerate}


    We will allow some precolored vertices which form a path or cycle with at most 6 vertices (edges can be chords), and some vertices with $|L(u)|=2$, all on the outer face boundary.
    Except for edges in this path/cycle, there are no other edges joining vertices with $|L(u)|< 3$.
    All other vertices have at least 3 available colors.
\end{proof}
\begin{theorem}[Gr\"otsch]
    If $G$ is planar with girth at least 4, then $\chi(G)\leq 3$.
\end{theorem}
\begin{proof}
    If there is no 4-cycle, we are done by the previous theorem.
    If $G$ contains no 4-cycle, we may simply add a 4-cycle artifically by adding edges.

    Note that we may even precolor a 4-cycle or 5-cycle.
    Then that coloring can be extended to $G$.
    Suppose $G$ is a minimal counterexample.
    First note that there is no separating 4 or 5 cycle: otherwise, one can colour the interior and exterior of the cycle.
    Thus assume the precolored cycle is on the boundary.
    If there is another separating 4 or 5 cycle inside.
    Then colour the outer face by induction, then the inner face.

    Let $C$ be a 4-cycle in $G$, and $C$ is facial.
    If $C$ is pre-colored, we have a problem: we can assume $C\neq C_0$, for if not, delete an edge in $C_0$ and refer to the original case.
    In this case, we may ...
\end{proof}
\begin{proposition}
    The following are equivalent:
    \begin{enumerate}[nl,r]
        \item $\chi(G)\leq 3$
        \item There exists an orientation of $G$ such that all cycles are balanced modulo 3
        \item There exists an orientation of $G$ such that all closed walks are balanced modulo 3
    \end{enumerate}
\end{proposition}
\begin{proof}
    \imp{iii}{ii} is immediate.

    To see \imp{ii}{iii}, we can simply take the orientation from (ii).
    If a closed walk is not a cycle, it has a repeated vertex, and we can verify that the walk is balanced on each component.

    For \imp{i}{ii}, we must simply orient the edges such that $0->1$, $1->2$, $2->3$

    For \imp{iii}{i}, colour some vertex 0.
    Then for any other vertex, take a path connecting the vertices and walk along the path by adding one for every forward traversal, and subtract one for each backwards traversal, modulo 3.
    If there are multiple paths, then the multiple paths would form a walk which is balanced modulo 3, so the lengths must be the same.
\end{proof}
\begin{definition}
    A \textbf{cut} in a graph.
    Partition the vertex set into two pieces.
    Then a cut is the set of edges between the two vertex sets.
    A \textbf{minimal cut} is a cut containing no other cuts.
\end{definition}
Note that a cut is minimal if and only if each side of the cut is connected.
If $G$ is planar, then the dual graph is formed as follows: each face becomes a vertex, and the vertices are joined by an edge if the corresponding faces are adjacent.
The number of edges is unchanged, and the number of vertices and faces swaps.

Given an orientation on the original graph, we can pass the orientation to the dual graph by setting the orientation anticlockwise relative to the intersection.
Let $E\subseteq E(G)$.
Then $E$ is a minimal cut in $G$ if and only if $E^*$ is a cycle, and $E$ is a cycle in $G$ if and only if $E^*$ is a minimal cut in $G^*$.

Assume $G$ is planar.
If $G$ is 4-edge-connected, then each cut has at least 4 edges, $G^*$ has girth at least 4, then $\chi(G^*)\leq 3$, then the following equivalent things hold:
\begin{enumerate}[nl,r]
    \item $G^*$ has an orientation so that all cycles are balanced modulo 3
    \item $G$has an orientation such that all cuts are balanced modulo 3
    \item $G$ has an orientation such that $d^+(v)\equiv d^-(v)$ modulo 3
\end{enumerate}
\begin{conjecture}[Tutte]
    If $G$ is 4-edge-connected, then there exists an orientation on $G$ such that all degrees are balanced modulo 3.
\end{conjecture}
Currently proven for 6-edge-connected.
If $G$ is 4-edge connected, then there exists an orientation on $G$ and a flow 1 or 2 on each edge such that at each vertex the inflow equals the outflow.
This is equivalent to the conjecture by reversing the orientation for all edges which have flow 2, or by simply placing flow 1 on every edge in the graph.

In fact, one can remove the modular condition.
Assume each edge has a flow 1 or 2 or 3 or 4, and assume that each inflow is equivalen to the out flow modulo 5.

\begin{proposition}
    If $G$ is planar and 4-edge-onnected, then there exists an orientation such that $G$ is balanced modulo 3.
\end{proposition}
\begin{proposition}
    If $G$ is cubic and 3-edge-connected, there exists an orientation which is balanced modulo 3 if and only if $G$ is bipartite.
\end{proposition}
Does there exists an orientation on $G$ such that $G$ is balanced modulo $k$?
Or such that each vertex $v$ has out degree $p(v)$ modulo $k$?

If the second holds for every $p$ and $k$ is odd, then the first holds.
Let $v$ be a vertex with degree $d(v)$; we want that $d^+(v)\cong d^-(v)$, in other words that $2d^+(v)\cong d(v)\pmod{k}$, s
\begin{equation*}
    \frac{k-1}{2}\cdot 2d^+(v)\cong\frac{k-1}{2} d(v)\Rightarrow d^+(v)\cong\frac{-(k-1)}{2} d(v)
\end{equation*}

Suppose $k=2$.
Here's a necessary condition: then $|E(G)|=\sum_{v\in V(G)}d^+(v)\cong\sum_{v\in V(G)}p(v)$, modulo 2.
In fact, if $G$ is connected and $\sum_{v\in V(G)}p(v)\cong|E(G)$, then such an orientation exists.
Do do this, fix any orientation.
If there is a vertex which does not satisfy the requirements, by parity, there must be some other vertex which does not satisfy the requirements.
Take a path connecting the vertices and flip all the edges, repeating until the graph is balanced.
\begin{conjecture}[Jaeger]
    If $G$ is 1000-edge-connected, then there exists an orientation on $G$ balanced modulo 3.
\end{conjecture}
This has been proven in the affirmative for 8-edge-connected, then 6-edge-connected.
It is enough to prove this for 5.
\begin{conjecture}[Jaeger]
    If $G$ is $(2k-2)-$edge-connected, then there exists an orientation on $G$ that is balanced modulo $k$ if $k$ is odd.
\end{conjecture}
It has been shown that if there is a $(2k^2+2)-$edge-connected graph, then there exists an orientation on $G$ with any out degrees modulo $k$, also true for $k$ is even.
If $G$ is $(3k-3)-$edge connected, then the same holds, but only for $k$ odd.

Suppose $G$ is 4-edge-connected: then there exists an orientation of $G$ balanced modulo 4.
This is equivalent to the 3-flow conjecture.
Given an orientation balanced modulo 3, by a previous exercise, we can also balance each vertex modulo $k$ for any $k$.

If $k=5$, the statement says that $G$ is 8-edge-connected implies $G$ is balanced modulo 5.

Let $G$ be 2-edge-connected, then there exists an orientation on $G$ with flow values on $\{1,2,3,4\}$ such that the inflow and the outflow are equal for all $v\in V(G)$.
It suffices to verify this for cubic 3-connected graphs.
Note that for cubic graphs, the edge and vertex connectivity are the same.
$k$ connected means there are $k$ internally vertex disjoint paths, and $k-$edge-connected means there are $k$ internally edge disjoint paths.

\begin{example}
    Assume the 5-flow-conjecture holds for $G$ cubic 3-connected.
    Then prove that it holds for $G$ 2-edge-connected.
    There's a couple cases: if there is a vertex of degree 2 with edges going to the same vertex, simply add the same flow value going in and out.
    If there is a vertex of degree 2 with edges going to distinct edges, simply merge the edges, apply induction, and then apply the flow assigned to that edge to both pieces.

    If there is a vertex with degree large, remove two of the edges so as not to create a bridge, and apply the same argument.
    What happens if we have all vertex of degree 3?
    We need to deal with the case where $G$ is 2-edge connected.
    Isolate the pair of edges $e_1$ and $e_2$.
    First close the loops, and then multiply the flows or perhaps re-orient so that the edges agree.

    Now assume $G$ is cubic and 3-edge-connected.
    Then take the graph and replace every edge by 3 edges to get some $G'$ that is 9-edge-connected.
    Therefore, by the result above (Jaeger with $k=5$), it has an orientation that is balanced modulo 5.
    Then replace each triple of edges with the oriented net sum of the number of edges.
\end{example}
\begin{example}
    $K_8$ is 7-edge-connected nad has no orientation balanced modulo 5.
\end{example}
Let's consider factors modulo $k$.
A $d$-factor is a spanning subgraph of $G$ such that every vertex of the subgraph has degree $d$.
\begin{theorem}
    Let $G$ be bipartite with bipartition $V(G)=A\cup B$ with $V(G)=\{v_1,\ldots,v_n\}$.
    For every $v_i$, let $d_i$ be a natural number.
    We want a spanning subgraph of $H\subseteq G$ such that $d_H(v_i)\cong d_i\pmod{k}$ where $k$ is odd.
    Then $H$ exists if $G$ is $(3k-3)-$edge connected and $\sum_{v_i\in A}d_i\cong\sum_{v_i\in B}d_i\pmod{k}$.
\end{theorem}
\begin{proof}
    Apply the $(3k-3)$ result, and assign the function $p(v_i)=d_i$ for $v_i\in A$ and $p(v_j)=d(v_j)-d_j$ for $v_j\in B$.
    Certainly $\sum_{v_i\in V(G)}p_i\cong|E(G)|$ modulo $k$ by the modular summation condition on the $d_i$.
    Then we simply take all $A->B$ edges.
\end{proof}
Recall that if $G$ is 9-edge-connected, then there exists an orientation on $G$ balanced modulo $5$.
We've shown that if $G$ is 9-edge-connected, then Tutte's 5-flow theorem follows.
Jaeger conjectured that this in fact holds for 8-edge-connected graphs.

\begin{example}
    Which $K_n$ have an orientation balanced modulo 5?
    If $n$ is odd, this always works, since then all the vertex degrees have even degree, and we can simply use an eulerian tour.
    Now $K_8$ is 7-edge connected, and does not have an orientation balanced modulo 5.

    We can write $7=7+0=6+1=5+2=4+3$; and if $K_8$ is balanced modulo 5, then all $d^+(v),d^-(v)\in\{1,6\}$.
    If such an orientation exists, we must have 4 with out degree 6, and 4 with out degree 1 by counting flows.
    But then on the $d^+=1$ side, the sum of the out degrees is 4, but it must be at least 6 (by counting internal vertices).

    We can do $K_{10}$: partition into copies of $K_5$, make each balanced modulo 5, and then add all edges from one side to the other with the same orientation.
    We can also generalize this, by adding two vertices.
\end{example}
Let $G$ be bipartite with $N(G)=A\cup B$.
Set $V(G)=\{v_1,\ldots,v_n\}$, with $d_1,d_2,\ldots,d_n\in\N$.
Then we want to find $G\supseteq H$ such that $d_H(v_i)\equiv d_i\pmod{k}$ where $\sum_{v_i\in A}d_i=\sum_{v_i\in B}d_i$.
This is always doable if $G$ is $(3k-3)-$edge connected (for $k$ odd), else $G$ is $(2k^2+k)-$edge-connected that $k$ is even.

Let $G$ be a graph and partition $G$ into sides $A$ and $B$ such that the number edges between them is maximal.
Let $H$ be the graph induced by the maximum cut edges, so that $H$ is bipartite.
Then the following properties hold:
\begin{enumerate}[nl,r]
    \item $d_H(v)\geq\frac{1}{2}d_G(v)$.
    \item $|E(H)|\geq\frac{1}{2}|E(G)|$
    \item If $G$ is $(2k-1)-$edge connected, then $H$ is $k-$edge-connected.
\end{enumerate}
How to see this?
If $v\in B\subseteq V(G)$ is a given vertex, then the number of edges in the cut must be at least as large as the number of internal edges from $v$ on side $A$ (or we could swap $v$ to the other side and get a better cut).
This shows (i) and (ii).
To show (iii), suppose $H$ is not $k-$edge-connected ... (see paper).
\begin{theorem}
    Let $k\in\N$, and $G$ a $(6k-7)-$edge connected connected graph with $k$ odd.
    Let $V(G)=\{v_1,\ldots,v_n\}$ and $d_1,\ldots,d_n\in\N$ given.
    We wish to find $H\subseteq G$ such that $d_H(v_i)\cong d_i\pmod{k}$.
    This can be done if for every partition $V(G)=A\cup B$, $\sum_{v_i}\in A d_i\cong\sum_{v_i\in B}d_i\pmod{k}$.
\end{theorem}
\begin{proof}
    By the previous arguments, there exists some $H'\subseteq G$ with $H'$ bipartite and $(3k-3)-$edge connectivity, and apply the previous result with $H'\supseteq H$ satisfying the result.
\end{proof}
\begin{conjecture}
    If $G$ is simple and $4-$regular, then $G$ contains a 3-regular subgraph.
\end{conjecture}
If $|E(G)|>2|V(G)|$, then $G\supseteq H$ all vertices degree equivalent to 0 modulo 3 where $H$ has nonempty edge set.

Suppose $G$ is $4-$regular, perhaps with multiple edges.
Then $G$ with an extra edge contains a 3-regular subgraph.

Now consider the previous theorem where all $d_i=k$, and we work modulo $2k$.
If $G$ is $[2(2(2k)^2+2k)-1]-$edge-connected with $|V(G)|$ even, then $G\supseteq H$ has all degrees congruent to $k$ modulo $2k$.

\section{Group Valued Flows}
Find an orientation on $G$ such that $G$ is almost balanced.
There exists some small $\epsilon>0$ such that $E(A,B)\leq(1+\epsilon) E(B,A)$ ($E(A,B)$ is number of oriented edges from $A$ to $B$) and $E(B,A)\leq (1+\epsilon)E(A,B)$.
Given an abelian group $\Gamma$ and $F\subseteq\Gamma$, and $G$ is a graph.
We want an $F-$flow in $G$, in other words that each edge $e$ gets some $g\in G$ such that the sum of the in flow is equal to the sum of the out flow.

If $G$ is 6-edge-connected, then $G$ has a $\{1,2\}-$flow.
If $G$ is 2-edge connected, then $G$ has a $\{1,2,3,4,5\}-$flow.

Let $f(F,\Gamma)$ denote the smallest $k$ such that every $k-$edge connected has an $F-$flow.
For example, if $F=\{1,3\}\subseteq\Z$, this is not always possible.
But we do have
\begin{theorem}
    $f(F,\Gamma)$ exists if and only if the odd sum condition holds.
\end{theorem}
The odd sum condition is the statement that it is possible to have a sum of an even number of elements and a sum of an odd number of elements have equal value.

Recall:
\begin{itemize}[nl]
    \item 5-flow conjecture: if $G$ if 2-edge-connected, then there exists a flow with values $1,2,3,4$
    \item 3-flow-conjecture: if $G$ is 4-edge-connected, then there exists a flow with values $1,2$
    \item $(2+\epsilon)$-flow-conjecture: if $G$ is $\alpha(\epsilon)$-edge-connected, then there exists a flow with values $[1,1+\epsilon]$
\end{itemize}
To have a flow with only 1, graph must be Eulerian.

If $G$ is 3-edge-connected, the $(2+\epsilon)$ flow need not exist (for example, with a 3-strut: two components with 3 edges joining them).

Let $c(x,y)$ denote the number of edge-disjoint paths from $x$ to $y$ (the \textbf{local edge connectivity}).
\begin{theorem}[Mader Lifting]
    Let $G$ be a graph and $v$ a vertex with neighbours.
    Fix a neighbour of $v$ such that $d(v)\geq 4$, $w,w'$ and remove the edges $\{v,w\}$ and $\{v,w'\}$ and add the edge $\{w,w'\}$.
    This is called a lift.

    The lifting can be chosen such that all $c(x,y)$, $x\neq y$, $x\neq y$, $y\neq v$.
\end{theorem}
\begin{proof}
    TODO
\end{proof}
Let $\Gamma$ be an abelian group and $F\subseteq\Gamma$.
Then a $F-$flow is an assignment of $g\in F$ to each $v\in V(G)$ such that the sum of the ingoing edges is equal to the sum of the outgoing edges.
\begin{theorem}
    Suppose $F$ satisfies the odd-sum condition; in other words, there exists $a_i,b_i\in F$ so that $a_1+\cdots+a_{2p}=b_1+\cdots+b_{2q+1}$.
    Then there exists a function $f(F,\Gamma)\leq 3k-1$ where $k=2p+2q+1$ such that every $f(F,\Gamma)-$edge-connected graph has an $F-$flow.
\end{theorem}
\begin{proof}
    By induction on $|E(G)|$.
    First suppose $|V(G)|=2$.
    If there are an even number of vertices, choose half the orientations in either direction and take the same element of $F$ on all edges.
    If $|E(G)|$ is odd, then there are at least $3k-1$ edges, so take $k$ and use the odd-sum identity and use the even trick as before.

    Select a vertex $v$.
    Suppose $v$ has a neighbour $w$ such that there are multiple edges.
    Then repeatedly lift pairs of edges until there is only one pair of vertices left, which will have an even number of edges between them.
    Then color $G\setminus\{v\}$ inductively, and add back the pairs (if $\deg(v)$ is even).
    For the induction, use Mader's trick (1) if there is a vertex with even degree.

    If there is a vertex with odd degree, apply Mader's trick to two neighbours.
    But then the induction only fails if there is a vertex with degree precisely $3k$.
    Fix an orientation of $G$ such that all vertices have out-degree 0, modulo $k$.
    Then there are three cases: the out degree is $0$, $k$, $2k$, or $3k$.

    We can reduce this to the case where every vertex has in-degree $k$ or out-degree $k$.
    But then $G$ is bipartite (sorting by in or out degree).

    Let $G$ be bipartite and $k-$regular: then $G=M_1\cup M_2\cup\cdots\cup M_k$ where each $M_i$ is a perfect matching (by Hall's theorem repeatedly).
    But then write $\{1,\ldots,k\}=\{a_1,\ldots,a_{2q},-b_1,\ldots,-b_{2q+1}\}$ and apply that flow to each edge in $M_k$, and we are done.
\end{proof}
\begin{theorem}[Seymour]
    If $G$ is $2-$edge-connected, then $G$ has a $(\Gamma\setminus\{0\})$-flow for $|\Gamma|\geq 6$.
\end{theorem}
If $|\Gamma|\geq 3$, then take $a+a=2a$ or if $a+a=0$ or all $a$, then $a+b=c$.
If $G$ is $8-$edge-connected, then $G$ has a $\Gamma-$flow using only $a,2a$.

To see the $(2+\epsilon)$ conjecture, take $\Gamma=\R$ and $F=\{1,1+1/k\}$.
Then
\begin{equation*}
    \underbrace{1+1+\cdots+1}_{k+1} = \underbrace{(1+1/k)+\cdots+(1+1/k)}_k
\end{equation*}
If $G$ is $6k-$edge-connected, then $G$ has a $(1,1+1/k)-$flow, and the conjecture follows with $f(\epsilon)=6/\epsilon$.
\subsection{Almost balanced orientation}
Take a $1,1+1/k$ flow, and ignore the flows values (keep only the orientation).
Take an arbitrary cut $A,B$, and let $E(A,B)$ denote the number of edges from side $A$ to side $B$.
Then
\begin{equation*}
    |E(A,B)|\leq|A\to B\text{ flow}|=|B\to A\text{ flow}|\leq\left(1+\frac{1}{k}\right)|E(B,A)|
\end{equation*}
and likewise in reverse; thus, it gives an almost-balanced orientation.

Identify $\R^2=\C$, and consider the group $R_3=\{z:z^3=1\}$.
\begin{theorem}
    $G$ has a $\{1,2\}-$flow if and only if $G$ has an $R_3-$flow.
\end{theorem}
\begin{proof}
    Assume that $G$ has a $\{1,2\}-$flow; we prove the claim by induction on the number of edges.
    Fix a vertex $v$.
    If $v$ has an incoming flow of $\alpha$ and an outgoing flow of $\alpha$, then we lift the two edges and use induction.
    The only other case is that all incoming edges have flow $2$ and all outgoing edges have flow $1$.
    Then there are twice as many outgoing edges as incoming edges, so we may separate the vertex into multiple vertices such that each incoming edge is 2 and the pair of outgoing edges is 1.
    Then the edges of flow 2 form a perfect matching, and the edges of flow 1 form a 2-factor (which is a disjoint collection of cycles), where the edges in the cycle alternate in direction.
    Then we give flow $1\in R_3$ to the edges with flow 2, and alternate labels $e^{\pm\frac{2\pi i}{3}}$ on the cycle.
    Re-identifying vertices preserves the incoming and outgoing flow, so we are done.

    Conversely, in the case when an incoming and outgoing flow are the same, we use the same argument as above.
    Arguing by sign, this forces such a vertex to either have all incoming or all outgoing edges.
    Then each of $1$, $e^{2\pi i/3}$, and $e^{2\pi i/3}$ must occur the same number of times.
    But then we can separate the graph into a cubic bipartite graph, which therefore has a $1,2-$flow.
\end{proof}
\begin{theorem}
    If $G$ is a cubic graph, then the following are equivlent:
    \begin{enumerate}[nl,r]
        \item $G$ has a $\{1,2\}-$flow
        \item $G$ has a $R_3-$flow
        \item $G$ has an $S^1-$flow
        \item $G$ is bipartite
    \end{enumerate}
\end{theorem}
Assume $G$ is cubic and has an $S^1-$flow.
Re-orienting edges and changing sign (which preserves a $S^1-$element), we can guarantee that the flow only uses the 3 roots of unity.

However, the implication (iii) implies (ii) does not work in general.
If $G$ is planar, then $G$ has an $R_3-$flow if and only if $G^*$ has chromatic number at most 3 (this is Grotsch's theorem).
Let's show that $G$ has an $S^1-$flow if and only if a homomorphic image of $G^*\subseteq U$ where $U$ is a unit distance graph.

Assume $G$ has an $S^1-$flow, and let $e$ be an edge from $x$ to $y$ with flow $g\in S^1$.
Then on the dual graph, we rotate the orientation counterclockwise and keep the same flow.
Fix some vertex $x^*$ and assert $x^*$ is at $(0,0)$.
Now take $v^*$, and a flow from $x^*$ to $v^*$, and place $v^*$ at $g_1+g_2-g_3+g_4$.
This is well-defined since the cycles in the dual graph are balanced.
The reverse construction certainly works as well.

Now consider some dual graph $G^*$.
If $G^*\subseteq U$, then $G$ has an $S^1-$flow.
However if $\chi(G^*)\geq 4$, then $G$ has no $R_3-$flow.

... TODO: draw this dual graph explicitly (from one of the first classes), give the $S^1$ flow.
Also: connection to list colouring.

Recall that $R_k=\{z\in\C:z^k=1\}$.
\begin{itemize}[nl]
    \item If there exists an orintation of $G$ balanced modulo 3, then $G$ has an $R_3-$flow.
    \item$G$ has an orientation balanced modulo 3 if and only if $G$ has a $\{1,2\}-$flow in $\Z$ or $\Z_3$.
    \item Conjecture of Kamal Jain: $f(S^1,\R^2)=4$, $f(S^2,\R^3)=2$.
    \item Tutte 3-flow implies conjecture of Jain
\end{itemize}
If there exists a balanced orientation modulo $k$, then $G$ has an $R_k-$flow.
\begin{proof}
    Induction.
    The base case is straightforward (two vetices with a number of edges).
    Thus take a vertex $v$ with some incoming edge and outgoing edge.
    Then one can lift the edge, and use induction ...
\end{proof}
\begin{proposition}
    If $G$ has an $R_5-$flow, then there exists an orientation balanced modulo 5.
\end{proposition}
\begin{proof}
    Assume $G$ has an $R_5-$flow.
    As before, assume we have a vertex $v$ with an incoming and outgoing edge with the same flow; then we lift those edges and replace the flow and use induction.
    Thus we assume that all vertices $v$ have all outgoing edges with flow distinct from all incoming flow...
\end{proof}

Let $T$ denote the set of all vectors in $\R^3$ with one 0 and two $\pm 1$.
\begin{theorem}
    $G$ has a $T-$flow if and only if $G=H_1\cup H_2\cup H_3$ such that every edge is covered twice and every vertex of $H_i$ has even degree.
    Furthermore, if $G$ is cubic, then the following are equivalent:
    \begin{enumerate}[nl,r]
        \item $G$ has a $T-$flow
        \item $G=M_1\cup M_2\cup M_3$ where each $M_i$ is a perfect matching.
        \item $G$ is 3-edge-colourable
        \item $G$ is class 1 (Vizing theorem, +1 case)
    \end{enumerate}
\end{theorem}
\begin{proof}
    \begin{center}
        \begin{tikzpicture}[d/.style={decoration={markings,mark=at position 0.5 with {\arrow{>}}},postaction={decorate}},scale=2]
            \node[vtx] (a) at (0,0) {};
            \node[vtx] (b) at (1,0.5) {};
            \node[vtx] (c) at (2,0) {};
            \node[vtx] (d) at (1,-0.5) {};
            \path[]
                (a) edge[d] (b)
                (b) edge[d] (c)
                (c) edge[d] (d)
                (d) edge[d] (a)
                (b) edge[d] (d);
        \end{tikzpicture}
    \end{center}
    Given $H_1\cup H_2\cup H_3$, to each edge, assign $(a_1,a_2,a_3)$ where
    \begin{equation*}
        a_i =
        \begin{cases}
            1 &: e\in H_i\text{ with the same orientation}\\
            -1 &:e\in H_i\text{ with the opposite orientation}\\
            0 &: e\notin H_i
        \end{cases}
    \end{equation*}
    clearly this has exactly two $\pm 1$ and that the edge sums work.

    Conversely, let
    \begin{align*}
        H_1 &= \{e:\text{first coordinate is $\pm 1$}\}\\
        H_1 &= \{e:\text{second coordinate is $\pm 1$}\}\\
        H_1 &= \{e:\text{third coordinate is $\pm 1$}\}
    \end{align*}

    Now suppose $G$ is cubic.
    If $G$ is a union of perfect matchings, take $M_1\cup M_2$, $M_1\cup M_3$, $M_2\cup M_3$.
    Conversely, take $M_i=E(G)\setminus E(H_i)$.
\end{proof}
Note that this also shows that if we have a graph covering, then we have an $S^2-$flow (scale $T-$flow by $\sqrt{2}$).
\begin{theorem}
    Suppose $G$ is $(3k-1)-$edge-connected.
    Then $G$ is covered by $k$ even graphs such that every edge is covered precisely $k-1$ times.
\end{theorem}
\begin{proof}
    Let $\Z_2^k=\Z_2\times\cdots\times \Z_2$, and let $F$ be the set of all vectors with precisely one 0.
    Suppose $G$ has an $F-$flow; then take $H_i$ composed of the edges in $E(G)$ where the $i-$th coordinate is 1.
\end{proof}
\begin{theorem}
    Every 2-edge-connected planar graph $G$ has a $T-$flow.
\end{theorem}
\begin{proof}
    Consider $G$, so that $G^*$ is 4-colorable.
    Assign every color to the vertex of the tetrahedron, and place the vertices on these corners.
    Then given some edge $(x^*,y^*)\in E(G^*)$, give the edge the flow equal to the vector corresponding to the edge of the tetrahedron.
\end{proof}

Recall:
\begin{conjecture}
    If $G$ is 4-edge-connected, it contains an $R_3$-flow.
\end{conjecture}
This conjecture is equivalent to Tutte's 3-flow conjecture.
\begin{conjecture}
    If $G$ is 8-edge-connected (or maybe 9-edge-connected), it contains an $R_5$-flow.
\end{conjecture}
This conjecture implies Tutte's 5-flow conjecture.
Is there some kind of converse?

To prove the 5-flow conjecture, it is sufficient to consider cubic graphs which are 3-connected.

\begin{proposition}
    If $G$ has a $(\Gamma\setminus\{0\})-$flow (NZ $\Gamma-$flow) and if $|\Gamma'|\geq|\Gamma|$, then $G$ has a NZ $\Gamma'-$flow.
\end{proposition}
Let $f(G,\Gamma)$ denote the number of NZ $\Gamma-$flows (allowing $G$ to have loops and multiple edges).
Fix a non-loop edge $e$, and consider the graphs $G/e$ (edge contraction) and $G-e$.
We can then generate a bijection ... TODO: type
But then $f(G/e,\Gamma)=f(G,\Gamma)+f(G-e,\Gamma)$.
Futhermore, for the base case, let $G$ be a graph with $1$ vertex and $q$ loops.
But then $\Gamma(G,\Gamma)=(|\Gamma|-1)^q$.

Now if $G$ has a $\Gamma-$flow, then $G$ has a NZ $\Z_n-$flow, so $G$ has a $\{1,2,\ldots,n-1\}-$flow, so $G$ has a NZ $Z_{n'}$-flow for any $n'\geq n$.

What happens if $\Gamma'$ is infinite?
If it contains an infinite copy of $\Z$, we are certainly done; otherwise, $G'$ finite groups of arbitrary large size, and we stop when we have a subgroup of size at least $|\Gamma|$.

\begin{proposition}
    If $G$ is 4-edge-connected, then $G$ contains two edge-disjoint spanning trees.
\end{proposition}
If $G$ is 3-edge-connected, this is not true (except for small base cases).
For example, if $G$ must have at least $2n-2$ edges, while if $G$ is cubic, then $G$ has $3n/2$ edges.

\begin{proof}
    To do this, we use Mader's lifting theorem.
\end{proof}
\begin{corollary}
    More generally, if $G$ is $2k-$edge-connected, then $G$ contains $k$ edge-disjoint spanning trees.
\end{corollary}
\begin{proof}
    We prove this by induction on $|E(G)|$.
    Delete $e$ if possible such that $G-e$ is $2k-$edge-connected, and use induction.
    Thus assume no such edge exists.
    Using the proposition below, there exists some vertex $v$ with degree $2k$.
    Then apply Mader's lifting theorem to remove the vertex, and get $k$ loops which is $2k-$edge-connected.
    By induction, get $k$ edge-disjoint spanning trees.
    If each edge from the lift has a distinct tree, then we are done.
    Otherwise, suppose some pair of edges in the lift has the same tree.
\end{proof}
\begin{proposition}
    Consider the case when $G$ is minimally $k-$edge-connected.
    Then $\delta(G)=k$.
\end{proposition}
\begin{proof}
    For any edge $e$, there is a cut $(A,B)$ containing $e$ of size $k$.
    In particular, choose $(A,B)$ such that one size of the cut $B$ has minimal size.
    If $|B|=1$, then the result follows.
    Otherwise, $|B|>1$ so $B$ must have some internal edge $e'$
    Now take another cut containing $e'$ of minimal size.
    ... see paper
\end{proof}
\begin{proposition}
    Let $A\subseteq V(T)$ such that $|A|$ is even.
    Then there exists some pairing of $A$ and edge disjoint paths betwen those elements.
\end{proposition}
\begin{proof}
    By induction.
    If there is some leaf $v$ not in $A$, remove $v$ and apply induction.
    Otherwise, every leaf is in $A$, so select an arbitrary one, and look at its neighbour in $T$.
    If its neighbour is not in $A$, remove $v$, and label its neighbour and apply induction.
    If its neighbour is in $A$, connect the two and apply induction to the rest of $G$.
\end{proof}
\begin{corollary}
    Let $G$ be 4 edge connected, so $G$ contains $T_1,T_2$ edge-disjoint spanning trees.
    Then $G-E(T_1)$ is connected, and for each odd degree vertex, add a path in $T_1$ joining odd degree vertex.
    Then this graph is even and connected (hence Eulerian).
\end{corollary}
\begin{corollary}
    If $G$ is 4-edge-connected, then $G=H_1\cup H_2$ where each $H_i$ is even.
    Then $G$ has a nowhere zero 4-flow.
\end{corollary}

We say $H\subseteq G$ is an $r-$factor in $G$ if $V(H)=V(G)$ and $H$ is $R-$regular.
Suppose $r=p\cdot q$ and $G$ is $r-$regular.
In this case, is $G$ a union of a $p$ $q-$factors?

\begin{proposition}
    Next time, we will show that $G$ is $6-$edge-connected and 9-regular implies that $G$ is a union of 3 3-factors, and similarly for 4-edge-connected (if the 3-flow conjecture is true).
\end{proposition}
\begin{proposition}
    Let $G$ be a planar $2-$connected graph.
    Then the following are equivalent:
    \begin{enumerate}[nl,r]
        \item If $G$ is cubic, then $G=M_1\cup M_2\cup M_3$ where $M_i$ are 1-factors.
        \item $G$ is 4-colourable.
        \item If $G$ is 9-regular, then $G=F_1\cup F_2\cup F_3$ where $F_i$ are 3-regular.
\end{proposition}
\begin{proof}
    \imp{i}{ii}
    Assume the 4 color theorem.
    Color the faces with colours from $K_4$ (Klein 4-group), then for any edge in $G$, colour it equal to the sum of adjacent elements on the faces.
    But then this is a valid 3-coloring, since the sum of distinct elements of $K_4$ is 0 precisely when the elements are the same, and no two edges of the same face can be coloured the same.

    \imp{ii}{i}
    Conversely, suppose $G=M_1\cup M_2\cup M_3$.
    Consider $M_1\cup M_2$, which is a 2-factor and hence a collection of disjoint cycles.
    This $G$ gets a face coloring using colors 0 and 1, with $C_1(p)$.
    Repeat with $M_1\cup M_3$ and get $C_2(p)$.
    Then set $C(p)=(C_1(p),C_2(p))$.

    \imp{iii}{ii}
    Let $G$ be planar cubic 2-edge-connected.
    Take each vertex $v$ with edges $e_1,e_2,e_3$ and expand the vertex into three vertices each with 4 edges connecting them, and apply (iii) to this graph.
    Then precisely one of $e_1,e_2,e_3$ is contained in some distinct 3-factor $F_i$.
    Color that edge $i$.
\end{proof}
\begin{proposition}
    Let $G$ be planar and 2-edge-connected.
    Then the edges of $G$ can be colored with $\{1,2,3\}$ and $c_1(v),c_2(v),c_3(v)$ (the color count for each vertex $v$) are all equal or two are equal and the third differs by $\pm 2$.
\end{proposition}
\begin{proof}
    Assume not.
    Consider the following conditions:
    \begin{enumerate}[nl,r]
        \item The number of blocks (piece with no cut vertex) is minimum
        \item The number of vertex degrees not equivalent to 0 mod 3 is minimal
        \item The sum of the vertex degrees greater than 3 is minimal
        \item Number of edges is minimal
    \end{enumerate}

    Let $G_0$ be 2-connected and minimal with respect to the above conitions.
    Let's determine some properties of $G_0$.
    \begin{enumerate}[nl]
        \item If there are blocks, separate and apply induction, permuting the colors in one of the components of necessary.
            Thus the number of blocks is 1
        \item Let $v$ be a vertex with degree not 0 modulo 3.
            If $v$ has degree 7, separate the vertex into a pair $v_1,v_2$ (degrees 2 and 5) and with an additional edge between $v_1,v_2$.
            Then the number of blocks is unchanged, and the number of not 0 modulo 3 degrees goes down, so we may apply induction.
            If $v$ has degree 5, separate the vertex into a pair $v_1,v_2$ (degrees 1 and 4), with 2 additional edges, and repeat the same process.
            Every possible degree falls into one of these degrees.
            Thus, every vertex has degree equivalent to 0 modulo 3.
        \item A least one vertex has degree at least 6.
        \item $G$ is 3-edge connected; if not, get a bridge with 2 edges, do the standard swap.
        \item For all $x$ of degree at least 3, there exists $y$ such that $\{x,y\}$ is a 2-vertex-cut.
            Suppose some vertex $x$ has degree at least $n\geq 6$.
            Then separate into a vertex $x'$ with degree 3 and $x''$ with degree $n-3$.
            Suppose the number of blocks is now 2.
            Then there exists some vertex $y$ such that every $x'$ to $x''$ path contains $y$.
        \item Every vertex has at least 3 neighbours.
    \end{enumerate}
\end{proof}
\begin{proposition}
    We have the following increasing sequence of dependencies:
    \begin{enumerate}[nl]
        \item If $G$ is 4-edge-connected.
        \item $G$ contains two edge-disjoint spanning trees.
        \item $G\supseteq H_1\cup H_2$ where $H_i$ are eulerian
        \item $G=H_1\cup H_2\cup H_3$ such $H_i$ is even and every edge is covered twice.
        \item There is a cycle double cover (collection of cycles)
        \item $L(G)$ is Hamiltonian
        \item $G$ has an $S^2-$flow.
    \end{enumerate}
\end{proposition}
\begin{proof}
    We show 3 implies 4.
    Put $E(H_3)$ as the symmetric difference of $E(H_1)$ and $E(H_2)$.
\end{proof}
If $G$ is 40-regular, can $G$ be factorized into 5 $8-$factors?
Yes: if $G$ is $2k-$regular, can decompose into $k$ $2-$factors (take an Euler walk and split the vertices into 2, with all the out weight or all the in-weight).
\begin{theorem}
    Let $r=k\cdot q$ where $q$ is odd.
    \begin{enumerate}[nl,r]
        \item Suppose $k$ is odd, $G$ is $r-$regular, and $(3k-3)-$edge-connected.
            Then we can factor $G$ into $k$ $q-$factors.
        \item If $k$ is even, the same holds with $(2k^2+k)-$edge-connected and $|V(G)|$ is even.
    \end{enumerate}
\end{theorem}
\begin{proof}
    Recall if $k$ is odd and $G$ is $(3k-3)-$connected, then $G$ has an orientation with prescribed out-degree modulo $k$ (given degree constraints, which are satisfied when $|V(G)|$ is even).
    Moreover, if $G$ has odd edge connectivity at least $3k-2$, then $G$ has an orientation balanced modulo $k$.

    Fix a vertex $v$ with in-degree $\alpha$ and out-degree $\beta$.
    Then $\alpha\cong\beta\pmod{k}$ and $\alpha+\beta\cong 0\pmod{k}$, so $\alpha\cong 0\pmod{k}$ and $\beta\cong 0\pmod{k}$.
    Thus we can split each vertex at $\alpha$ and $\beta$ ...
\end{proof}
If $G$ is a $9-$reglar graph with odd edge connectivity at least $7$, then $G=F_1\cup F_2\cup F_3$ where the $F_i$ are $3-$factors.
If Tutte's 3-flow holds, we may take $5$ instead.
\begin{proposition}
    Let $n\equiv 3\pmod{6}$.
    Then for any $s_1,\ldots,s_k$ with $s_i\geq 2$ and $\sum_{i=1}^k s_i=n$, $G$ can be factorized into $k$ factors $M_1,\ldots,M_k$ where each $M_i$ is $s_i-$regular.
\end{proposition}
\begin{proof}
    Let $o_1,\ldots,o_\ell$ and $e_1,\ldots,e_m$ enumerate $s_i$ with $o_i$ odd and $e_i$ even.
    Get $G$ as a union of $r/3$ $3-$factors, and identify ...
\end{proof}
Let $G$ have $\Delta(G)\leq r$, with $r=r_1+\cdots+r_m$ and $r_i\geq 2$ satisfying the same conditions as the previous proposition.
Then there is a decomposition $G=G_1\cup\cdots\cup G_m$ where $\Delta(G_i)\leq r_i$.

\begin{theorem}
    If $G$ is 2-edge-connected, then $G$ has a flow with values $\{1,2,\ldots,7\}$.
\end{theorem}
\begin{proof}
    Since $G$ is 2-edge-connected, let's first see that $G=H_1\cup H_2\cup H_3$ where each $H_i$ is even.
    By induction.
    \begin{enumerate}[nl,r]
        \item If a vertex has degree $2$, flatten the vertex and apply induction.
        \item If $G$ has a vertex with degree at least 4, lift some pair of vertices and apply induction.
        \item If $G$ is cubic and $2-$connected, fold the bridge (standard technique) and merge the pieces by induction
        \item Finally, if $G$ is cubic and 3-connected, double every edge to get a 6-edge-connected, and thus contains three 3 edge disjoint spanning trees $T_1,T_2,T_3$.
            Return the trees to $G$, and set $H_1=G-E(T_1)$, and for each edge $e$, there is some tree not containing $e$.

    Then on each $H_i$, pick an orientation on the cycles and assign values $\pm 1$ on $H_1$, $\pm 2$ on $H_2$, and $\pm 4$ on $H_3$.
    Flip the orientations on edges with negative values.
\end{proof}

\end{document}


